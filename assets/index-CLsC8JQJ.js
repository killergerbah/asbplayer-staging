var TA=Object.defineProperty;var RA=(t,e,r)=>e in t?TA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Il=(t,e,r)=>RA(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dg={exports:{}},Nl={},fg={exports:{}},xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function OA(){if(mx)return xr;mx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function S(N,L,W){this.props=N,this.context=L,this.refs=v,this.updater=W||y}S.prototype.isReactComponent={},S.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function x(){}x.prototype=S.prototype;function k(N,L,W){this.props=N,this.context=L,this.refs=v,this.updater=W||y}var C=k.prototype=new x;C.constructor=k,b(C,S.prototype),C.isPureReactComponent=!0;var R=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(N,L,W){var X,Y={},ce=null,ee=null;if(L!=null)for(X in L.ref!==void 0&&(ee=L.ref),L.key!==void 0&&(ce=""+L.key),L)_.call(L,X)&&!O.hasOwnProperty(X)&&(Y[X]=L[X]);var fe=arguments.length-2;if(fe===1)Y.children=W;else if(1<fe){for(var le=Array(fe),de=0;de<fe;de++)le[de]=arguments[de+2];Y.children=le}if(N&&N.defaultProps)for(X in fe=N.defaultProps,fe)Y[X]===void 0&&(Y[X]=fe[X]);return{$$typeof:t,type:N,key:ce,ref:ee,props:Y,_owner:T.current}}function j(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function M(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return L[W]})}var z=/\/+/g;function I(N,L){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):L.toString(36)}function $(N,L,W,X,Y){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var ee=!1;if(N===null)ee=!0;else switch(ce){case"string":case"number":ee=!0;break;case"object":switch(N.$$typeof){case t:case e:ee=!0}}if(ee)return ee=N,Y=Y(ee),N=X===""?"."+I(ee,0):X,R(Y)?(W="",N!=null&&(W=N.replace(z,"$&/")+"/"),$(Y,L,W,"",function(de){return de})):Y!=null&&(F(Y)&&(Y=j(Y,W+(!Y.key||ee&&ee.key===Y.key?"":(""+Y.key).replace(z,"$&/")+"/")+N)),L.push(Y)),1;if(ee=0,X=X===""?".":X+":",R(N))for(var fe=0;fe<N.length;fe++){ce=N[fe];var le=X+I(ce,fe);ee+=$(ce,L,W,le,Y)}else if(le=p(N),typeof le=="function")for(N=le.call(N),fe=0;!(ce=N.next()).done;)ce=ce.value,le=X+I(ce,fe++),ee+=$(ce,L,W,le,Y);else if(ce==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ee}function K(N,L,W){if(N==null)return N;var X=[],Y=0;return $(N,X,"","",function(ce){return L.call(W,ce,Y++)}),X}function U(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var G={current:null},B={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:B,ReactCurrentOwner:T};return xr.Children={map:K,forEach:function(N,L,W){K(N,function(){L.apply(this,arguments)},W)},count:function(N){var L=0;return K(N,function(){L++}),L},toArray:function(N){return K(N,function(L){return L})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xr.Component=S,xr.Fragment=r,xr.Profiler=i,xr.PureComponent=k,xr.StrictMode=n,xr.Suspense=c,xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,xr.cloneElement=function(N,L,W){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var X=b({},N.props),Y=N.key,ce=N.ref,ee=N._owner;if(L!=null){if(L.ref!==void 0&&(ce=L.ref,ee=T.current),L.key!==void 0&&(Y=""+L.key),N.type&&N.type.defaultProps)var fe=N.type.defaultProps;for(le in L)_.call(L,le)&&!O.hasOwnProperty(le)&&(X[le]=L[le]===void 0&&fe!==void 0?fe[le]:L[le])}var le=arguments.length-2;if(le===1)X.children=W;else if(1<le){fe=Array(le);for(var de=0;de<le;de++)fe[de]=arguments[de+2];X.children=fe}return{$$typeof:t,type:N.type,key:Y,ref:ce,props:X,_owner:ee}},xr.createContext=function(N){return N={$$typeof:s,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},xr.createElement=D,xr.createFactory=function(N){var L=D.bind(null,N);return L.type=N,L},xr.createRef=function(){return{current:null}},xr.forwardRef=function(N){return{$$typeof:u,render:N}},xr.isValidElement=F,xr.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:U}},xr.memo=function(N,L){return{$$typeof:h,type:N,compare:L===void 0?null:L}},xr.startTransition=function(N){var L=B.transition;B.transition={};try{N()}finally{B.transition=L}},xr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},xr.useCallback=function(N,L){return G.current.useCallback(N,L)},xr.useContext=function(N){return G.current.useContext(N)},xr.useDebugValue=function(){},xr.useDeferredValue=function(N){return G.current.useDeferredValue(N)},xr.useEffect=function(N,L){return G.current.useEffect(N,L)},xr.useId=function(){return G.current.useId()},xr.useImperativeHandle=function(N,L,W){return G.current.useImperativeHandle(N,L,W)},xr.useInsertionEffect=function(N,L){return G.current.useInsertionEffect(N,L)},xr.useLayoutEffect=function(N,L){return G.current.useLayoutEffect(N,L)},xr.useMemo=function(N,L){return G.current.useMemo(N,L)},xr.useReducer=function(N,L,W){return G.current.useReducer(N,L,W)},xr.useRef=function(N){return G.current.useRef(N)},xr.useState=function(N){return G.current.useState(N)},xr.useSyncExternalStore=function(N,L,W){return G.current.useSyncExternalStore(N,L,W)},xr.useTransition=function(){return G.current.useTransition()},xr.version="18.0.0-fc46dba67-20220329",xr}var vx;function Ht(){return vx||(vx=1,fg.exports=OA()),fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function AA(){if(yx)return Nl;yx=1;var t=Ht(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,h){var f,g={},p=null,y=null;h!==void 0&&(p=""+h),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)n.call(c,f)&&!a.hasOwnProperty(f)&&(g[f]=c[f]);if(u&&u.defaultProps)for(f in c=u.defaultProps,c)g[f]===void 0&&(g[f]=c[f]);return{$$typeof:e,type:u,key:p,ref:y,props:g,_owner:i.current}}return Nl.Fragment=r,Nl.jsx=s,Nl.jsxs=s,Nl}var bx;function IA(){return bx||(bx=1,dg.exports=AA()),dg.exports}var E=IA(),Yd={},pg={exports:{}},ri={},hg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function NA(){return xx||(xx=1,function(t){function e(B,H){var N=B.length;B.push(H);e:for(;0<N;){var L=N-1>>>1,W=B[L];if(0<i(W,H))B[L]=H,B[N]=W,N=L;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var H=B[0],N=B.pop();if(N!==H){B[0]=N;e:for(var L=0,W=B.length,X=W>>>1;L<X;){var Y=2*(L+1)-1,ce=B[Y],ee=Y+1,fe=B[ee];if(0>i(ce,N))ee<W&&0>i(fe,ce)?(B[L]=fe,B[ee]=N,L=ee):(B[L]=ce,B[Y]=N,L=Y);else if(ee<W&&0>i(fe,N))B[L]=fe,B[ee]=N,L=ee;else break e}}return H}function i(B,H){var N=B.sortIndex-H.sortIndex;return N!==0?N:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],h=[],f=1,g=null,p=3,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=B)n(h),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(h)}}function R(B){if(v=!1,C(B),!b)if(r(c)!==null)b=!0,U(_);else{var H=r(h);H!==null&&G(R,H.startTime-B)}}function _(B,H){b=!1,v&&(v=!1,x(D),D=-1),y=!0;var N=p;try{for(C(H),g=r(c);g!==null&&(!(g.expirationTime>H)||B&&!M());){var L=g.callback;if(typeof L=="function"){g.callback=null,p=g.priorityLevel;var W=L(g.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?g.callback=W:g===r(c)&&n(c),C(H)}else n(c);g=r(c)}if(g!==null)var X=!0;else{var Y=r(h);Y!==null&&G(R,Y.startTime-H),X=!1}return X}finally{g=null,p=N,y=!1}}var T=!1,O=null,D=-1,j=5,F=-1;function M(){return!(t.unstable_now()-F<j)}function z(){if(O!==null){var B=t.unstable_now();F=B;var H=!0;try{H=O(!0,B)}finally{H?I():(T=!1,O=null)}}else T=!1}var I;if(typeof k=="function")I=function(){k(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=z,I=function(){K.postMessage(null)}}else I=function(){S(z,0)};function U(B){O=B,T||(T=!0,I())}function G(B,H){D=S(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,U(_))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var N=p;p=H;try{return B()}finally{p=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var N=p;p=B;try{return H()}finally{p=N}},t.unstable_scheduleCallback=function(B,H,N){var L=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,B={id:f++,callback:H,priorityLevel:B,startTime:N,expirationTime:W,sortIndex:-1},N>L?(B.sortIndex=N,e(h,B),r(c)===null&&B===r(h)&&(v?(x(D),D=-1):v=!0,G(R,N-L))):(B.sortIndex=W,e(c,B),b||y||(b=!0,U(_))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var H=p;return function(){var N=p;p=H;try{return B.apply(this,arguments)}finally{p=N}}}}(gg)),gg}var wx;function FA(){return wx||(wx=1,hg.exports=NA()),hg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function MA(){if(Sx)return ri;Sx=1;var t=Ht(),e=FA();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function p(o){return c.call(g,o)?!0:c.call(f,o)?!1:h.test(o)?g[o]=!0:(f[o]=!0,!1)}function y(o,l,d,w){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return w?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,l,d,w){if(l===null||typeof l>"u"||y(o,l,d,w))return!0;if(w)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(o,l,d,w,P,A,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=w,this.attributeNamespace=P,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=A,this.removeEmptyString=V}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new v(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(x,k);S[l]=new v(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(x,k);S[l]=new v(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(x,k);S[l]=new v(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,l,d,w){var P=S.hasOwnProperty(l)?S[l]:null;(P!==null?P.type!==0:w||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,P,w)&&(d=null),w||P===null?p(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):P.mustUseProperty?o[P.propertyName]=d===null?P.type===3?!1:"":d:(l=P.attributeName,w=P.attributeNamespace,d===null?o.removeAttribute(l):(P=P.type,d=P===3||P===4&&d===!0?"":""+d,w?o.setAttributeNS(w,l,d):o.setAttribute(l,d))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),B=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var N=Object.assign,L;function W(o){if(L===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);L=l&&l[1]||""}return`
`+L+o}var X=!1;function Y(o,l){if(!o||X)return"";X=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ee){var w=Ee}Reflect.construct(o,[],l)}else{try{l.call()}catch(Ee){w=Ee}o.call(l.prototype)}else{try{throw Error()}catch(Ee){w=Ee}o()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var P=Ee.stack.split(`
`),A=w.stack.split(`
`),V=P.length-1,J=A.length-1;1<=V&&0<=J&&P[V]!==A[J];)J--;for(;1<=V&&0<=J;V--,J--)if(P[V]!==A[J]){if(V!==1||J!==1)do if(V--,J--,0>J||P[V]!==A[J]){var oe=`
`+P[V].replace(" at new "," at ");return o.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",o.displayName)),oe}while(1<=V&&0<=J);break}}}finally{X=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?W(o):""}function ce(o){switch(o.tag){case 5:return W(o.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function ee(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case T:return"Portal";case j:return"Profiler";case D:return"StrictMode";case I:return"Suspense";case $:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case z:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return l=o.displayName||null,l!==null?l:ee(o.type)||"Memo";case U:l=o._payload,o=o._init;try{return ee(o(l))}catch{}}return null}function fe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function de(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pe(o){var l=de(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),w=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var P=d.get,A=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return P.call(this)},set:function(V){w=""+V,A.call(this,V)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return w},setValue:function(V){w=""+V},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function he(o){o._valueTracker||(o._valueTracker=pe(o))}function ke(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),w="";return o&&(w=de(o)?o.checked?"true":"false":o.value),o=w,o!==d?(l.setValue(o),!0):!1}function Re(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _e(o,l){var d=l.checked;return N({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function et(o,l){var d=l.defaultValue==null?"":l.defaultValue,w=l.checked!=null?l.checked:l.defaultChecked;d=le(l.value!=null?l.value:d),o._wrapperState={initialChecked:w,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Me(o,l){l=l.checked,l!=null&&C(o,"checked",l,!1)}function De(o,l){Me(o,l);var d=le(l.value),w=l.type;if(d!=null)w==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(w==="submit"||w==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ge(o,l.type,d):l.hasOwnProperty("defaultValue")&&Ge(o,l.type,le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function gt(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var w=l.type;if(!(w!=="submit"&&w!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Ge(o,l,d){(l!=="number"||Re(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var yt=Array.isArray;function ht(o,l,d,w){if(o=o.options,l){l={};for(var P=0;P<d.length;P++)l["$"+d[P]]=!0;for(d=0;d<o.length;d++)P=l.hasOwnProperty("$"+o[d].value),o[d].selected!==P&&(o[d].selected=P),P&&w&&(o[d].defaultSelected=!0)}else{for(d=""+le(d),l=null,P=0;P<o.length;P++){if(o[P].value===d){o[P].selected=!0,w&&(o[P].defaultSelected=!0);return}l!==null||o[P].disabled||(l=o[P])}l!==null&&(l.selected=!0)}}function Oe(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return N({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ie(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(yt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:le(d)}}function We(o,l){var d=le(l.value),w=le(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),w!=null&&(o.defaultValue=""+w)}function mt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Be(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Be(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Pe,Q=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,w,P){MSApp.execUnsafeLocalFunction(function(){return o(l,d,w,P)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Pe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Et(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(o){st.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Tt[l]=Tt[o]})});function Z(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Tt.hasOwnProperty(o)&&Tt[o]?(""+l).trim():l+"px"}function ie(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var w=d.indexOf("--")===0,P=Z(d,l[d],w);d==="float"&&(d="cssFloat"),w?o.setProperty(d,P):o[d]=P}}var rt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function se(o,l){if(l){if(rt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function te(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var me=null;function be(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var xe=null,ze=null,ot=null;function Ue(o){if(o=ml(o)){if(typeof xe!="function")throw Error(r(280));var l=o.stateNode;l&&(l=sd(l),xe(o.stateNode,o.type,l))}}function ct(o){ze?ot?ot.push(o):ot=[o]:ze=o}function _t(){if(ze){var o=ze,l=ot;if(ot=ze=null,Ue(o),l)for(o=0;o<l.length;o++)Ue(l[o])}}function Vt(o,l){return o(l)}function He(){}var Zt=!1;function gr(o,l,d){if(Zt)return o(l,d);Zt=!0;try{return Vt(o,l,d)}finally{Zt=!1,(ze!==null||ot!==null)&&(He(),_t())}}function Xe(o,l){var d=o.stateNode;if(d===null)return null;var w=sd(d);if(w===null)return null;d=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ce=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Ce=!1}function jt(o,l,d,w,P,A,V,J,oe){var Ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,Ee)}catch(qe){this.onError(qe)}}var Ze=!1,wt=null,Nt=!1,lr=null,pr={onError:function(o){Ze=!0,wt=o}};function wr(o,l,d,w,P,A,V,J,oe){Ze=!1,wt=null,jt.apply(pr,arguments)}function Br(o,l,d,w,P,A,V,J,oe){if(wr.apply(this,arguments),Ze){if(Ze){var Ee=wt;Ze=!1,wt=null}else throw Error(r(198));Nt||(Nt=!0,lr=Ee)}}function _r(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function yr(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function br(o){if(_r(o)!==o)throw Error(r(188))}function mr(o){var l=o.alternate;if(!l){if(l=_r(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,w=l;;){var P=d.return;if(P===null)break;var A=P.alternate;if(A===null){if(w=P.return,w!==null){d=w;continue}break}if(P.child===A.child){for(A=P.child;A;){if(A===d)return br(P),o;if(A===w)return br(P),l;A=A.sibling}throw Error(r(188))}if(d.return!==w.return)d=P,w=A;else{for(var V=!1,J=P.child;J;){if(J===d){V=!0,d=P,w=A;break}if(J===w){V=!0,w=P,d=A;break}J=J.sibling}if(!V){for(J=A.child;J;){if(J===d){V=!0,d=A,w=P;break}if(J===w){V=!0,w=A,d=P;break}J=J.sibling}if(!V)throw Error(r(189))}}if(d.alternate!==w)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Rr(o){return o=mr(o),o!==null?Pr(o):null}function Pr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Pr(o);if(l!==null)return l;o=o.sibling}return null}var vr=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,Hr=e.unstable_shouldYield,$r=e.unstable_requestPaint,ur=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,Lr=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,ve=e.unstable_LowPriority,kt=e.unstable_IdlePriority,lt=null,Kt=null;function Jt(o){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(lt,o,void 0,(o.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:pt,dr=Math.log,Sn=Math.LN2;function pt(o){return o>>>=0,o===0?32:31-(dr(o)/Sn|0)|0}var Ke=64,Ae=4194304;function bt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ir(o,l){var d=o.pendingLanes;if(d===0)return 0;var w=0,P=o.suspendedLanes,A=o.pingedLanes,V=d&268435455;if(V!==0){var J=V&~P;J!==0?w=bt(J):(A&=V,A!==0&&(w=bt(A)))}else V=d&~P,V!==0?w=bt(V):A!==0&&(w=bt(A));if(w===0)return 0;if(l!==0&&l!==w&&!(l&P)&&(P=w&-w,A=l&-l,P>=A||P===16&&(A&4194240)!==0))return l;if(w&4&&(w|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=w;0<l;)d=31-Pt(l),P=1<<d,w|=o[d],l&=~P;return w}function zr(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(o,l){for(var d=o.suspendedLanes,w=o.pingedLanes,P=o.expirationTimes,A=o.pendingLanes;0<A;){var V=31-Pt(A),J=1<<V,oe=P[V];oe===-1?(!(J&d)||J&w)&&(P[V]=zr(J,l)):oe<=l&&(o.expiredLanes|=J),A&=~J}}function Ar(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Vr(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function sn(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Pt(l),o[l]=d}function Se(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var w=o.eventTimes;for(o=o.expirationTimes;0<d;){var P=31-Pt(d),A=1<<P;l[P]=0,w[P]=-1,o[P]=-1,d&=~A}}function ut(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var w=31-Pt(d),P=1<<w;P&l|o[w]&l&&(o[w]|=l),d&=~P}}var nt=0;function $t(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var or,ye,ae,Fe,je,q=!1,Ve=[],vt=null,ne=null,$e=null,Ye=new Map,St=new Map,dt=[],nn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pn(o,l){switch(o){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":ne=null;break;case"mouseover":case"mouseout":$e=null;break;case"pointerover":case"pointerout":Ye.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(l.pointerId)}}function xi(o,l,d,w,P,A){return o===null||o.nativeEvent!==A?(o={blockedOn:l,domEventName:d,eventSystemFlags:w,nativeEvent:A,targetContainers:[P]},l!==null&&(l=ml(l),l!==null&&ye(l)),o):(o.eventSystemFlags|=w,l=o.targetContainers,P!==null&&l.indexOf(P)===-1&&l.push(P),o)}function Ho(o,l,d,w,P){switch(l){case"focusin":return vt=xi(vt,o,l,d,w,P),!0;case"dragenter":return ne=xi(ne,o,l,d,w,P),!0;case"mouseover":return $e=xi($e,o,l,d,w,P),!0;case"pointerover":var A=P.pointerId;return Ye.set(A,xi(Ye.get(A)||null,o,l,d,w,P)),!0;case"gotpointercapture":return A=P.pointerId,St.set(A,xi(St.get(A)||null,o,l,d,w,P)),!0}return!1}function tb(o){var l=oo(o.target);if(l!==null){var d=_r(l);if(d!==null){if(l=d.tag,l===13){if(l=yr(d),l!==null){o.blockedOn=l,je(o.priority,function(){ae(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Wp(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var w=new d.constructor(d.type,d);me=w,d.target.dispatchEvent(w),me=null}else return l=ml(d),l!==null&&ye(l),o.blockedOn=d,!1;l.shift()}return!0}function rb(o,l,d){Gc(o)&&d.delete(l)}function JR(){q=!1,vt!==null&&Gc(vt)&&(vt=null),ne!==null&&Gc(ne)&&(ne=null),$e!==null&&Gc($e)&&($e=null),Ye.forEach(rb),St.forEach(rb)}function nl(o,l){o.blockedOn===l&&(o.blockedOn=null,q||(q=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JR)))}function il(o){function l(P){return nl(P,o)}if(0<Ve.length){nl(Ve[0],o);for(var d=1;d<Ve.length;d++){var w=Ve[d];w.blockedOn===o&&(w.blockedOn=null)}}for(vt!==null&&nl(vt,o),ne!==null&&nl(ne,o),$e!==null&&nl($e,o),Ye.forEach(l),St.forEach(l),d=0;d<dt.length;d++)w=dt[d],w.blockedOn===o&&(w.blockedOn=null);for(;0<dt.length&&(d=dt[0],d.blockedOn===null);)tb(d),d.blockedOn===null&&dt.shift()}var Uo=R.ReactCurrentBatchConfig;function QR(o,l,d,w){var P=nt,A=Uo.transition;Uo.transition=null;try{nt=1,Vp(o,l,d,w)}finally{nt=P,Uo.transition=A}}function eO(o,l,d,w){var P=nt,A=Uo.transition;Uo.transition=null;try{nt=4,Vp(o,l,d,w)}finally{nt=P,Uo.transition=A}}function Vp(o,l,d,w){var P=Wp(o,l,d,w);if(P===null)oh(o,l,w,Xc,d),Pn(o,w);else if(Ho(P,o,l,d,w))w.stopPropagation();else if(Pn(o,w),l&4&&-1<nn.indexOf(o)){for(;P!==null;){var A=ml(P);if(A!==null&&or(A),A=Wp(o,l,d,w),A===null&&oh(o,l,w,Xc,d),A===P)break;P=A}P!==null&&w.stopPropagation()}else oh(o,l,w,null,d)}var Xc=null;function Wp(o,l,d,w){if(Xc=null,o=be(w),o=oo(o),o!==null)if(l=_r(o),l===null)o=null;else if(d=l.tag,d===13){if(o=yr(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Xc=o,null}function nb(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sr()){case Lr:return 1;case Te:return 4;case ft:case ve:return 16;case kt:return 536870912;default:return 16}default:return 16}}var Ra=null,qp=null,Yc=null;function ib(){if(Yc)return Yc;var o,l=qp,d=l.length,w,P="value"in Ra?Ra.value:Ra.textContent,A=P.length;for(o=0;o<d&&l[o]===P[o];o++);var V=d-o;for(w=1;w<=V&&l[d-w]===P[A-w];w++);return Yc=P.slice(o,1<w?1-w:void 0)}function Zc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Jc(){return!0}function ab(){return!1}function li(o){function l(d,w,P,A,V){this._reactName=d,this._targetInst=P,this.type=w,this.nativeEvent=A,this.target=V,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(d=o[J],this[J]=d?d(A):A[J]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Jc:ab,this.isPropagationStopped=ab,this}return N(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),l}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hp=li(Ko),al=N({},Ko,{view:0,detail:0}),tO=li(al),Up,Kp,ol,Qc=N({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ol&&(ol&&o.type==="mousemove"?(Up=o.screenX-ol.screenX,Kp=o.screenY-ol.screenY):Kp=Up=0,ol=o),Up)},movementY:function(o){return"movementY"in o?o.movementY:Kp}}),ob=li(Qc),rO=N({},Qc,{dataTransfer:0}),nO=li(rO),iO=N({},al,{relatedTarget:0}),Gp=li(iO),aO=N({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),oO=li(aO),sO=N({},Ko,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lO=li(sO),uO=N({},Ko,{data:0}),sb=li(uO),cO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pO(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=fO[o])?!!l[o]:!1}function Xp(){return pO}var hO=N({},al,{key:function(o){if(o.key){var l=cO[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Zc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?dO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(o){return o.type==="keypress"?Zc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),gO=li(hO),mO=N({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lb=li(mO),vO=N({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),yO=li(vO),bO=N({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),xO=li(bO),wO=N({},Qc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),SO=li(wO),kO=[9,13,27,32],Yp=u&&"CompositionEvent"in window,sl=null;u&&"documentMode"in document&&(sl=document.documentMode);var CO=u&&"TextEvent"in window&&!sl,ub=u&&(!Yp||sl&&8<sl&&11>=sl),cb=" ",db=!1;function fb(o,l){switch(o){case"keyup":return kO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Go=!1;function EO(o,l){switch(o){case"compositionend":return pb(l);case"keypress":return l.which!==32?null:(db=!0,cb);case"textInput":return o=l.data,o===cb&&db?null:o;default:return null}}function _O(o,l){if(Go)return o==="compositionend"||!Yp&&fb(o,l)?(o=ib(),Yc=qp=Ra=null,Go=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ub&&l.locale!=="ko"?null:l.data;default:return null}}var PO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!PO[o.type]:l==="textarea"}function gb(o,l,d,w){ct(w),l=id(l,"onChange"),0<l.length&&(d=new Hp("onChange","change",null,d,w),o.push({event:d,listeners:l}))}var ll=null,ul=null;function TO(o){Nb(o,0)}function ed(o){var l=Qo(o);if(ke(l))return o}function RO(o,l){if(o==="change")return l}var mb=!1;if(u){var Zp;if(u){var Jp="oninput"in document;if(!Jp){var vb=document.createElement("div");vb.setAttribute("oninput","return;"),Jp=typeof vb.oninput=="function"}Zp=Jp}else Zp=!1;mb=Zp&&(!document.documentMode||9<document.documentMode)}function yb(){ll&&(ll.detachEvent("onpropertychange",bb),ul=ll=null)}function bb(o){if(o.propertyName==="value"&&ed(ul)){var l=[];gb(l,ul,o,be(o)),gr(TO,l)}}function OO(o,l,d){o==="focusin"?(yb(),ll=l,ul=d,ll.attachEvent("onpropertychange",bb)):o==="focusout"&&yb()}function AO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ed(ul)}function IO(o,l){if(o==="click")return ed(l)}function NO(o,l){if(o==="input"||o==="change")return ed(l)}function FO(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Bi=typeof Object.is=="function"?Object.is:FO;function cl(o,l){if(Bi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),w=Object.keys(l);if(d.length!==w.length)return!1;for(w=0;w<d.length;w++){var P=d[w];if(!c.call(l,P)||!Bi(o[P],l[P]))return!1}return!0}function xb(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function wb(o,l){var d=xb(o);o=0;for(var w;d;){if(d.nodeType===3){if(w=o+d.textContent.length,o<=l&&w>=l)return{node:d,offset:l-o};o=w}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xb(d)}}function Sb(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Sb(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function kb(){for(var o=window,l=Re();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Re(o.document)}return l}function Qp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function MO(o){var l=kb(),d=o.focusedElem,w=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&Sb(d.ownerDocument.documentElement,d)){if(w!==null&&Qp(d)){if(l=w.start,o=w.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var P=d.textContent.length,A=Math.min(w.start,P);w=w.end===void 0?A:Math.min(w.end,P),!o.extend&&A>w&&(P=w,w=A,A=P),P=wb(d,A);var V=wb(d,w);P&&V&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(P.node,P.offset),o.removeAllRanges(),A>w?(o.addRange(l),o.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jO=u&&"documentMode"in document&&11>=document.documentMode,Xo=null,eh=null,dl=null,th=!1;function Cb(o,l,d){var w=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;th||Xo==null||Xo!==Re(w)||(w=Xo,"selectionStart"in w&&Qp(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),dl&&cl(dl,w)||(dl=w,w=id(eh,"onSelect"),0<w.length&&(l=new Hp("onSelect","select",null,l,d),o.push({event:l,listeners:w}),l.target=Xo)))}function td(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Yo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},rh={},Eb={};u&&(Eb=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function rd(o){if(rh[o])return rh[o];if(!Yo[o])return o;var l=Yo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Eb)return rh[o]=l[d];return o}var _b=rd("animationend"),Pb=rd("animationiteration"),Tb=rd("animationstart"),Rb=rd("transitionend"),Ob=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(o,l){Ob.set(o,l),a(l,[o])}for(var nh=0;nh<Ab.length;nh++){var ih=Ab[nh],$O=ih.toLowerCase(),LO=ih[0].toUpperCase()+ih.slice(1);Oa($O,"on"+LO)}Oa(_b,"onAnimationEnd"),Oa(Pb,"onAnimationIteration"),Oa(Tb,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(Rb,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function Ib(o,l,d){var w=o.type||"unknown-event";o.currentTarget=d,Br(w,l,void 0,o),o.currentTarget=null}function Nb(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var w=o[d],P=w.event;w=w.listeners;e:{var A=void 0;if(l)for(var V=w.length-1;0<=V;V--){var J=w[V],oe=J.instance,Ee=J.currentTarget;if(J=J.listener,oe!==A&&P.isPropagationStopped())break e;Ib(P,J,Ee),A=oe}else for(V=0;V<w.length;V++){if(J=w[V],oe=J.instance,Ee=J.currentTarget,J=J.listener,oe!==A&&P.isPropagationStopped())break e;Ib(P,J,Ee),A=oe}}}if(Nt)throw o=lr,Nt=!1,lr=null,o}function Kr(o,l){var d=l[dh];d===void 0&&(d=l[dh]=new Set);var w=o+"__bubble";d.has(w)||(Fb(l,o,2,!1),d.add(w))}function ah(o,l,d){var w=0;l&&(w|=4),Fb(d,o,w,l)}var nd="_reactListening"+Math.random().toString(36).slice(2);function pl(o){if(!o[nd]){o[nd]=!0,n.forEach(function(d){d!=="selectionchange"&&(DO.has(d)||ah(d,!1,o),ah(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[nd]||(l[nd]=!0,ah("selectionchange",!1,l))}}function Fb(o,l,d,w){switch(nb(l)){case 1:var P=QR;break;case 4:P=eO;break;default:P=Vp}d=P.bind(null,l,d,o),P=void 0,!Ce||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(P=!0),w?P!==void 0?o.addEventListener(l,d,{capture:!0,passive:P}):o.addEventListener(l,d,!0):P!==void 0?o.addEventListener(l,d,{passive:P}):o.addEventListener(l,d,!1)}function oh(o,l,d,w,P){var A=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var V=w.tag;if(V===3||V===4){var J=w.stateNode.containerInfo;if(J===P||J.nodeType===8&&J.parentNode===P)break;if(V===4)for(V=w.return;V!==null;){var oe=V.tag;if((oe===3||oe===4)&&(oe=V.stateNode.containerInfo,oe===P||oe.nodeType===8&&oe.parentNode===P))return;V=V.return}for(;J!==null;){if(V=oo(J),V===null)return;if(oe=V.tag,oe===5||oe===6){w=A=V;continue e}J=J.parentNode}}w=w.return}gr(function(){var Ee=A,qe=be(d),Lt=[];e:{var it=Ob.get(o);if(it!==void 0){var Ct=Hp,at=o;switch(o){case"keypress":if(Zc(d)===0)break e;case"keydown":case"keyup":Ct=gO;break;case"focusin":at="focus",Ct=Gp;break;case"focusout":at="blur",Ct=Gp;break;case"beforeblur":case"afterblur":Ct=Gp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=nO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=yO;break;case _b:case Pb:case Tb:Ct=oO;break;case Rb:Ct=xO;break;case"scroll":Ct=tO;break;case"wheel":Ct=SO;break;case"copy":case"cut":case"paste":Ct=lO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=lb}var ar=(l&4)!==0,Xr=!ar&&o==="scroll",ge=ar?it!==null?it+"Capture":null:it;ar=[];for(var ue=Ee,we;ue!==null;){we=ue;var Je=we.stateNode;if(we.tag===5&&Je!==null&&(we=Je,ge!==null&&(Je=Xe(ue,ge),Je!=null&&ar.push(hl(ue,Je,we)))),Xr)break;ue=ue.return}0<ar.length&&(it=new Ct(it,at,null,d,qe),Lt.push({event:it,listeners:ar}))}}if(!(l&7)){e:{if(it=o==="mouseover"||o==="pointerover",Ct=o==="mouseout"||o==="pointerout",it&&d!==me&&(at=d.relatedTarget||d.fromElement)&&(oo(at)||at[aa]))break e;if((Ct||it)&&(it=qe.window===qe?qe:(it=qe.ownerDocument)?it.defaultView||it.parentWindow:window,Ct?(at=d.relatedTarget||d.toElement,Ct=Ee,at=at?oo(at):null,at!==null&&(Xr=_r(at),at!==Xr||at.tag!==5&&at.tag!==6)&&(at=null)):(Ct=null,at=Ee),Ct!==at)){if(ar=ob,Je="onMouseLeave",ge="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(ar=lb,Je="onPointerLeave",ge="onPointerEnter",ue="pointer"),Xr=Ct==null?it:Qo(Ct),we=at==null?it:Qo(at),it=new ar(Je,ue+"leave",Ct,d,qe),it.target=Xr,it.relatedTarget=we,Je=null,oo(qe)===Ee&&(ar=new ar(ge,ue+"enter",at,d,qe),ar.target=we,ar.relatedTarget=Xr,Je=ar),Xr=Je,Ct&&at)t:{for(ar=Ct,ge=at,ue=0,we=ar;we;we=Zo(we))ue++;for(we=0,Je=ge;Je;Je=Zo(Je))we++;for(;0<ue-we;)ar=Zo(ar),ue--;for(;0<we-ue;)ge=Zo(ge),we--;for(;ue--;){if(ar===ge||ge!==null&&ar===ge.alternate)break t;ar=Zo(ar),ge=Zo(ge)}ar=null}else ar=null;Ct!==null&&Mb(Lt,it,Ct,ar,!1),at!==null&&Xr!==null&&Mb(Lt,Xr,at,ar,!0)}}e:{if(it=Ee?Qo(Ee):window,Ct=it.nodeName&&it.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&it.type==="file")var At=RO;else if(hb(it))if(mb)At=NO;else{At=AO;var qt=OO}else(Ct=it.nodeName)&&Ct.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(At=IO);if(At&&(At=At(o,Ee))){gb(Lt,At,d,qe);break e}qt&&qt(o,it,Ee),o==="focusout"&&(qt=it._wrapperState)&&qt.controlled&&it.type==="number"&&Ge(it,"number",it.value)}switch(qt=Ee?Qo(Ee):window,o){case"focusin":(hb(qt)||qt.contentEditable==="true")&&(Xo=qt,eh=Ee,dl=null);break;case"focusout":dl=eh=Xo=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Cb(Lt,d,qe);break;case"selectionchange":if(jO)break;case"keydown":case"keyup":Cb(Lt,d,qe)}var Ut;if(Yp)e:{switch(o){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Go?fb(o,d)&&(Gt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Gt="onCompositionStart");Gt&&(ub&&d.locale!=="ko"&&(Go||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Go&&(Ut=ib()):(Ra=qe,qp="value"in Ra?Ra.value:Ra.textContent,Go=!0)),qt=id(Ee,Gt),0<qt.length&&(Gt=new sb(Gt,o,null,d,qe),Lt.push({event:Gt,listeners:qt}),Ut?Gt.data=Ut:(Ut=pb(d),Ut!==null&&(Gt.data=Ut)))),(Ut=CO?EO(o,d):_O(o,d))&&(Ee=id(Ee,"onBeforeInput"),0<Ee.length&&(qe=new sb("onBeforeInput","beforeinput",null,d,qe),Lt.push({event:qe,listeners:Ee}),qe.data=Ut))}Nb(Lt,l)})}function hl(o,l,d){return{instance:o,listener:l,currentTarget:d}}function id(o,l){for(var d=l+"Capture",w=[];o!==null;){var P=o,A=P.stateNode;P.tag===5&&A!==null&&(P=A,A=Xe(o,d),A!=null&&w.unshift(hl(o,A,P)),A=Xe(o,l),A!=null&&w.push(hl(o,A,P))),o=o.return}return w}function Zo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Mb(o,l,d,w,P){for(var A=l._reactName,V=[];d!==null&&d!==w;){var J=d,oe=J.alternate,Ee=J.stateNode;if(oe!==null&&oe===w)break;J.tag===5&&Ee!==null&&(J=Ee,P?(oe=Xe(d,A),oe!=null&&V.unshift(hl(d,oe,J))):P||(oe=Xe(d,A),oe!=null&&V.push(hl(d,oe,J)))),d=d.return}V.length!==0&&o.push({event:l,listeners:V})}var BO=/\r\n?/g,zO=/\u0000|\uFFFD/g;function jb(o){return(typeof o=="string"?o:""+o).replace(BO,`
`).replace(zO,"")}function ad(o,l,d){if(l=jb(l),jb(o)!==l&&d)throw Error(r(425))}function od(){}var sh=null;function lh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,VO=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,WO=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(o){return $b.resolve(null).then(o).catch(qO)}:uh;function qO(o){setTimeout(function(){throw o})}function ch(o,l){var d=l,w=0;do{var P=d.nextSibling;if(o.removeChild(d),P&&P.nodeType===8)if(d=P.data,d==="/$"){if(w===0){o.removeChild(P),il(l);return}w--}else d!=="$"&&d!=="$?"&&d!=="$!"||w++;d=P}while(d);il(l)}function ia(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Lb(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),zi="__reactFiber$"+Jo,gl="__reactProps$"+Jo,aa="__reactContainer$"+Jo,dh="__reactEvents$"+Jo,HO="__reactListeners$"+Jo,UO="__reactHandles$"+Jo;function oo(o){var l=o[zi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[aa]||d[zi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=Lb(o);o!==null;){if(d=o[zi])return d;o=Lb(o)}return l}o=d,d=o.parentNode}return null}function ml(o){return o=o[zi]||o[aa],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Qo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function sd(o){return o[gl]||null}var fh=[],es=-1;function Aa(o){return{current:o}}function Gr(o){0>es||(o.current=fh[es],fh[es]=null,es--)}function Ur(o,l){es++,fh[es]=o.current,o.current=l}var Ia={},Nn=Aa(Ia),Yn=Aa(!1),so=Ia;function ts(o,l){var d=o.type.contextTypes;if(!d)return Ia;var w=o.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===l)return w.__reactInternalMemoizedMaskedChildContext;var P={},A;for(A in d)P[A]=l[A];return w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=P),P}function Zn(o){return o=o.childContextTypes,o!=null}function ld(){Gr(Yn),Gr(Nn)}function Db(o,l,d){if(Nn.current!==Ia)throw Error(r(168));Ur(Nn,l),Ur(Yn,d)}function Bb(o,l,d){var w=o.stateNode;if(l=l.childContextTypes,typeof w.getChildContext!="function")return d;w=w.getChildContext();for(var P in w)if(!(P in l))throw Error(r(108,fe(o)||"Unknown",P));return N({},d,w)}function ud(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ia,so=Nn.current,Ur(Nn,o),Ur(Yn,Yn.current),!0}function zb(o,l,d){var w=o.stateNode;if(!w)throw Error(r(169));d?(o=Bb(o,l,so),w.__reactInternalMemoizedMergedChildContext=o,Gr(Yn),Gr(Nn),Ur(Nn,o)):Gr(Yn),Ur(Yn,d)}var oa=null,cd=!1,ph=!1;function Vb(o){oa===null?oa=[o]:oa.push(o)}function KO(o){cd=!0,Vb(o)}function Na(){if(!ph&&oa!==null){ph=!0;var o=0,l=nt;try{var d=oa;for(nt=1;o<d.length;o++){var w=d[o];do w=w(!0);while(w!==null)}oa=null,cd=!1}catch(P){throw oa!==null&&(oa=oa.slice(o+1)),vr(Lr,Na),P}finally{nt=l,ph=!1}}return null}var GO=R.ReactCurrentBatchConfig;function Fi(o,l){if(o&&o.defaultProps){l=N({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}var dd=Aa(null),fd=null,rs=null,hh=null;function gh(){hh=rs=fd=null}function mh(o){var l=dd.current;Gr(dd),o._currentValue=l}function vh(o,l,d){for(;o!==null;){var w=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),o===d)break;o=o.return}}function ns(o,l){fd=o,hh=rs=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(ci=!0),o.firstContext=null)}function wi(o){var l=o._currentValue;if(hh!==o)if(o={context:o,memoizedValue:l,next:null},rs===null){if(fd===null)throw Error(r(308));rs=o,fd.dependencies={lanes:0,firstContext:o}}else rs=rs.next=o;return l}var Vi=null,Fa=!1;function yh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wb(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function sa(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ma(o,l){var d=o.updateQueue;d!==null&&(d=d.shared,fn!==null&&o.mode&1&&!(kr&2)?(o=d.interleaved,o===null?(l.next=l,Vi===null?Vi=[d]:Vi.push(d)):(l.next=o.next,o.next=l),d.interleaved=l):(o=d.pending,o===null?l.next=l:(l.next=o.next,o.next=l),d.pending=l))}function pd(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var w=l.lanes;w&=o.pendingLanes,d|=w,l.lanes=d,ut(o,d)}}function qb(o,l){var d=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,d===w)){var P=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var V={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?P=A=V:A=A.next=V,d=d.next}while(d!==null);A===null?P=A=l:A=A.next=l}else P=A=l;d={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:A,shared:w.shared,effects:w.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function hd(o,l,d,w){var P=o.updateQueue;Fa=!1;var A=P.firstBaseUpdate,V=P.lastBaseUpdate,J=P.shared.pending;if(J!==null){P.shared.pending=null;var oe=J,Ee=oe.next;oe.next=null,V===null?A=Ee:V.next=Ee,V=oe;var qe=o.alternate;qe!==null&&(qe=qe.updateQueue,J=qe.lastBaseUpdate,J!==V&&(J===null?qe.firstBaseUpdate=Ee:J.next=Ee,qe.lastBaseUpdate=oe))}if(A!==null){var Lt=P.baseState;V=0,qe=Ee=oe=null,J=A;do{var it=J.lane,Ct=J.eventTime;if((w&it)===it){qe!==null&&(qe=qe.next={eventTime:Ct,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var at=o,ar=J;switch(it=l,Ct=d,ar.tag){case 1:if(at=ar.payload,typeof at=="function"){Lt=at.call(Ct,Lt,it);break e}Lt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ar.payload,it=typeof at=="function"?at.call(Ct,Lt,it):at,it==null)break e;Lt=N({},Lt,it);break e;case 2:Fa=!0}}J.callback!==null&&J.lane!==0&&(o.flags|=64,it=P.effects,it===null?P.effects=[J]:it.push(J))}else Ct={eventTime:Ct,lane:it,tag:J.tag,payload:J.payload,callback:J.callback,next:null},qe===null?(Ee=qe=Ct,oe=Lt):qe=qe.next=Ct,V|=it;if(J=J.next,J===null){if(J=P.shared.pending,J===null)break;it=J,J=it.next,it.next=null,P.lastBaseUpdate=it,P.shared.pending=null}}while(!0);if(qe===null&&(oe=Lt),P.baseState=oe,P.firstBaseUpdate=Ee,P.lastBaseUpdate=qe,l=P.shared.interleaved,l!==null){P=l;do V|=P.lane,P=P.next;while(P!==l)}else A===null&&(P.shared.lanes=0);ds|=V,o.lanes=V,o.memoizedState=Lt}}function Hb(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var w=o[l],P=w.callback;if(P!==null){if(w.callback=null,w=d,typeof P!="function")throw Error(r(191,P));P.call(w)}}}var Ub=new t.Component().refs;function bh(o,l,d,w){l=o.memoizedState,d=d(w,l),d=d==null?l:N({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var gd={isMounted:function(o){return(o=o._reactInternals)?_r(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var w=qn(),P=La(o),A=sa(w,P);A.payload=l,d!=null&&(A.callback=d),Ma(o,A),l=_i(o,P,w),l!==null&&pd(l,o,P)},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var w=qn(),P=La(o),A=sa(w,P);A.tag=1,A.payload=l,d!=null&&(A.callback=d),Ma(o,A),l=_i(o,P,w),l!==null&&pd(l,o,P)},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=qn(),w=La(o),P=sa(d,w);P.tag=2,l!=null&&(P.callback=l),Ma(o,P),l=_i(o,w,d),l!==null&&pd(l,o,w)}};function Kb(o,l,d,w,P,A,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,A,V):l.prototype&&l.prototype.isPureReactComponent?!cl(d,w)||!cl(P,A):!0}function Gb(o,l,d){var w=!1,P=Ia,A=l.contextType;return typeof A=="object"&&A!==null?A=wi(A):(P=Zn(l)?so:Nn.current,w=l.contextTypes,A=(w=w!=null)?ts(o,P):Ia),l=new l(d,A),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=gd,o.stateNode=l,l._reactInternals=o,w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=A),l}function Xb(o,l,d,w){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,w),l.state!==o&&gd.enqueueReplaceState(l,l.state,null)}function xh(o,l,d,w){var P=o.stateNode;P.props=d,P.state=o.memoizedState,P.refs=Ub,yh(o);var A=l.contextType;typeof A=="object"&&A!==null?P.context=wi(A):(A=Zn(l)?so:Nn.current,P.context=ts(o,A)),P.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(bh(o,l,A,d),P.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(l=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),l!==P.state&&gd.enqueueReplaceState(P,P.state,null),hd(o,d,P,w),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}var is=[],as=0,md=null,vd=0,Si=[],ki=0,lo=null,la=1,ua="";function uo(o,l){is[as++]=vd,is[as++]=md,md=o,vd=l}function Yb(o,l,d){Si[ki++]=la,Si[ki++]=ua,Si[ki++]=lo,lo=o;var w=la;o=ua;var P=32-Pt(w)-1;w&=~(1<<P),d+=1;var A=32-Pt(l)+P;if(30<A){var V=P-P%5;A=(w&(1<<V)-1).toString(32),w>>=V,P-=V,la=1<<32-Pt(l)+P|d<<P|w,ua=A+o}else la=1<<A|d<<P|w,ua=o}function wh(o){o.return!==null&&(uo(o,1),Yb(o,1,0))}function Sh(o){for(;o===md;)md=is[--as],is[as]=null,vd=is[--as],is[as]=null;for(;o===lo;)lo=Si[--ki],Si[ki]=null,ua=Si[--ki],Si[ki]=null,la=Si[--ki],Si[ki]=null}var ui=null,Jn=null,en=!1,Mi=null;function Zb(o,l){var d=Pi(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function Jb(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ui=o,Jn=ia(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ui=o,Jn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=lo!==null?{id:la,overflow:ua}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Pi(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,ui=o,Jn=null,!0):!1;default:return!1}}function kh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ch(o){if(en){var l=Jn;if(l){var d=l;if(!Jb(o,l)){if(kh(o))throw Error(r(418));l=ia(d.nextSibling);var w=ui;l&&Jb(o,l)?Zb(w,d):(o.flags=o.flags&-4097|2,en=!1,ui=o)}}else{if(kh(o))throw Error(r(418));o.flags=o.flags&-4097|2,en=!1,ui=o}}}function Qb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ui=o}function vl(o){if(o!==ui)return!1;if(!en)return Qb(o),en=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!lh(o.type,o.memoizedProps)),l&&(l=Jn)){if(kh(o)){for(o=Jn;o;)o=ia(o.nextSibling);throw Error(r(418))}for(;l;)Zb(o,l),l=ia(l.nextSibling)}if(Qb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Jn=ia(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Jn=null}}else Jn=ui?ia(o.stateNode.nextSibling):null;return!0}function os(){Jn=ui=null,en=!1}function Eh(o){Mi===null?Mi=[o]:Mi.push(o)}function yl(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var w=d.stateNode}if(!w)throw Error(r(147,o));var P=w,A=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(V){var J=P.refs;J===Ub&&(J=P.refs={}),V===null?delete J[A]:J[A]=V},l._stringRef=A,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function yd(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function e1(o){var l=o._init;return l(o._payload)}function t1(o){function l(ge,ue){if(o){var we=ge.deletions;we===null?(ge.deletions=[ue],ge.flags|=16):we.push(ue)}}function d(ge,ue){if(!o)return null;for(;ue!==null;)l(ge,ue),ue=ue.sibling;return null}function w(ge,ue){for(ge=new Map;ue!==null;)ue.key!==null?ge.set(ue.key,ue):ge.set(ue.index,ue),ue=ue.sibling;return ge}function P(ge,ue){return ge=Ba(ge,ue),ge.index=0,ge.sibling=null,ge}function A(ge,ue,we){return ge.index=we,o?(we=ge.alternate,we!==null?(we=we.index,we<ue?(ge.flags|=2,ue):we):(ge.flags|=2,ue)):(ge.flags|=1048576,ue)}function V(ge){return o&&ge.alternate===null&&(ge.flags|=2),ge}function J(ge,ue,we,Je){return ue===null||ue.tag!==6?(ue=ag(we,ge.mode,Je),ue.return=ge,ue):(ue=P(ue,we),ue.return=ge,ue)}function oe(ge,ue,we,Je){var At=we.type;return At===O?qe(ge,ue,we.props.children,Je,we.key):ue!==null&&(ue.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===U&&e1(At)===ue.type)?(Je=P(ue,we.props),Je.ref=yl(ge,ue,we),Je.return=ge,Je):(Je=Vd(we.type,we.key,we.props,null,ge.mode,Je),Je.ref=yl(ge,ue,we),Je.return=ge,Je)}function Ee(ge,ue,we,Je){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==we.containerInfo||ue.stateNode.implementation!==we.implementation?(ue=og(we,ge.mode,Je),ue.return=ge,ue):(ue=P(ue,we.children||[]),ue.return=ge,ue)}function qe(ge,ue,we,Je,At){return ue===null||ue.tag!==7?(ue=vo(we,ge.mode,Je,At),ue.return=ge,ue):(ue=P(ue,we),ue.return=ge,ue)}function Lt(ge,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=ag(""+ue,ge.mode,we),ue.return=ge,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return we=Vd(ue.type,ue.key,ue.props,null,ge.mode,we),we.ref=yl(ge,null,ue),we.return=ge,we;case T:return ue=og(ue,ge.mode,we),ue.return=ge,ue;case U:var Je=ue._init;return Lt(ge,Je(ue._payload),we)}if(yt(ue)||H(ue))return ue=vo(ue,ge.mode,we,null),ue.return=ge,ue;yd(ge,ue)}return null}function it(ge,ue,we,Je){var At=ue!==null?ue.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return At!==null?null:J(ge,ue,""+we,Je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return we.key===At?oe(ge,ue,we,Je):null;case T:return we.key===At?Ee(ge,ue,we,Je):null;case U:return At=we._init,it(ge,ue,At(we._payload),Je)}if(yt(we)||H(we))return At!==null?null:qe(ge,ue,we,Je,null);yd(ge,we)}return null}function Ct(ge,ue,we,Je,At){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ge=ge.get(we)||null,J(ue,ge,""+Je,At);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case _:return ge=ge.get(Je.key===null?we:Je.key)||null,oe(ue,ge,Je,At);case T:return ge=ge.get(Je.key===null?we:Je.key)||null,Ee(ue,ge,Je,At);case U:var qt=Je._init;return Ct(ge,ue,we,qt(Je._payload),At)}if(yt(Je)||H(Je))return ge=ge.get(we)||null,qe(ue,ge,Je,At,null);yd(ue,Je)}return null}function at(ge,ue,we,Je){for(var At=null,qt=null,Ut=ue,Gt=ue=0,Cn=null;Ut!==null&&Gt<we.length;Gt++){Ut.index>Gt?(Cn=Ut,Ut=null):Cn=Ut.sibling;var Or=it(ge,Ut,we[Gt],Je);if(Or===null){Ut===null&&(Ut=Cn);break}o&&Ut&&Or.alternate===null&&l(ge,Ut),ue=A(Or,ue,Gt),qt===null?At=Or:qt.sibling=Or,qt=Or,Ut=Cn}if(Gt===we.length)return d(ge,Ut),en&&uo(ge,Gt),At;if(Ut===null){for(;Gt<we.length;Gt++)Ut=Lt(ge,we[Gt],Je),Ut!==null&&(ue=A(Ut,ue,Gt),qt===null?At=Ut:qt.sibling=Ut,qt=Ut);return en&&uo(ge,Gt),At}for(Ut=w(ge,Ut);Gt<we.length;Gt++)Cn=Ct(Ut,ge,Gt,we[Gt],Je),Cn!==null&&(o&&Cn.alternate!==null&&Ut.delete(Cn.key===null?Gt:Cn.key),ue=A(Cn,ue,Gt),qt===null?At=Cn:qt.sibling=Cn,qt=Cn);return o&&Ut.forEach(function(za){return l(ge,za)}),en&&uo(ge,Gt),At}function ar(ge,ue,we,Je){var At=H(we);if(typeof At!="function")throw Error(r(150));if(we=At.call(we),we==null)throw Error(r(151));for(var qt=At=null,Ut=ue,Gt=ue=0,Cn=null,Or=we.next();Ut!==null&&!Or.done;Gt++,Or=we.next()){Ut.index>Gt?(Cn=Ut,Ut=null):Cn=Ut.sibling;var za=it(ge,Ut,Or.value,Je);if(za===null){Ut===null&&(Ut=Cn);break}o&&Ut&&za.alternate===null&&l(ge,Ut),ue=A(za,ue,Gt),qt===null?At=za:qt.sibling=za,qt=za,Ut=Cn}if(Or.done)return d(ge,Ut),en&&uo(ge,Gt),At;if(Ut===null){for(;!Or.done;Gt++,Or=we.next())Or=Lt(ge,Or.value,Je),Or!==null&&(ue=A(Or,ue,Gt),qt===null?At=Or:qt.sibling=Or,qt=Or);return en&&uo(ge,Gt),At}for(Ut=w(ge,Ut);!Or.done;Gt++,Or=we.next())Or=Ct(Ut,ge,Gt,Or.value,Je),Or!==null&&(o&&Or.alternate!==null&&Ut.delete(Or.key===null?Gt:Or.key),ue=A(Or,ue,Gt),qt===null?At=Or:qt.sibling=Or,qt=Or);return o&&Ut.forEach(function(PA){return l(ge,PA)}),en&&uo(ge,Gt),At}function Xr(ge,ue,we,Je){if(typeof we=="object"&&we!==null&&we.type===O&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case _:e:{for(var At=we.key,qt=ue;qt!==null;){if(qt.key===At){if(At=we.type,At===O){if(qt.tag===7){d(ge,qt.sibling),ue=P(qt,we.props.children),ue.return=ge,ge=ue;break e}}else if(qt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===U&&e1(At)===qt.type){d(ge,qt.sibling),ue=P(qt,we.props),ue.ref=yl(ge,qt,we),ue.return=ge,ge=ue;break e}d(ge,qt);break}else l(ge,qt);qt=qt.sibling}we.type===O?(ue=vo(we.props.children,ge.mode,Je,we.key),ue.return=ge,ge=ue):(Je=Vd(we.type,we.key,we.props,null,ge.mode,Je),Je.ref=yl(ge,ue,we),Je.return=ge,ge=Je)}return V(ge);case T:e:{for(qt=we.key;ue!==null;){if(ue.key===qt)if(ue.tag===4&&ue.stateNode.containerInfo===we.containerInfo&&ue.stateNode.implementation===we.implementation){d(ge,ue.sibling),ue=P(ue,we.children||[]),ue.return=ge,ge=ue;break e}else{d(ge,ue);break}else l(ge,ue);ue=ue.sibling}ue=og(we,ge.mode,Je),ue.return=ge,ge=ue}return V(ge);case U:return qt=we._init,Xr(ge,ue,qt(we._payload),Je)}if(yt(we))return at(ge,ue,we,Je);if(H(we))return ar(ge,ue,we,Je);yd(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ue!==null&&ue.tag===6?(d(ge,ue.sibling),ue=P(ue,we),ue.return=ge,ge=ue):(d(ge,ue),ue=ag(we,ge.mode,Je),ue.return=ge,ge=ue),V(ge)):d(ge,ue)}return Xr}var ss=t1(!0),r1=t1(!1),bl={},Wi=Aa(bl),xl=Aa(bl),wl=Aa(bl);function co(o){if(o===bl)throw Error(r(174));return o}function _h(o,l){switch(Ur(wl,l),Ur(xl,o),Ur(Wi,bl),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:tt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=tt(l,o)}Gr(Wi),Ur(Wi,l)}function ls(){Gr(Wi),Gr(xl),Gr(wl)}function n1(o){co(wl.current);var l=co(Wi.current),d=tt(l,o.type);l!==d&&(Ur(xl,o),Ur(Wi,d))}function Ph(o){xl.current===o&&(Gr(Wi),Gr(xl))}var an=Aa(0);function bd(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Th=[];function Rh(){for(var o=0;o<Th.length;o++)Th[o]._workInProgressVersionPrimary=null;Th.length=0}var xd=R.ReactCurrentDispatcher,Ci=R.ReactCurrentBatchConfig,us=0,ln=null,Fn=null,kn=null,wd=!1,Sl=!1,kl=0,XO=0;function Mn(){throw Error(r(321))}function Oh(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Bi(o[d],l[d]))return!1;return!0}function Ah(o,l,d,w,P,A){if(us=A,ln=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xd.current=o===null||o.memoizedState===null?QO:eA,o=d(w,P),Sl){A=0;do{if(Sl=!1,kl=0,25<=A)throw Error(r(301));A+=1,kn=Fn=null,l.updateQueue=null,xd.current=tA,o=d(w,P)}while(Sl)}if(xd.current=_d,l=Fn!==null&&Fn.next!==null,us=0,kn=Fn=ln=null,wd=!1,l)throw Error(r(300));return o}function Ih(){var o=kl!==0;return kl=0,o}function ca(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?ln.memoizedState=kn=o:kn=kn.next=o,kn}function qi(){if(Fn===null){var o=ln.alternate;o=o!==null?o.memoizedState:null}else o=Fn.next;var l=kn===null?ln.memoizedState:kn.next;if(l!==null)kn=l,Fn=o;else{if(o===null)throw Error(r(310));Fn=o,o={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},kn===null?ln.memoizedState=kn=o:kn=kn.next=o}return kn}function fo(o,l){return typeof l=="function"?l(o):l}function Sd(o){var l=qi(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var w=Fn,P=w.baseQueue,A=d.pending;if(A!==null){if(P!==null){var V=P.next;P.next=A.next,A.next=V}w.baseQueue=P=A,d.pending=null}if(P!==null){A=P.next,w=w.baseState;var J=V=null,oe=null,Ee=A;do{var qe=Ee.lane;if((us&qe)===qe)oe!==null&&(oe=oe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:o(w,Ee.action);else{var Lt={lane:qe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};oe===null?(J=oe=Lt,V=w):oe=oe.next=Lt,ln.lanes|=qe,ds|=qe}Ee=Ee.next}while(Ee!==null&&Ee!==A);oe===null?V=w:oe.next=J,Bi(w,l.memoizedState)||(ci=!0),l.memoizedState=w,l.baseState=V,l.baseQueue=oe,d.lastRenderedState=w}if(o=d.interleaved,o!==null){P=o;do A=P.lane,ln.lanes|=A,ds|=A,P=P.next;while(P!==o)}else P===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function kd(o){var l=qi(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var w=d.dispatch,P=d.pending,A=l.memoizedState;if(P!==null){d.pending=null;var V=P=P.next;do A=o(A,V.action),V=V.next;while(V!==P);Bi(A,l.memoizedState)||(ci=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,w]}function i1(){}function a1(o,l){var d=ln,w=qi(),P=l(),A=!Bi(w.memoizedState,P);if(A&&(w.memoizedState=P,ci=!0),w=w.queue,El(l1.bind(null,d,w,o),[o]),w.getSnapshot!==l||A||kn!==null&&kn.memoizedState.tag&1){if(d.flags|=2048,Cl(9,s1.bind(null,d,w,P,l),void 0,null),fn===null)throw Error(r(349));us&30||o1(d,l,P)}return P}function o1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function s1(o,l,d,w){l.value=d,l.getSnapshot=w,u1(l)&&_i(o,1,-1)}function l1(o,l,d){return d(function(){u1(l)&&_i(o,1,-1)})}function u1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Bi(o,d)}catch{return!0}}function Nh(o){var l=ca();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:o},l.queue=o,o=o.dispatch=JO.bind(null,ln,o),[l.memoizedState,o]}function Cl(o,l,d,w){return o={tag:o,create:l,destroy:d,deps:w,next:null},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(w=d.next,d.next=o,o.next=w,l.lastEffect=o)),o}function c1(){return qi().memoizedState}function Cd(o,l,d,w){var P=ca();ln.flags|=o,P.memoizedState=Cl(1|l,d,void 0,w===void 0?null:w)}function Ed(o,l,d,w){var P=qi();w=w===void 0?null:w;var A=void 0;if(Fn!==null){var V=Fn.memoizedState;if(A=V.destroy,w!==null&&Oh(w,V.deps)){P.memoizedState=Cl(l,d,A,w);return}}ln.flags|=o,P.memoizedState=Cl(1|l,d,A,w)}function Fh(o,l){return Cd(8390656,8,o,l)}function El(o,l){return Ed(2048,8,o,l)}function d1(o,l){return Ed(4,2,o,l)}function f1(o,l){return Ed(4,4,o,l)}function p1(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function h1(o,l,d){return d=d!=null?d.concat([o]):null,Ed(4,4,p1.bind(null,l,o),d)}function Mh(){}function g1(o,l){var d=qi();l=l===void 0?null:l;var w=d.memoizedState;return w!==null&&l!==null&&Oh(l,w[1])?w[0]:(d.memoizedState=[o,l],o)}function m1(o,l){var d=qi();l=l===void 0?null:l;var w=d.memoizedState;return w!==null&&l!==null&&Oh(l,w[1])?w[0]:(o=o(),d.memoizedState=[o,l],o)}function YO(o,l){var d=nt;nt=d!==0&&4>d?d:4,o(!0);var w=Ci.transition;Ci.transition={};try{o(!1),l()}finally{nt=d,Ci.transition=w}}function v1(){return qi().memoizedState}function ZO(o,l,d){var w=La(o);d={lane:w,action:d,hasEagerState:!1,eagerState:null,next:null},y1(o)?b1(l,d):(x1(o,l,d),d=qn(),o=_i(o,w,d),o!==null&&w1(o,l,w))}function JO(o,l,d){var w=La(o),P={lane:w,action:d,hasEagerState:!1,eagerState:null,next:null};if(y1(o))b1(l,P);else{x1(o,l,P);var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var V=l.lastRenderedState,J=A(V,d);if(P.hasEagerState=!0,P.eagerState=J,Bi(J,V))return}catch{}finally{}d=qn(),o=_i(o,w,d),o!==null&&w1(o,l,w)}}function y1(o){var l=o.alternate;return o===ln||l!==null&&l===ln}function b1(o,l){Sl=wd=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function x1(o,l,d){fn!==null&&o.mode&1&&!(kr&2)?(o=l.interleaved,o===null?(d.next=d,Vi===null?Vi=[l]:Vi.push(l)):(d.next=o.next,o.next=d),l.interleaved=d):(o=l.pending,o===null?d.next=d:(d.next=o.next,o.next=d),l.pending=d)}function w1(o,l,d){if(d&4194240){var w=l.lanes;w&=o.pendingLanes,d|=w,l.lanes=d,ut(o,d)}}var _d={readContext:wi,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},QO={readContext:wi,useCallback:function(o,l){return ca().memoizedState=[o,l===void 0?null:l],o},useContext:wi,useEffect:Fh,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Cd(4194308,4,p1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Cd(4194308,4,o,l)},useInsertionEffect:function(o,l){return Cd(4,2,o,l)},useMemo:function(o,l){var d=ca();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var w=ca();return l=d!==void 0?d(l):l,w.memoizedState=w.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},w.queue=o,o=o.dispatch=ZO.bind(null,ln,o),[w.memoizedState,o]},useRef:function(o){var l=ca();return o={current:o},l.memoizedState=o},useState:Nh,useDebugValue:Mh,useDeferredValue:function(o){var l=Nh(o),d=l[0],w=l[1];return Fh(function(){var P=Ci.transition;Ci.transition={};try{w(o)}finally{Ci.transition=P}},[o]),d},useTransition:function(){var o=Nh(!1),l=o[0];return o=YO.bind(null,o[1]),ca().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var w=ln,P=ca();if(en){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),fn===null)throw Error(r(349));us&30||o1(w,l,d)}P.memoizedState=d;var A={value:d,getSnapshot:l};return P.queue=A,Fh(l1.bind(null,w,A,o),[o]),w.flags|=2048,Cl(9,s1.bind(null,w,A,d,l),void 0,null),d},useId:function(){var o=ca(),l=fn.identifierPrefix;if(en){var d=ua,w=la;d=(w&~(1<<32-Pt(w)-1)).toString(32)+d,l=":"+l+"R"+d,d=kl++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=XO++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},eA={readContext:wi,useCallback:g1,useContext:wi,useEffect:El,useImperativeHandle:h1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:m1,useReducer:Sd,useRef:c1,useState:function(){return Sd(fo)},useDebugValue:Mh,useDeferredValue:function(o){var l=Sd(fo),d=l[0],w=l[1];return El(function(){var P=Ci.transition;Ci.transition={};try{w(o)}finally{Ci.transition=P}},[o]),d},useTransition:function(){var o=Sd(fo)[0],l=qi().memoizedState;return[o,l]},useMutableSource:i1,useSyncExternalStore:a1,useId:v1,unstable_isNewReconciler:!1},tA={readContext:wi,useCallback:g1,useContext:wi,useEffect:El,useImperativeHandle:h1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:m1,useReducer:kd,useRef:c1,useState:function(){return kd(fo)},useDebugValue:Mh,useDeferredValue:function(o){var l=kd(fo),d=l[0],w=l[1];return El(function(){var P=Ci.transition;Ci.transition={};try{w(o)}finally{Ci.transition=P}},[o]),d},useTransition:function(){var o=kd(fo)[0],l=qi().memoizedState;return[o,l]},useMutableSource:i1,useSyncExternalStore:a1,useId:v1,unstable_isNewReconciler:!1};function jh(o,l){try{var d="",w=l;do d+=ce(w),w=w.return;while(w);var P=d}catch(A){P=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:l,stack:P}}function $h(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var rA=typeof WeakMap=="function"?WeakMap:Map;function S1(o,l,d){d=sa(-1,d),d.tag=3,d.payload={element:null};var w=l.value;return d.callback=function(){Md||(Md=!0,Zh=w),$h(o,l)},d}function k1(o,l,d){d=sa(-1,d),d.tag=3;var w=o.type.getDerivedStateFromError;if(typeof w=="function"){var P=l.value;d.payload=function(){return w(P)},d.callback=function(){$h(o,l)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){$h(o,l),typeof w!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),d}function C1(o,l,d){var w=o.pingCache;if(w===null){w=o.pingCache=new rA;var P=new Set;w.set(l,P)}else P=w.get(l),P===void 0&&(P=new Set,w.set(l,P));P.has(d)||(P.add(d),o=mA.bind(null,o,l,d),l.then(o,o))}function E1(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function _1(o,l,d,w,P){return o.mode&1?(o.flags|=65536,o.lanes=P,o):(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=sa(-1,1),l.tag=2,Ma(d,l))),d.lanes|=1),o)}var P1,Lh,T1,R1;P1=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Lh=function(){},T1=function(o,l,d,w){var P=o.memoizedProps;if(P!==w){o=l.stateNode,co(Wi.current);var A=null;switch(d){case"input":P=_e(o,P),w=_e(o,w),A=[];break;case"select":P=N({},P,{value:void 0}),w=N({},w,{value:void 0}),A=[];break;case"textarea":P=Oe(o,P),w=Oe(o,w),A=[];break;default:typeof P.onClick!="function"&&typeof w.onClick=="function"&&(o.onclick=od)}se(d,w);var V;d=null;for(Ee in P)if(!w.hasOwnProperty(Ee)&&P.hasOwnProperty(Ee)&&P[Ee]!=null)if(Ee==="style"){var J=P[Ee];for(V in J)J.hasOwnProperty(V)&&(d||(d={}),d[V]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in w){var oe=w[Ee];if(J=P!=null?P[Ee]:void 0,w.hasOwnProperty(Ee)&&oe!==J&&(oe!=null||J!=null))if(Ee==="style")if(J){for(V in J)!J.hasOwnProperty(V)||oe&&oe.hasOwnProperty(V)||(d||(d={}),d[V]="");for(V in oe)oe.hasOwnProperty(V)&&J[V]!==oe[V]&&(d||(d={}),d[V]=oe[V])}else d||(A||(A=[]),A.push(Ee,d)),d=oe;else Ee==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,J=J?J.__html:void 0,oe!=null&&J!==oe&&(A=A||[]).push(Ee,oe)):Ee==="children"?typeof oe!="string"&&typeof oe!="number"||(A=A||[]).push(Ee,""+oe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(oe!=null&&Ee==="onScroll"&&Kr("scroll",o),A||J===oe||(A=[])):(A=A||[]).push(Ee,oe))}d&&(A=A||[]).push("style",d);var Ee=A;(l.updateQueue=Ee)&&(l.flags|=4)}},R1=function(o,l,d,w){d!==w&&(l.flags|=4)};function _l(o,l){if(!en)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function jn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,w=0;if(l)for(var P=o.child;P!==null;)d|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)d|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=w,o.childLanes=d,l}function nA(o,l,d){var w=l.pendingProps;switch(Sh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return Zn(l.type)&&ld(),jn(l),null;case 3:return w=l.stateNode,ls(),Gr(Yn),Gr(Nn),Rh(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(o===null||o.child===null)&&(vl(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Mi!==null&&(eg(Mi),Mi=null))),Lh(o,l),jn(l),null;case 5:Ph(l);var P=co(wl.current);if(d=l.type,o!==null&&l.stateNode!=null)T1(o,l,d,w,P),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!w){if(l.stateNode===null)throw Error(r(166));return jn(l),null}if(o=co(Wi.current),vl(l)){w=l.stateNode,d=l.type;var A=l.memoizedProps;switch(w[zi]=l,w[gl]=A,o=(l.mode&1)!==0,d){case"dialog":Kr("cancel",w),Kr("close",w);break;case"iframe":case"object":case"embed":Kr("load",w);break;case"video":case"audio":for(P=0;P<fl.length;P++)Kr(fl[P],w);break;case"source":Kr("error",w);break;case"img":case"image":case"link":Kr("error",w),Kr("load",w);break;case"details":Kr("toggle",w);break;case"input":et(w,A),Kr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},Kr("invalid",w);break;case"textarea":Ie(w,A),Kr("invalid",w)}se(d,A),P=null;for(var V in A)if(A.hasOwnProperty(V)){var J=A[V];V==="children"?typeof J=="string"?w.textContent!==J&&(ad(w.textContent,J,o),P=["children",J]):typeof J=="number"&&w.textContent!==""+J&&(ad(w.textContent,J,o),P=["children",""+J]):i.hasOwnProperty(V)&&J!=null&&V==="onScroll"&&Kr("scroll",w)}switch(d){case"input":he(w),gt(w,A,!0);break;case"textarea":he(w),mt(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=od)}w=P,l.updateQueue=w,w!==null&&(l.flags|=4)}else{V=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Be(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof w.is=="string"?o=V.createElement(d,{is:w.is}):(o=V.createElement(d),d==="select"&&(V=o,w.multiple?V.multiple=!0:w.size&&(V.size=w.size))):o=V.createElementNS(o,d),o[zi]=l,o[gl]=w,P1(o,l,!1,!1),l.stateNode=o;e:{switch(V=te(d,w),d){case"dialog":Kr("cancel",o),Kr("close",o),P=w;break;case"iframe":case"object":case"embed":Kr("load",o),P=w;break;case"video":case"audio":for(P=0;P<fl.length;P++)Kr(fl[P],o);P=w;break;case"source":Kr("error",o),P=w;break;case"img":case"image":case"link":Kr("error",o),Kr("load",o),P=w;break;case"details":Kr("toggle",o),P=w;break;case"input":et(o,w),P=_e(o,w),Kr("invalid",o);break;case"option":P=w;break;case"select":o._wrapperState={wasMultiple:!!w.multiple},P=N({},w,{value:void 0}),Kr("invalid",o);break;case"textarea":Ie(o,w),P=Oe(o,w),Kr("invalid",o);break;default:P=w}se(d,P),J=P;for(A in J)if(J.hasOwnProperty(A)){var oe=J[A];A==="style"?ie(o,oe):A==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&Q(o,oe)):A==="children"?typeof oe=="string"?(d!=="textarea"||oe!=="")&&Et(o,oe):typeof oe=="number"&&Et(o,""+oe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?oe!=null&&A==="onScroll"&&Kr("scroll",o):oe!=null&&C(o,A,oe,V))}switch(d){case"input":he(o),gt(o,w,!1);break;case"textarea":he(o),mt(o);break;case"option":w.value!=null&&o.setAttribute("value",""+le(w.value));break;case"select":o.multiple=!!w.multiple,A=w.value,A!=null?ht(o,!!w.multiple,A,!1):w.defaultValue!=null&&ht(o,!!w.multiple,w.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=od)}switch(d){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jn(l),null;case 6:if(o&&l.stateNode!=null)R1(o,l,o.memoizedProps,w);else{if(typeof w!="string"&&l.stateNode===null)throw Error(r(166));if(d=co(wl.current),co(Wi.current),vl(l)){if(w=l.stateNode,d=l.memoizedProps,w[zi]=l,(A=w.nodeValue!==d)&&(o=ui,o!==null))switch(V=(o.mode&1)!==0,o.tag){case 3:ad(w.nodeValue,d,V);break;case 5:o.memoizedProps[void 0]!==!0&&ad(w.nodeValue,d,V)}A&&(l.flags|=4)}else w=(d.nodeType===9?d:d.ownerDocument).createTextNode(w),w[zi]=l,l.stateNode=w}return jn(l),null;case 13:if(Gr(an),w=l.memoizedState,en&&Jn!==null&&l.mode&1&&!(l.flags&128)){for(w=Jn;w;)w=ia(w.nextSibling);return os(),l.flags|=98560,l}if(w!==null&&w.dehydrated!==null){if(w=vl(l),o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[zi]=l}else os(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;return jn(l),null}return Mi!==null&&(eg(Mi),Mi=null),l.flags&128?(l.lanes=d,l):(w=w!==null,d=!1,o===null?vl(l):d=o.memoizedState!==null,w&&!d&&(l.child.flags|=8192,l.mode&1&&(o===null||an.current&1?vn===0&&(vn=3):ng())),l.updateQueue!==null&&(l.flags|=4),jn(l),null);case 4:return ls(),Lh(o,l),o===null&&pl(l.stateNode.containerInfo),jn(l),null;case 10:return mh(l.type._context),jn(l),null;case 17:return Zn(l.type)&&ld(),jn(l),null;case 19:if(Gr(an),A=l.memoizedState,A===null)return jn(l),null;if(w=(l.flags&128)!==0,V=A.rendering,V===null)if(w)_l(A,!1);else{if(vn!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(V=bd(o),V!==null){for(l.flags|=128,_l(A,!1),w=V.updateQueue,w!==null&&(l.updateQueue=w,l.flags|=4),l.subtreeFlags=0,w=d,d=l.child;d!==null;)A=d,o=w,A.flags&=14680066,V=A.alternate,V===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=V.childLanes,A.lanes=V.lanes,A.child=V.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=V.memoizedProps,A.memoizedState=V.memoizedState,A.updateQueue=V.updateQueue,A.type=V.type,o=V.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Ur(an,an.current&1|2),l.child}o=o.sibling}A.tail!==null&&ur()>fs&&(l.flags|=128,w=!0,_l(A,!1),l.lanes=4194304)}else{if(!w)if(o=bd(V),o!==null){if(l.flags|=128,w=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),_l(A,!0),A.tail===null&&A.tailMode==="hidden"&&!V.alternate&&!en)return jn(l),null}else 2*ur()-A.renderingStartTime>fs&&d!==1073741824&&(l.flags|=128,w=!0,_l(A,!1),l.lanes=4194304);A.isBackwards?(V.sibling=l.child,l.child=V):(d=A.last,d!==null?d.sibling=V:l.child=V,A.last=V)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=ur(),l.sibling=null,d=an.current,Ur(an,w?d&1|2:d&1),l):(jn(l),null);case 22:case 23:return rg(),w=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==w&&(l.flags|=8192),w&&l.mode&1?di&1073741824&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}var iA=R.ReactCurrentOwner,ci=!1;function Wn(o,l,d,w){l.child=o===null?r1(l,null,d,w):ss(l,o.child,d,w)}function O1(o,l,d,w,P){d=d.render;var A=l.ref;return ns(l,P),w=Ah(o,l,d,w,A,P),d=Ih(),o!==null&&!ci?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~P,da(o,l,P)):(en&&d&&wh(l),l.flags|=1,Wn(o,l,w,P),l.child)}function A1(o,l,d,w,P){if(o===null){var A=d.type;return typeof A=="function"&&!ig(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=A,I1(o,l,A,w,P)):(o=Vd(d.type,null,w,l,l.mode,P),o.ref=l.ref,o.return=l,l.child=o)}if(A=o.child,!(o.lanes&P)){var V=A.memoizedProps;if(d=d.compare,d=d!==null?d:cl,d(V,w)&&o.ref===l.ref)return da(o,l,P)}return l.flags|=1,o=Ba(A,w),o.ref=l.ref,o.return=l,l.child=o}function I1(o,l,d,w,P){if(o!==null&&cl(o.memoizedProps,w)&&o.ref===l.ref)if(ci=!1,(o.lanes&P)!==0)o.flags&131072&&(ci=!0);else return l.lanes=o.lanes,da(o,l,P);return Dh(o,l,d,w,P)}function N1(o,l,d){var w=l.pendingProps,P=w.children,A=o!==null?o.memoizedState:null;if(w.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null},Ur(cs,di),di|=d;else if(d&1073741824)l.memoizedState={baseLanes:0,cachePool:null},w=A!==null?A.baseLanes:d,Ur(cs,di),di|=w;else return o=A!==null?A.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null},l.updateQueue=null,Ur(cs,di),di|=o,null;else A!==null?(w=A.baseLanes|d,l.memoizedState=null):w=d,Ur(cs,di),di|=w;return Wn(o,l,P,d),l.child}function F1(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Dh(o,l,d,w,P){var A=Zn(d)?so:Nn.current;return A=ts(l,A),ns(l,P),d=Ah(o,l,d,w,A,P),w=Ih(),o!==null&&!ci?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~P,da(o,l,P)):(en&&w&&wh(l),l.flags|=1,Wn(o,l,d,P),l.child)}function M1(o,l,d,w,P){if(Zn(d)){var A=!0;ud(l)}else A=!1;if(ns(l,P),l.stateNode===null)o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),Gb(l,d,w),xh(l,d,w,P),w=!0;else if(o===null){var V=l.stateNode,J=l.memoizedProps;V.props=J;var oe=V.context,Ee=d.contextType;typeof Ee=="object"&&Ee!==null?Ee=wi(Ee):(Ee=Zn(d)?so:Nn.current,Ee=ts(l,Ee));var qe=d.getDerivedStateFromProps,Lt=typeof qe=="function"||typeof V.getSnapshotBeforeUpdate=="function";Lt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==w||oe!==Ee)&&Xb(l,V,w,Ee),Fa=!1;var it=l.memoizedState;V.state=it,hd(l,w,V,P),oe=l.memoizedState,J!==w||it!==oe||Yn.current||Fa?(typeof qe=="function"&&(bh(l,d,qe,w),oe=l.memoizedState),(J=Fa||Kb(l,d,J,w,it,oe,Ee))?(Lt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(l.flags|=4194308)):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=oe),V.props=w,V.state=oe,V.context=Ee,w=J):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{V=l.stateNode,Wb(o,l),J=l.memoizedProps,Ee=l.type===l.elementType?J:Fi(l.type,J),V.props=Ee,Lt=l.pendingProps,it=V.context,oe=d.contextType,typeof oe=="object"&&oe!==null?oe=wi(oe):(oe=Zn(d)?so:Nn.current,oe=ts(l,oe));var Ct=d.getDerivedStateFromProps;(qe=typeof Ct=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==Lt||it!==oe)&&Xb(l,V,w,oe),Fa=!1,it=l.memoizedState,V.state=it,hd(l,w,V,P);var at=l.memoizedState;J!==Lt||it!==at||Yn.current||Fa?(typeof Ct=="function"&&(bh(l,d,Ct,w),at=l.memoizedState),(Ee=Fa||Kb(l,d,Ee,w,it,at,oe)||!1)?(qe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(w,at,oe),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(w,at,oe)),typeof V.componentDidUpdate=="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!="function"||J===o.memoizedProps&&it===o.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&it===o.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=at),V.props=w,V.state=at,V.context=oe,w=Ee):(typeof V.componentDidUpdate!="function"||J===o.memoizedProps&&it===o.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&it===o.memoizedState||(l.flags|=1024),w=!1)}return Bh(o,l,d,w,A,P)}function Bh(o,l,d,w,P,A){F1(o,l);var V=(l.flags&128)!==0;if(!w&&!V)return P&&zb(l,d,!1),da(o,l,A);w=l.stateNode,iA.current=l;var J=V&&typeof d.getDerivedStateFromError!="function"?null:w.render();return l.flags|=1,o!==null&&V?(l.child=ss(l,o.child,null,A),l.child=ss(l,null,J,A)):Wn(o,l,J,A),l.memoizedState=w.state,P&&zb(l,d,!0),l.child}function j1(o){var l=o.stateNode;l.pendingContext?Db(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Db(o,l.context,!1),_h(o,l.containerInfo)}function $1(o,l,d,w,P){return os(),Eh(P),l.flags|=256,Wn(o,l,d,w),l.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Td(o){return{baseLanes:o,cachePool:null}}function L1(o,l,d){var w=l.pendingProps,P=an.current,A=!1,V=(l.flags&128)!==0,J;if((J=V)||(J=o!==null&&o.memoizedState===null?!1:(P&2)!==0),J?(A=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),Ur(an,P&1),o===null)return Ch(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(P=w.children,o=w.fallback,A?(w=l.mode,A=l.child,P={mode:"hidden",children:P},!(w&1)&&A!==null?(A.childLanes=0,A.pendingProps=P):A=Wd(P,w,0,null),o=vo(o,w,d,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=Td(d),l.memoizedState=Pd,o):zh(l,P));if(P=o.memoizedState,P!==null){if(J=P.dehydrated,J!==null){if(V)return l.flags&256?(l.flags&=-257,Rd(o,l,d,Error(r(422)))):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(A=w.fallback,P=l.mode,w=Wd({mode:"visible",children:w.children},P,0,null),A=vo(A,P,d,null),A.flags|=2,w.return=l,A.return=l,w.sibling=A,l.child=w,l.mode&1&&ss(l,o.child,null,d),l.child.memoizedState=Td(d),l.memoizedState=Pd,A);if(!(l.mode&1))l=Rd(o,l,d,null);else if(J.data==="$!")l=Rd(o,l,d,Error(r(419)));else if(w=(d&o.childLanes)!==0,ci||w){if(w=fn,w!==null){switch(d&-d){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}w=A&(w.suspendedLanes|d)?0:A,w!==0&&w!==P.retryLane&&(P.retryLane=w,_i(o,w,-1))}ng(),l=Rd(o,l,d,Error(r(421)))}else J.data==="$?"?(l.flags|=128,l.child=o.child,l=vA.bind(null,o),J._reactRetry=l,l=null):(d=P.treeContext,Jn=ia(J.nextSibling),ui=l,en=!0,Mi=null,d!==null&&(Si[ki++]=la,Si[ki++]=ua,Si[ki++]=lo,la=d.id,ua=d.overflow,lo=l),l=zh(l,l.pendingProps.children),l.flags|=4096);return l}return A?(w=B1(o,l,w.children,w.fallback,d),A=l.child,P=o.child.memoizedState,A.memoizedState=P===null?Td(d):{baseLanes:P.baseLanes|d,cachePool:null},A.childLanes=o.childLanes&~d,l.memoizedState=Pd,w):(d=D1(o,l,w.children,d),l.memoizedState=null,d)}return A?(w=B1(o,l,w.children,w.fallback,d),A=l.child,P=o.child.memoizedState,A.memoizedState=P===null?Td(d):{baseLanes:P.baseLanes|d,cachePool:null},A.childLanes=o.childLanes&~d,l.memoizedState=Pd,w):(d=D1(o,l,w.children,d),l.memoizedState=null,d)}function zh(o,l){return l=Wd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function D1(o,l,d,w){var P=o.child;return o=P.sibling,d=Ba(P,{mode:"visible",children:d}),!(l.mode&1)&&(d.lanes=w),d.return=l,d.sibling=null,o!==null&&(w=l.deletions,w===null?(l.deletions=[o],l.flags|=16):w.push(o)),l.child=d}function B1(o,l,d,w,P){var A=l.mode;o=o.child;var V=o.sibling,J={mode:"hidden",children:d};return!(A&1)&&l.child!==o?(d=l.child,d.childLanes=0,d.pendingProps=J,l.deletions=null):(d=Ba(o,J),d.subtreeFlags=o.subtreeFlags&14680064),V!==null?w=Ba(V,w):(w=vo(w,A,P,null),w.flags|=2),w.return=l,d.return=l,d.sibling=w,l.child=d,w}function Rd(o,l,d,w){return w!==null&&Eh(w),ss(l,o.child,null,d),o=zh(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function z1(o,l,d){o.lanes|=l;var w=o.alternate;w!==null&&(w.lanes|=l),vh(o.return,l,d)}function Vh(o,l,d,w,P){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:d,tailMode:P}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=d,A.tailMode=P)}function V1(o,l,d){var w=l.pendingProps,P=w.revealOrder,A=w.tail;if(Wn(o,l,w.children,d),w=an.current,w&2)w=w&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&z1(o,d,l);else if(o.tag===19)z1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}w&=1}if(Ur(an,w),!(l.mode&1))l.memoizedState=null;else switch(P){case"forwards":for(d=l.child,P=null;d!==null;)o=d.alternate,o!==null&&bd(o)===null&&(P=d),d=d.sibling;d=P,d===null?(P=l.child,l.child=null):(P=d.sibling,d.sibling=null),Vh(l,!1,P,d,A);break;case"backwards":for(d=null,P=l.child,l.child=null;P!==null;){if(o=P.alternate,o!==null&&bd(o)===null){l.child=P;break}o=P.sibling,P.sibling=d,d=P,P=o}Vh(l,!0,d,null,A);break;case"together":Vh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function da(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ds|=l.lanes,!(d&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Ba(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Ba(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function aA(o,l,d){switch(l.tag){case 3:j1(l),os();break;case 5:n1(l);break;case 1:Zn(l.type)&&ud(l);break;case 4:_h(l,l.stateNode.containerInfo);break;case 10:var w=l.type._context,P=l.memoizedProps.value;Ur(dd,w._currentValue),w._currentValue=P;break;case 13:if(w=l.memoizedState,w!==null)return w.dehydrated!==null?(Ur(an,an.current&1),l.flags|=128,null):d&l.child.childLanes?L1(o,l,d):(Ur(an,an.current&1),o=da(o,l,d),o!==null?o.sibling:null);Ur(an,an.current&1);break;case 19:if(w=(d&l.childLanes)!==0,o.flags&128){if(w)return V1(o,l,d);l.flags|=128}if(P=l.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ur(an,an.current),w)break;return null;case 22:case 23:return l.lanes=0,N1(o,l,d)}return da(o,l,d)}function oA(o,l){switch(Sh(l),l.tag){case 1:return Zn(l.type)&&ld(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ls(),Gr(Yn),Gr(Nn),Rh(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return Ph(l),null;case 13:if(Gr(an),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));os()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Gr(an),null;case 4:return ls(),null;case 10:return mh(l.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var Od=!1,po=!1,sA=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Ad(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(w){ti(o,l,w)}else d.current=null}function Wh(o,l,d){try{d()}catch(w){ti(o,l,w)}}var W1=!1;function lA(o,l){if(o=kb(),Qp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var w=d.getSelection&&d.getSelection();if(w&&w.rangeCount!==0){d=w.anchorNode;var P=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var V=0,J=-1,oe=-1,Ee=0,qe=0,Lt=o,it=null;t:for(;;){for(var Ct;Lt!==d||P!==0&&Lt.nodeType!==3||(J=V+P),Lt!==A||w!==0&&Lt.nodeType!==3||(oe=V+w),Lt.nodeType===3&&(V+=Lt.nodeValue.length),(Ct=Lt.firstChild)!==null;)it=Lt,Lt=Ct;for(;;){if(Lt===o)break t;if(it===d&&++Ee===P&&(J=V),it===A&&++qe===w&&(oe=V),(Ct=Lt.nextSibling)!==null)break;Lt=it,it=Lt.parentNode}Lt=Ct}d=J===-1||oe===-1?null:{start:J,end:oe}}else d=null}d=d||{start:0,end:0}}else d=null;for(sh={focusedElem:o,selectionRange:d},xt=l;xt!==null;)if(l=xt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,xt=o;else for(;xt!==null;){l=xt;try{var at=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ar=at.memoizedProps,Xr=at.memoizedState,ge=l.stateNode,ue=ge.getSnapshotBeforeUpdate(l.elementType===l.type?ar:Fi(l.type,ar),Xr);ge.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var we=l.stateNode.containerInfo;if(we.nodeType===1)we.textContent="";else if(we.nodeType===9){var Je=we.body;Je!=null&&(Je.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(At){ti(l,l.return,At)}if(o=l.sibling,o!==null){o.return=l.return,xt=o;break}xt=l.return}return at=W1,W1=!1,at}function Pl(o,l,d){var w=l.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&o)===o){var A=P.destroy;P.destroy=void 0,A!==void 0&&Wh(l,d,A)}P=P.next}while(P!==w)}}function Id(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var w=d.create;d.destroy=w()}d=d.next}while(d!==l)}}function qh(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function q1(o,l,d){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(lt,l)}catch{}switch(l.tag){case 0:case 11:case 14:case 15:if(o=l.updateQueue,o!==null&&(o=o.lastEffect,o!==null)){var w=o=o.next;do{var P=w,A=P.destroy;P=P.tag,A!==void 0&&(P&2||P&4)&&Wh(l,d,A),w=w.next}while(w!==o)}break;case 1:if(Ad(l,d),o=l.stateNode,typeof o.componentWillUnmount=="function")try{o.props=l.memoizedProps,o.state=l.memoizedState,o.componentWillUnmount()}catch(V){ti(l,d,V)}break;case 5:Ad(l,d);break;case 4:X1(o,l,d)}}function H1(o){var l=o.alternate;l!==null&&(o.alternate=null,H1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[zi],delete l[gl],delete l[dh],delete l[HO],delete l[UO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function U1(o){return o.tag===5||o.tag===3||o.tag===4}function K1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||U1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function G1(o){e:{for(var l=o.return;l!==null;){if(U1(l))break e;l=l.return}throw Error(r(160))}var d=l;switch(d.tag){case 5:l=d.stateNode,d.flags&32&&(Et(l,""),d.flags&=-33),d=K1(o),Uh(o,d,l);break;case 3:case 4:l=d.stateNode.containerInfo,d=K1(o),Hh(o,d,l);break;default:throw Error(r(161))}}function Hh(o,l,d){var w=o.tag;if(w===5||w===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=od));else if(w!==4&&(o=o.child,o!==null))for(Hh(o,l,d),o=o.sibling;o!==null;)Hh(o,l,d),o=o.sibling}function Uh(o,l,d){var w=o.tag;if(w===5||w===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(w!==4&&(o=o.child,o!==null))for(Uh(o,l,d),o=o.sibling;o!==null;)Uh(o,l,d),o=o.sibling}function X1(o,l,d){for(var w=l,P=!1,A,V;;){if(!P){P=w.return;e:for(;;){if(P===null)throw Error(r(160));switch(A=P.stateNode,P.tag){case 5:V=!1;break e;case 3:A=A.containerInfo,V=!0;break e;case 4:A=A.containerInfo,V=!0;break e}P=P.return}P=!0}if(w.tag===5||w.tag===6){e:for(var J=o,oe=w,Ee=d,qe=oe;;)if(q1(J,qe,Ee),qe.child!==null&&qe.tag!==4)qe.child.return=qe,qe=qe.child;else{if(qe===oe)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===oe)break e;qe=qe.return}qe.sibling.return=qe.return,qe=qe.sibling}V?(J=A,oe=w.stateNode,J.nodeType===8?J.parentNode.removeChild(oe):J.removeChild(oe)):A.removeChild(w.stateNode)}else if(w.tag===18)V?(J=A,oe=w.stateNode,J.nodeType===8?ch(J.parentNode,oe):J.nodeType===1&&ch(J,oe),il(J)):ch(A,w.stateNode);else if(w.tag===4){if(w.child!==null){A=w.stateNode.containerInfo,V=!0,w.child.return=w,w=w.child;continue}}else if(q1(o,w,d),w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break;for(;w.sibling===null;){if(w.return===null||w.return===l)return;w=w.return,w.tag===4&&(P=!1)}w.sibling.return=w.return,w=w.sibling}}function Kh(o,l){switch(l.tag){case 0:case 11:case 14:case 15:Pl(3,l,l.return),Id(3,l),Pl(5,l,l.return);return;case 1:return;case 5:var d=l.stateNode;if(d!=null){var w=l.memoizedProps,P=o!==null?o.memoizedProps:w;o=l.type;var A=l.updateQueue;if(l.updateQueue=null,A!==null){for(o==="input"&&w.type==="radio"&&w.name!=null&&Me(d,w),te(o,P),l=te(o,w),P=0;P<A.length;P+=2){var V=A[P],J=A[P+1];V==="style"?ie(d,J):V==="dangerouslySetInnerHTML"?Q(d,J):V==="children"?Et(d,J):C(d,V,J,l)}switch(o){case"input":De(d,w);break;case"textarea":We(d,w);break;case"select":o=d._wrapperState.wasMultiple,d._wrapperState.wasMultiple=!!w.multiple,A=w.value,A!=null?ht(d,!!w.multiple,A,!1):o!==!!w.multiple&&(w.defaultValue!=null?ht(d,!!w.multiple,w.defaultValue,!0):ht(d,!!w.multiple,w.multiple?[]:"",!1))}d[gl]=w}}return;case 6:if(l.stateNode===null)throw Error(r(162));l.stateNode.nodeValue=l.memoizedProps;return;case 3:o!==null&&o.memoizedState.isDehydrated&&il(l.stateNode.containerInfo);return;case 12:return;case 13:Y1(l);return;case 19:Y1(l);return;case 17:return}throw Error(r(163))}function Y1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new sA),l.forEach(function(w){var P=yA.bind(null,o,w);d.has(w)||(d.add(w),w.then(P,P))})}}function uA(o,l){for(xt=l;xt!==null;){l=xt;var d=l.deletions;if(d!==null)for(var w=0;w<d.length;w++){var P=d[w];try{X1(o,P,l);var A=P.alternate;A!==null&&(A.return=null),P.return=null}catch(Gt){ti(P,l,Gt)}}if(d=l.child,l.subtreeFlags&12854&&d!==null)d.return=l,xt=d;else for(;xt!==null;){l=xt;try{var V=l.flags;if(V&32&&Et(l.stateNode,""),V&512){var J=l.alternate;if(J!==null){var oe=J.ref;oe!==null&&(typeof oe=="function"?oe(null):oe.current=null)}}if(V&8192)switch(l.tag){case 13:if(l.memoizedState!==null){var Ee=l.alternate;(Ee===null||Ee.memoizedState===null)&&(Yh=ur())}break;case 22:var qe=l.memoizedState!==null,Lt=l.alternate,it=Lt!==null&&Lt.memoizedState!==null;d=l;e:{w=d,P=qe;for(var Ct=null,at=w;;){if(at.tag===5){if(Ct===null){Ct=at;var ar=at.stateNode;if(P){var Xr=ar.style;typeof Xr.setProperty=="function"?Xr.setProperty("display","none","important"):Xr.display="none"}else{var ge=at.stateNode,ue=at.memoizedProps.style,we=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;ge.style.display=Z("display",we)}}}else if(at.tag===6)Ct===null&&(at.stateNode.nodeValue=P?"":at.memoizedProps);else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===w)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===w)break;for(;at.sibling===null;){if(at.return===null||at.return===w)break e;Ct===at&&(Ct=null),at=at.return}Ct===at&&(Ct=null),at.sibling.return=at.return,at=at.sibling}}if(qe&&!it&&d.mode&1){xt=d;for(var Je=d.child;Je!==null;){for(d=xt=Je;xt!==null;){w=xt;var At=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Pl(4,w,w.return);break;case 1:Ad(w,w.return);var qt=w.stateNode;if(typeof qt.componentWillUnmount=="function"){var Ut=w.return;try{qt.props=w.memoizedProps,qt.state=w.memoizedState,qt.componentWillUnmount()}catch(Gt){ti(w,Ut,Gt)}}break;case 5:Ad(w,w.return);break;case 22:if(w.memoizedState!==null){Q1(d);continue}}At!==null?(At.return=w,xt=At):Q1(d)}Je=Je.sibling}}}switch(V&4102){case 2:G1(l),l.flags&=-3;break;case 6:G1(l),l.flags&=-3,Kh(l.alternate,l);break;case 4096:l.flags&=-4097;break;case 4100:l.flags&=-4097,Kh(l.alternate,l);break;case 4:Kh(l.alternate,l)}}catch(Gt){ti(l,l.return,Gt)}if(d=l.sibling,d!==null){d.return=l.return,xt=d;break}xt=l.return}}}function cA(o,l,d){xt=o,Z1(o)}function Z1(o,l,d){for(var w=(o.mode&1)!==0;xt!==null;){var P=xt,A=P.child;if(P.tag===22&&w){var V=P.memoizedState!==null||Od;if(!V){var J=P.alternate,oe=J!==null&&J.memoizedState!==null||po;J=Od;var Ee=po;if(Od=V,(po=oe)&&!Ee)for(xt=P;xt!==null;)V=xt,oe=V.child,V.tag===22&&V.memoizedState!==null?ex(P):oe!==null?(oe.return=V,xt=oe):ex(P);for(;A!==null;)xt=A,Z1(A),A=A.sibling;xt=P,Od=J,po=Ee}J1(o)}else P.subtreeFlags&8772&&A!==null?(A.return=P,xt=A):J1(o)}}function J1(o){for(;xt!==null;){var l=xt;if(l.flags&8772){var d=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:po||Id(5,l);break;case 1:var w=l.stateNode;if(l.flags&4&&!po)if(d===null)w.componentDidMount();else{var P=l.elementType===l.type?d.memoizedProps:Fi(l.type,d.memoizedProps);w.componentDidUpdate(P,d.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&Hb(l,A,w);break;case 3:var V=l.updateQueue;if(V!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Hb(l,V,d)}break;case 5:var J=l.stateNode;if(d===null&&l.flags&4){d=J;var oe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&d.focus();break;case"img":oe.src&&(d.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ee=l.alternate;if(Ee!==null){var qe=Ee.memoizedState;if(qe!==null){var Lt=qe.dehydrated;Lt!==null&&il(Lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(r(163))}po||l.flags&512&&qh(l)}catch(it){ti(l,l.return,it)}}if(l===o){xt=null;break}if(d=l.sibling,d!==null){d.return=l.return,xt=d;break}xt=l.return}}function Q1(o){for(;xt!==null;){var l=xt;if(l===o){xt=null;break}var d=l.sibling;if(d!==null){d.return=l.return,xt=d;break}xt=l.return}}function ex(o){for(;xt!==null;){var l=xt;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Id(4,l)}catch(oe){ti(l,d,oe)}break;case 1:var w=l.stateNode;if(typeof w.componentDidMount=="function"){var P=l.return;try{w.componentDidMount()}catch(oe){ti(l,P,oe)}}var A=l.return;try{qh(l)}catch(oe){ti(l,A,oe)}break;case 5:var V=l.return;try{qh(l)}catch(oe){ti(l,V,oe)}}}catch(oe){ti(l,l.return,oe)}if(l===o){xt=null;break}var J=l.sibling;if(J!==null){J.return=l.return,xt=J;break}xt=l.return}}var dA=Math.ceil,Nd=R.ReactCurrentDispatcher,Gh=R.ReactCurrentOwner,Ei=R.ReactCurrentBatchConfig,kr=0,fn=null,pn=null,Tn=0,di=0,cs=Aa(0),vn=0,Tl=null,ds=0,Fd=0,Xh=0,Rl=null,Qn=null,Yh=0,fs=1/0,Md=!1,Zh=null,ja=null,jd=!1,$a=null,$d=0,Ol=0,Jh=null,Ld=-1,Dd=0;function qn(){return kr&6?ur():Ld!==-1?Ld:Ld=ur()}function La(o){return o.mode&1?kr&2&&Tn!==0?Tn&-Tn:GO.transition!==null?(Dd===0&&(o=Ke,Ke<<=1,!(Ke&4194240)&&(Ke=64),Dd=o),Dd):(o=nt,o!==0||(o=window.event,o=o===void 0?16:nb(o.type)),o):1}function _i(o,l,d){if(50<Ol)throw Ol=0,Jh=null,Error(r(185));var w=Bd(o,l);return w===null?null:(sn(w,l,d),(!(kr&2)||w!==fn)&&(w===fn&&(!(kr&2)&&(Fd|=l),vn===4&&Da(w,Tn)),ei(w,d),l===1&&kr===0&&!(o.mode&1)&&(fs=ur()+500,cd&&Na())),w)}function Bd(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}function ei(o,l){var d=o.callbackNode;ir(o,l);var w=Ir(o,o===fn?Tn:0);if(w===0)d!==null&&jr(d),o.callbackNode=null,o.callbackPriority=0;else if(l=w&-w,o.callbackPriority!==l){if(d!=null&&jr(d),l===1)o.tag===0?KO(rx.bind(null,o)):Vb(rx.bind(null,o)),WO(function(){kr===0&&Na()}),d=null;else{switch($t(w)){case 1:d=Lr;break;case 4:d=Te;break;case 16:d=ft;break;case 536870912:d=kt;break;default:d=ft}d=cx(d,tx.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function tx(o,l){if(Ld=-1,Dd=0,kr&6)throw Error(r(327));var d=o.callbackNode;if(ps()&&o.callbackNode!==d)return null;var w=Ir(o,o===fn?Tn:0);if(w===0)return null;if(w&30||w&o.expiredLanes||l)l=zd(o,w);else{l=w;var P=kr;kr|=2;var A=ix();(fn!==o||Tn!==l)&&(fs=ur()+500,go(o,l));do try{hA();break}catch(J){nx(o,J)}while(!0);gh(),Nd.current=A,kr=P,pn!==null?l=0:(fn=null,Tn=0,l=vn)}if(l!==0){if(l===2&&(P=Ar(o),P!==0&&(w=P,l=Qh(o,P))),l===1)throw d=Tl,go(o,0),Da(o,w),ei(o,ur()),d;if(l===6)Da(o,w);else{if(P=o.current.alternate,!(w&30)&&!fA(P)&&(l=zd(o,w),l===2&&(A=Ar(o),A!==0&&(w=A,l=Qh(o,A))),l===1))throw d=Tl,go(o,0),Da(o,w),ei(o,ur()),d;switch(o.finishedWork=P,o.finishedLanes=w,l){case 0:case 1:throw Error(r(345));case 2:mo(o,Qn);break;case 3:if(Da(o,w),(w&130023424)===w&&(l=Yh+500-ur(),10<l)){if(Ir(o,0)!==0)break;if(P=o.suspendedLanes,(P&w)!==w){qn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=uh(mo.bind(null,o,Qn),l);break}mo(o,Qn);break;case 4:if(Da(o,w),(w&4194240)===w)break;for(l=o.eventTimes,P=-1;0<w;){var V=31-Pt(w);A=1<<V,V=l[V],V>P&&(P=V),w&=~A}if(w=P,w=ur()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*dA(w/1960))-w,10<w){o.timeoutHandle=uh(mo.bind(null,o,Qn),w);break}mo(o,Qn);break;case 5:mo(o,Qn);break;default:throw Error(r(329))}}}return ei(o,ur()),o.callbackNode===d?tx.bind(null,o):null}function Qh(o,l){var d=Rl;return o.current.memoizedState.isDehydrated&&(go(o,l).flags|=256),o=zd(o,l),o!==2&&(l=Qn,Qn=d,l!==null&&eg(l)),o}function eg(o){Qn===null?Qn=o:Qn.push.apply(Qn,o)}function fA(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var w=0;w<d.length;w++){var P=d[w],A=P.getSnapshot;P=P.value;try{if(!Bi(A(),P))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Da(o,l){for(l&=~Xh,l&=~Fd,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-Pt(l),w=1<<d;o[d]=-1,l&=~w}}function rx(o){if(kr&6)throw Error(r(327));ps();var l=Ir(o,0);if(!(l&1))return ei(o,ur()),null;var d=zd(o,l);if(o.tag!==0&&d===2){var w=Ar(o);w!==0&&(l=w,d=Qh(o,w))}if(d===1)throw d=Tl,go(o,0),Da(o,l),ei(o,ur()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,mo(o,Qn),ei(o,ur()),null}function tg(o,l){var d=kr;kr|=1;try{return o(l)}finally{kr=d,kr===0&&(fs=ur()+500,cd&&Na())}}function ho(o){$a!==null&&$a.tag===0&&!(kr&6)&&ps();var l=kr;kr|=1;var d=Ei.transition,w=nt;try{if(Ei.transition=null,nt=1,o)return o()}finally{nt=w,Ei.transition=d,kr=l,!(kr&6)&&Na()}}function rg(){di=cs.current,Gr(cs)}function go(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,VO(d)),pn!==null)for(d=pn.return;d!==null;){var w=d;switch(Sh(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&ld();break;case 3:ls(),Gr(Yn),Gr(Nn),Rh();break;case 5:Ph(w);break;case 4:ls();break;case 13:Gr(an);break;case 19:Gr(an);break;case 10:mh(w.type._context);break;case 22:case 23:rg()}d=d.return}if(fn=o,pn=o=Ba(o.current,null),Tn=di=l,vn=0,Tl=null,Xh=Fd=ds=0,Qn=Rl=null,Vi!==null){for(l=0;l<Vi.length;l++)if(d=Vi[l],w=d.interleaved,w!==null){d.interleaved=null;var P=w.next,A=d.pending;if(A!==null){var V=A.next;A.next=P,w.next=V}d.pending=w}Vi=null}return o}function nx(o,l){do{var d=pn;try{if(gh(),xd.current=_d,wd){for(var w=ln.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}wd=!1}if(us=0,kn=Fn=ln=null,Sl=!1,kl=0,Gh.current=null,d===null||d.return===null){vn=1,Tl=l,pn=null;break}e:{var A=o,V=d.return,J=d,oe=l;if(l=Tn,J.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ee=oe,qe=J,Lt=qe.tag;if(!(qe.mode&1)&&(Lt===0||Lt===11||Lt===15)){var it=qe.alternate;it?(qe.updateQueue=it.updateQueue,qe.memoizedState=it.memoizedState,qe.lanes=it.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var Ct=E1(V);if(Ct!==null){Ct.flags&=-257,_1(Ct,V,J,A,l),Ct.mode&1&&C1(A,Ee,l),l=Ct,oe=Ee;var at=l.updateQueue;if(at===null){var ar=new Set;ar.add(oe),l.updateQueue=ar}else at.add(oe);break e}else{if(!(l&1)){C1(A,Ee,l),ng();break e}oe=Error(r(426))}}else if(en&&J.mode&1){var Xr=E1(V);if(Xr!==null){!(Xr.flags&65536)&&(Xr.flags|=256),_1(Xr,V,J,A,l),Eh(oe);break e}}A=oe,vn!==4&&(vn=2),Rl===null?Rl=[A]:Rl.push(A),oe=jh(oe,J),J=V;do{switch(J.tag){case 3:J.flags|=65536,l&=-l,J.lanes|=l;var ge=S1(J,oe,l);qb(J,ge);break e;case 1:A=oe;var ue=J.type,we=J.stateNode;if(!(J.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ja===null||!ja.has(we)))){J.flags|=65536,l&=-l,J.lanes|=l;var Je=k1(J,A,l);qb(J,Je);break e}}J=J.return}while(J!==null)}ox(d)}catch(At){l=At,pn===d&&d!==null&&(pn=d=d.return);continue}break}while(!0)}function ix(){var o=Nd.current;return Nd.current=_d,o===null?_d:o}function ng(){(vn===0||vn===3||vn===2)&&(vn=4),fn===null||!(ds&268435455)&&!(Fd&268435455)||Da(fn,Tn)}function zd(o,l){var d=kr;kr|=2;var w=ix();fn===o&&Tn===l||go(o,l);do try{pA();break}catch(P){nx(o,P)}while(!0);if(gh(),kr=d,Nd.current=w,pn!==null)throw Error(r(261));return fn=null,Tn=0,vn}function pA(){for(;pn!==null;)ax(pn)}function hA(){for(;pn!==null&&!Hr();)ax(pn)}function ax(o){var l=ux(o.alternate,o,di);o.memoizedProps=o.pendingProps,l===null?ox(o):pn=l,Gh.current=null}function ox(o){var l=o;do{var d=l.alternate;if(o=l.return,l.flags&32768){if(d=oA(d,l),d!==null){d.flags&=32767,pn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vn=6,pn=null;return}}else if(d=nA(d,l,di),d!==null){pn=d;return}if(l=l.sibling,l!==null){pn=l;return}pn=l=o}while(l!==null);vn===0&&(vn=5)}function mo(o,l){var d=nt,w=Ei.transition;try{Ei.transition=null,nt=1,gA(o,l,d)}finally{Ei.transition=w,nt=d}return null}function gA(o,l,d){do ps();while($a!==null);if(kr&6)throw Error(r(327));var w=o.finishedWork,P=o.finishedLanes;if(w===null)return null;if(o.finishedWork=null,o.finishedLanes=0,w===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var A=w.lanes|w.childLanes;if(Se(o,A),o===fn&&(pn=fn=null,Tn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||jd||(jd=!0,cx(ft,function(){return ps(),null})),A=(w.flags&15990)!==0,w.subtreeFlags&15990||A){A=Ei.transition,Ei.transition=null;var V=nt;nt=1;var J=kr;kr|=4,Gh.current=null,lA(o,w),uA(o,w),MO(sh),sh=null,o.current=w,cA(w),$r(),kr=J,nt=V,Ei.transition=A}else o.current=w;if(jd&&(jd=!1,$a=o,$d=P),A=o.pendingLanes,A===0&&(ja=null),Jt(w.stateNode),ei(o,ur()),l!==null)for(d=o.onRecoverableError,w=0;w<l.length;w++)d(l[w]);if(Md)throw Md=!1,o=Zh,Zh=null,o;return $d&1&&o.tag!==0&&ps(),A=o.pendingLanes,A&1?o===Jh?Ol++:(Ol=0,Jh=o):Ol=0,Na(),null}function ps(){if($a!==null){var o=$t($d),l=Ei.transition,d=nt;try{if(Ei.transition=null,nt=16>o?16:o,$a===null)var w=!1;else{if(o=$a,$a=null,$d=0,kr&6)throw Error(r(331));var P=kr;for(kr|=4,xt=o.current;xt!==null;){var A=xt,V=A.child;if(xt.flags&16){var J=A.deletions;if(J!==null){for(var oe=0;oe<J.length;oe++){var Ee=J[oe];for(xt=Ee;xt!==null;){var qe=xt;switch(qe.tag){case 0:case 11:case 15:Pl(8,qe,A)}var Lt=qe.child;if(Lt!==null)Lt.return=qe,xt=Lt;else for(;xt!==null;){qe=xt;var it=qe.sibling,Ct=qe.return;if(H1(qe),qe===Ee){xt=null;break}if(it!==null){it.return=Ct,xt=it;break}xt=Ct}}}var at=A.alternate;if(at!==null){var ar=at.child;if(ar!==null){at.child=null;do{var Xr=ar.sibling;ar.sibling=null,ar=Xr}while(ar!==null)}}xt=A}}if(A.subtreeFlags&2064&&V!==null)V.return=A,xt=V;else e:for(;xt!==null;){if(A=xt,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Pl(9,A,A.return)}var ge=A.sibling;if(ge!==null){ge.return=A.return,xt=ge;break e}xt=A.return}}var ue=o.current;for(xt=ue;xt!==null;){V=xt;var we=V.child;if(V.subtreeFlags&2064&&we!==null)we.return=V,xt=we;else e:for(V=ue;xt!==null;){if(J=xt,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:Id(9,J)}}catch(At){ti(J,J.return,At)}if(J===V){xt=null;break e}var Je=J.sibling;if(Je!==null){Je.return=J.return,xt=Je;break e}xt=J.return}}if(kr=P,Na(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(lt,o)}catch{}w=!0}return w}finally{nt=d,Ei.transition=l}}return!1}function sx(o,l,d){l=jh(d,l),l=S1(o,l,1),Ma(o,l),l=qn(),o=Bd(o,1),o!==null&&(sn(o,1,l),ei(o,l))}function ti(o,l,d){if(o.tag===3)sx(o,o,d);else for(;l!==null;){if(l.tag===3){sx(l,o,d);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ja===null||!ja.has(w))){o=jh(d,o),o=k1(l,o,1),Ma(l,o),o=qn(),l=Bd(l,1),l!==null&&(sn(l,1,o),ei(l,o));break}}l=l.return}}function mA(o,l,d){var w=o.pingCache;w!==null&&w.delete(l),l=qn(),o.pingedLanes|=o.suspendedLanes&d,fn===o&&(Tn&d)===d&&(vn===4||vn===3&&(Tn&130023424)===Tn&&500>ur()-Yh?go(o,0):Xh|=d),ei(o,l)}function lx(o,l){l===0&&(o.mode&1?(l=Ae,Ae<<=1,!(Ae&130023424)&&(Ae=4194304)):l=1);var d=qn();o=Bd(o,l),o!==null&&(sn(o,l,d),ei(o,d))}function vA(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),lx(o,d)}function yA(o,l){var d=0;switch(o.tag){case 13:var w=o.stateNode,P=o.memoizedState;P!==null&&(d=P.retryLane);break;case 19:w=o.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(l),lx(o,d)}var ux;ux=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Yn.current)ci=!0;else{if(!(o.lanes&d)&&!(l.flags&128))return ci=!1,aA(o,l,d);ci=!!(o.flags&131072)}else ci=!1,en&&l.flags&1048576&&Yb(l,vd,l.index);switch(l.lanes=0,l.tag){case 2:var w=l.type;o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps;var P=ts(l,Nn.current);ns(l,d),P=Ah(null,l,w,o,P,d);var A=Ih();return l.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Zn(w)?(A=!0,ud(l)):A=!1,l.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,yh(l),P.updater=gd,l.stateNode=P,P._reactInternals=l,xh(l,w,o,d),l=Bh(null,l,w,!0,A,d)):(l.tag=0,en&&A&&wh(l),Wn(null,l,P,d),l=l.child),l;case 16:w=l.elementType;e:{switch(o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps,P=w._init,w=P(w._payload),l.type=w,P=l.tag=xA(w),o=Fi(w,o),P){case 0:l=Dh(null,l,w,o,d);break e;case 1:l=M1(null,l,w,o,d);break e;case 11:l=O1(null,l,w,o,d);break e;case 14:l=A1(null,l,w,Fi(w.type,o),d);break e}throw Error(r(306,w,""))}return l;case 0:return w=l.type,P=l.pendingProps,P=l.elementType===w?P:Fi(w,P),Dh(o,l,w,P,d);case 1:return w=l.type,P=l.pendingProps,P=l.elementType===w?P:Fi(w,P),M1(o,l,w,P,d);case 3:e:{if(j1(l),o===null)throw Error(r(387));w=l.pendingProps,A=l.memoizedState,P=A.element,Wb(o,l),hd(l,w,null,d);var V=l.memoizedState;if(w=V.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:V.cache,transitions:V.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){P=Error(r(423)),l=$1(o,l,w,d,P);break e}else if(w!==P){P=Error(r(424)),l=$1(o,l,w,d,P);break e}else for(Jn=ia(l.stateNode.containerInfo.firstChild),ui=l,en=!0,Mi=null,d=r1(l,null,w,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(os(),w===P){l=da(o,l,d);break e}Wn(o,l,w,d)}l=l.child}return l;case 5:return n1(l),o===null&&Ch(l),w=l.type,P=l.pendingProps,A=o!==null?o.memoizedProps:null,V=P.children,lh(w,P)?V=null:A!==null&&lh(w,A)&&(l.flags|=32),F1(o,l),Wn(o,l,V,d),l.child;case 6:return o===null&&Ch(l),null;case 13:return L1(o,l,d);case 4:return _h(l,l.stateNode.containerInfo),w=l.pendingProps,o===null?l.child=ss(l,null,w,d):Wn(o,l,w,d),l.child;case 11:return w=l.type,P=l.pendingProps,P=l.elementType===w?P:Fi(w,P),O1(o,l,w,P,d);case 7:return Wn(o,l,l.pendingProps,d),l.child;case 8:return Wn(o,l,l.pendingProps.children,d),l.child;case 12:return Wn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(w=l.type._context,P=l.pendingProps,A=l.memoizedProps,V=P.value,Ur(dd,w._currentValue),w._currentValue=V,A!==null)if(Bi(A.value,V)){if(A.children===P.children&&!Yn.current){l=da(o,l,d);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var J=A.dependencies;if(J!==null){V=A.child;for(var oe=J.firstContext;oe!==null;){if(oe.context===w){if(A.tag===1){oe=sa(-1,d&-d),oe.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var qe=Ee.pending;qe===null?oe.next=oe:(oe.next=qe.next,qe.next=oe),Ee.pending=oe}}A.lanes|=d,oe=A.alternate,oe!==null&&(oe.lanes|=d),vh(A.return,d,l),J.lanes|=d;break}oe=oe.next}}else if(A.tag===10)V=A.type===l.type?null:A.child;else if(A.tag===18){if(V=A.return,V===null)throw Error(r(341));V.lanes|=d,J=V.alternate,J!==null&&(J.lanes|=d),vh(V,d,l),V=A.sibling}else V=A.child;if(V!==null)V.return=A;else for(V=A;V!==null;){if(V===l){V=null;break}if(A=V.sibling,A!==null){A.return=V.return,V=A;break}V=V.return}A=V}Wn(o,l,P.children,d),l=l.child}return l;case 9:return P=l.type,w=l.pendingProps.children,ns(l,d),P=wi(P),w=w(P),l.flags|=1,Wn(o,l,w,d),l.child;case 14:return w=l.type,P=Fi(w,l.pendingProps),P=Fi(w.type,P),A1(o,l,w,P,d);case 15:return I1(o,l,l.type,l.pendingProps,d);case 17:return w=l.type,P=l.pendingProps,P=l.elementType===w?P:Fi(w,P),o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),l.tag=1,Zn(w)?(o=!0,ud(l)):o=!1,ns(l,d),Gb(l,w,P),xh(l,w,P,d),Bh(null,l,w,!0,o,d);case 19:return V1(o,l,d);case 22:return N1(o,l,d)}throw Error(r(156,l.tag))};function cx(o,l){return vr(o,l)}function bA(o,l,d,w){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(o,l,d,w){return new bA(o,l,d,w)}function ig(o){return o=o.prototype,!(!o||!o.isReactComponent)}function xA(o){if(typeof o=="function")return ig(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===K)return 14}return 2}function Ba(o,l){var d=o.alternate;return d===null?(d=Pi(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Vd(o,l,d,w,P,A){var V=2;if(w=o,typeof o=="function")ig(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case O:return vo(d.children,P,A,l);case D:V=8,P|=8;break;case j:return o=Pi(12,d,l,P|2),o.elementType=j,o.lanes=A,o;case I:return o=Pi(13,d,l,P),o.elementType=I,o.lanes=A,o;case $:return o=Pi(19,d,l,P),o.elementType=$,o.lanes=A,o;case G:return Wd(d,P,A,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:V=10;break e;case M:V=9;break e;case z:V=11;break e;case K:V=14;break e;case U:V=16,w=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Pi(V,d,l,P),l.elementType=o,l.type=w,l.lanes=A,l}function vo(o,l,d,w){return o=Pi(7,o,w,l),o.lanes=d,o}function Wd(o,l,d,w){return o=Pi(22,o,w,l),o.elementType=G,o.lanes=d,o.stateNode={},o}function ag(o,l,d){return o=Pi(6,o,null,l),o.lanes=d,o}function og(o,l,d){return l=Pi(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function wA(o,l,d,w,P){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=w,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function sg(o,l,d,w,P,A,V,J,oe){return o=new wA(o,l,d,J,oe),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Pi(3,null,null,l),o.current=A,A.stateNode=o,A.memoizedState={element:w,isDehydrated:d,cache:null,transitions:null},yh(A),o}function SA(o,l,d){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:w==null?null:""+w,children:o,containerInfo:l,implementation:d}}function dx(o){if(!o)return Ia;o=o._reactInternals;e:{if(_r(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Zn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(Zn(d))return Bb(o,d,l)}return l}function fx(o,l,d,w,P,A,V,J,oe){return o=sg(d,w,!0,o,P,A,V,J,oe),o.context=dx(null),d=o.current,w=qn(),P=La(d),A=sa(w,P),A.callback=l??null,Ma(d,A),o.current.lanes=P,sn(o,P,w),ei(o,w),o}function qd(o,l,d,w){var P=l.current,A=qn(),V=La(P);return d=dx(d),l.context===null?l.context=d:l.pendingContext=d,l=sa(A,V),l.payload={element:o},w=w===void 0?null:w,w!==null&&(l.callback=w),Ma(P,l),o=_i(P,V,A),o!==null&&pd(o,P,V),V}function Hd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function px(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function lg(o,l){px(o,l),(o=o.alternate)&&px(o,l)}function kA(){return null}var hx=typeof reportError=="function"?reportError:function(o){console.error(o)};function ug(o){this._internalRoot=o}Ud.prototype.render=ug.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));qd(o,l,null,null)},Ud.prototype.unmount=ug.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ho(function(){qd(null,o,null,null)}),l[aa]=null}};function Ud(o){this._internalRoot=o}Ud.prototype.unstable_scheduleHydration=function(o){if(o){var l=Fe();o={blockedOn:null,target:o,priority:l};for(var d=0;d<dt.length&&l!==0&&l<dt[d].priority;d++);dt.splice(d,0,o),d===0&&tb(o)}};function cg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function gx(){}function CA(o,l,d,w,P){if(P){if(typeof w=="function"){var A=w;w=function(){var Ee=Hd(V);A.call(Ee)}}var V=fx(l,w,o,0,null,!1,!1,"",gx);return o._reactRootContainer=V,o[aa]=V.current,pl(o.nodeType===8?o.parentNode:o),ho(),V}for(;P=o.lastChild;)o.removeChild(P);if(typeof w=="function"){var J=w;w=function(){var Ee=Hd(oe);J.call(Ee)}}var oe=sg(o,0,!1,null,null,!1,!1,"",gx);return o._reactRootContainer=oe,o[aa]=oe.current,pl(o.nodeType===8?o.parentNode:o),ho(function(){qd(l,oe,d,w)}),oe}function Gd(o,l,d,w,P){var A=d._reactRootContainer;if(A){var V=A;if(typeof P=="function"){var J=P;P=function(){var oe=Hd(V);J.call(oe)}}qd(l,V,o,P)}else V=CA(d,l,o,P,w);return Hd(V)}or=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=bt(l.pendingLanes);d!==0&&(ut(l,d|1),ei(l,ur()),!(kr&6)&&(fs=ur()+500,Na()))}break;case 13:var w=qn();ho(function(){return _i(o,1,w)}),lg(o,1)}},ye=function(o){if(o.tag===13){var l=qn();_i(o,134217728,l),lg(o,134217728)}},ae=function(o){if(o.tag===13){var l=qn(),d=La(o);_i(o,d,l),lg(o,d)}},Fe=function(){return nt},je=function(o,l){var d=nt;try{return nt=o,l()}finally{nt=d}},xe=function(o,l,d){switch(l){case"input":if(De(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var w=d[l];if(w!==o&&w.form===o.form){var P=sd(w);if(!P)throw Error(r(90));ke(w),De(w,P)}}}break;case"textarea":We(o,d);break;case"select":l=d.value,l!=null&&ht(o,!!d.multiple,l,!1)}},Vt=tg,He=ho;var EA={usingClientEntryPoint:!1,Events:[ml,Qo,sd,ct,_t,tg]},Al={findFiberByHostInstance:oo,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},_A={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Rr(o),o===null?null:o.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{lt=Xd.inject(_A),Kt=Xd}catch{}}return ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EA,ri.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(l))throw Error(r(200));return SA(o,l,null,d)},ri.createRoot=function(o,l){if(!cg(o))throw Error(r(299));var d=!1,w="",P=hx;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=sg(o,1,!1,null,null,d,!1,w,P),o[aa]=l.current,pl(o.nodeType===8?o.parentNode:o),new ug(l)},ri.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Rr(l),o=o===null?null:o.stateNode,o},ri.flushSync=function(o){return ho(o)},ri.hydrate=function(o,l,d){if(!Kd(l))throw Error(r(200));return Gd(null,o,l,!0,d)},ri.hydrateRoot=function(o,l,d){if(!cg(o))throw Error(r(405));var w=d!=null&&d.hydratedSources||null,P=!1,A="",V=hx;if(d!=null&&(d.unstable_strictMode===!0&&(P=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),l=fx(l,null,o,1,d??null,P,!1,A,V),o[aa]=l.current,pl(o),w)for(o=0;o<w.length;o++)d=w[o],P=d._getVersion,P=P(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,P]:l.mutableSourceEagerHydrationData.push(d,P);return new Ud(l)},ri.render=function(o,l,d){if(!Kd(l))throw Error(r(200));return Gd(null,o,l,!1,d)},ri.unmountComponentAtNode=function(o){if(!Kd(o))throw Error(r(40));return o._reactRootContainer?(ho(function(){Gd(null,null,o,!1,function(){o._reactRootContainer=null,o[aa]=null})}),!0):!1},ri.unstable_batchedUpdates=tg,ri.unstable_renderSubtreeIntoContainer=function(o,l,d,w){if(!Kd(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Gd(o,l,d,!1,w)},ri.version="18.0.0-fc46dba67-20220329",ri}var kx;function u2(){if(kx)return pg.exports;kx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=MA(),pg.exports}var Cx;function jA(){if(Cx)return Yd;Cx=1;var t=u2();return Yd.createRoot=t.createRoot,Yd.hydrateRoot=t.hydrateRoot,Yd}var $A=jA();const LA=(t,e,r,n)=>new Promise((i,a)=>{const s=r<=0?1:r/t.width,u=n<=0?1:n/t.height,c=Math.min(1,Math.min(s,u));if(c<1){const h=t.width*c,f=t.height*c;createImageBitmap(t,{resizeWidth:h,resizeHeight:f,resizeQuality:"high"}).then(g=>{t.width=h,t.height=f,e.drawImage(g,0,0),i(t)}).catch(g=>a(g))}else i(t)});var Ls=(t=>(t[t.captureFailed=1]="captureFailed",t[t.fileLinkLost=2]="fileLinkLost",t))(Ls||{}),Wf=(t=>(t[t.drmProtected=1]="drmProtected",t[t.fileLinkLost=2]="fileLinkLost",t))(Wf||{}),hr=(t=>(t[t.none=0]="none",t[t.showAnkiDialog=1]="showAnkiDialog",t[t.updateLastCard=2]="updateLastCard",t[t.exportCard=3]="exportCard",t))(hr||{}),An=(t=>(t[t.remember=0]="remember",t[t.play=1]="play",t[t.pause=2]="pause",t))(An||{}),Ai=(t=>(t[t.atStart=1]="atStart",t[t.atEnd=2]="atEnd",t))(Ai||{}),sr=(t=>(t[t.normal=1]="normal",t[t.condensed=2]="condensed",t[t.autoPause=3]="autoPause",t[t.fastForward=4]="fastForward",t[t.repeat=5]="repeat",t))(sr||{}),on=(t=>(t[t.timeDisplay=0]="timeDisplay",t[t.subtitleOffset=1]="subtitleOffset",t[t.playbackRate=2]="playbackRate",t))(on||{}),mg,Ex;function DA(){if(Ex)return mg;Ex=1;function t(r){return r>=55296&&r<=56319}function e(r){return r>=56320&&r<=57343}return mg=function(n,i,a){if(typeof i!="string")throw new Error("Input must be string");for(var s=i.length,u=0,c,h,f=0;f<s;f+=1){if(c=i.charCodeAt(f),h=i[f],t(c)&&e(i.charCodeAt(f+1))&&(f+=1,h+=i[f]),u+=n(h),u===a)return i.slice(0,f+1);if(u>a)return i.slice(0,f-h.length+1)}return i},mg}var vg,_x;function BA(){if(_x)return vg;_x=1;function t(r){return r>=55296&&r<=56319}function e(r){return r>=56320&&r<=57343}return vg=function(n){if(typeof n!="string")throw new Error("Input must be string");for(var i=n.length,a=0,s=null,u=null,c=0;c<i;c++)s=n.charCodeAt(c),e(s)?u!=null&&t(u)?a+=1:a+=3:s<=127?a+=1:s>=128&&s<=2047?a+=2:s>=2048&&s<=65535&&(a+=3),u=s;return a},vg}var yg,Px;function zA(){if(Px)return yg;Px=1;var t=DA(),e=BA();return yg=t.bind(null,e),yg}var bg,Tx;function VA(){if(Tx)return bg;Tx=1;var t=zA(),e=/[\/\?<>\\:\*\|"]/g,r=/[\x00-\x1f\x80-\x9f]/g,n=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,a=/[\. ]+$/;function s(u,c){if(typeof u!="string")throw new Error("Input must be string");var h=u.replace(e,c).replace(r,c).replace(n,c).replace(i,c).replace(a,c);return t(h,255)}return bg=function(u,c){var h=c&&c.replacement||"",f=s(u,h);return h===""?f:s(f,"")},bg}var WA=VA();const c2=zt(WA);function xc(t,e=!1){const r=Math.floor(t/1e3);let n;e?n=Math.round(t/1e3%60*10)/10:n=r%60;const i=Math.floor(r/60)%60,a=Math.floor(r/3600);return a>0?a+"h"+String(i).padStart(2,"0")+"m"+String(n).padStart(2,"0")+"s":i+"m"+String(n).padStart(2,"0")+"s"}function d2(t,e,r,n){let i=e;for(let s=e;s>=0&&(i=s,!Ox(t,i,e,r,n,1));--s);let a=i;for(let s=e;s<=t.length-1&&(a=s,!Ox(t,a,e,r,n,0));++s);return t.slice(i,a+1)}function Rx(t,e,r){if(r===0){for(let n=0;n<t.length;++n)if(t[n].start>=e)return n}else for(let n=t.length-1;n>=0;--n)if(t[n].start<=e)return n}function Xy(t,e,r,n,i){if(t.length===0)return{};let a=0;const s=Rx(t,e,0)??t.length-1;for(let h=0;h<t.length&&(a=h,!Ax(t,h,n,i,e,s));++h);let u=t.length-1;const c=Rx(t,r,1)??0;for(let h=t.length-1;h>=0&&(u=h,!Ax(t,h,n,i,r,c));--h);return u<=a?{}:{surroundingSubtitles:t.slice(a,u+1),subtitle:t[s]}}function Uv(t,e,r){const n=[t],i=t.start-t.originalStart;if(t.end<e){const a=Math.min(e,t.end+r);n.push({text:"",start:t.end,end:a,originalStart:t.end-i,originalEnd:a-i,track:t.track})}if(t.start>0){const a=Math.max(0,t.start-r);n.unshift({text:"",start:a,end:t.start,originalStart:a-i,originalEnd:t.start-i,track:t.track})}return n}function Ox(t,e,r,n,i,a){let s;return a==0?s=e+1<t.length?t[e+1]:null:s=e-1>=0?t[e-1]:null,Math.abs(r-e)>=n&&(s===null||Math.abs(s.start-t[r].start)>=i)}function Ax(t,e,r,n,i,a){const s=t[e];return Math.abs(a-e)<=r||Math.abs(s.start-i)<=n}function Zu(t,e){const r=Math.max(0,t.end-t.start);if(r===0)return!1;const n=Math.max(t.start,e[0]);return Math.min(t.end,e[1])-n>=r/2}function Rf(t){return t.filter(e=>e.text.trim()!=="").map(e=>e.text).join(`
`)}function ba(t,e,r){if(e.length===0)return t.text;const n=[t.start,t.end];return Rf(e.filter(i=>Zu(i,n)).filter(i=>r===void 0||i.track===r))}function wc(t,e){const r=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=r,n.download=c2(e),n.click(),URL.revokeObjectURL(r),n.remove()}function Yy({subtitleColor:t,subtitleSize:e,subtitleThickness:r,subtitleOutlineThickness:n,subtitleOutlineColor:i,subtitleShadowThickness:a,subtitleShadowColor:s,subtitleBackgroundOpacity:u,subtitleBackgroundColor:c,subtitleFontFamily:h,subtitleCustomStyles:f}){const g={color:t,fontSize:`${e}px`,fontWeight:String(r)};if(n>0){const p=n,y=i;g.WebkitTextStroke=`${y} ${p}px`}if(a>0&&(g.textShadow=`0 0 ${a}px ${s}, 0 0 ${a}px ${s}, 0 0 ${a}px ${s}, 0 0 ${a}px ${s}`),u>0){const p=u,y=c,{r:b,g:v,b:S}=UA(y);g.backgroundColor=`rgba(${b}, ${v}, ${S}, ${p})`}h&&h.length>0&&(g.fontFamily=`'${h}'`);for(const p of f){let y;p.key.startsWith("webkit")||p.key.startsWith("moz")||p.key.startsWith("ms")||/^o[A-Z].*/.test(p.key)?y=p.key.charAt(0).toUpperCase()+p.key.slice(1):y=p.key,f2(y)||(g[y]=p.value)}return g}function f2(t){return!isNaN(Number(t))}function qA(t){const e=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(r,n)=>(n?"-":"")+r.toLowerCase());return e.startsWith("webkit-")||e.startsWith("moz-")||e.startsWith("ms-")||e.startsWith("o-")?`-${e}`:e}function HA(t){const e=Yy(t),r=[];for(const[n,i]of Object.entries(e))r.push(`${qA(n)}: ${i} !important`);return r.join(";")}function UA(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:255,g:255,b:255}}function KA(t,e){return t.currentTime=e,t.currentTime<e&&(t.currentTime=Math.min(t.duration,t.currentTime+.01)),t.currentTime}const gp={},Kv=t=>{const e=URL.createObjectURL(t);return gp[e]=!0,e},GA=t=>{gp[t]=!0},Ix=t=>{delete gp[t],URL.revokeObjectURL(t)},p2=t=>t in gp,XA=24,h2=(t,e)=>`${t.replaceAll(" ","_").substring(0,Math.min(t.length,XA))}_${Math.floor(e)}`;class YA{constructor(e,r,n,i,a){this._name=e,this._timestamp=r,this._base64=n,this._extension=i,this._error=a}get name(){return this._name}get timestamp(){return this._timestamp}get extension(){return this._extension}get error(){return this._error}atTimestamp(e){return this}get canChangeTimestamp(){return!1}async base64(){return this._base64}async blob(){return await this._blob()}async _blob(){return this.cachedBlob||(this.cachedBlob=await(await fetch(this._dataUrl())).blob()),this.cachedBlob}async dataUrl(){return this._dataUrl()}_dataUrl(){return"data:image/"+this.extension+";base64,"+this._base64}dispose(){}}class g2 extends Error{}class Zy{constructor(e,r,n,i,a,s){this._file=e,this._name=`${h2(e.name,r)}.jpeg`,this._timestamp=r,this._maxWidth=n,this._maxHeight=i,this._video=a,this._canvas=s}get name(){return this._name}get timestamp(){return this._timestamp}get extension(){return"jpeg"}get error(){if(this._file.blobUrl)return p2(this._file.blobUrl)?void 0:Ls.fileLinkLost}atTimestamp(e){var r;return e===this._timestamp?this:((r=this._canvasPromiseReject)==null||r.call(this,new g2),new Zy(this._file,e,this._maxWidth,this._maxHeight,this._video,this._canvas))}get canChangeTimestamp(){return!0}async base64(){return new Promise((e,r)=>{this._getCanvas().then(n=>{const i=n.toDataURL("image/jpeg");e(i.substring(i.indexOf(",")+1))}).catch(r)})}async blob(){return new Promise((e,r)=>{this._getCanvas().then(n=>{n.toBlob(i=>{i===null?r(new Error("Could not obtain blob")):e(i)},"image/jpeg")}).catch(r)})}async dataUrl(){return(await this._getCanvas()).toDataURL()}async _getCanvas(){return this._canvasPromise?this._canvasPromise:(this._canvasPromise=new Promise(async(e,r)=>{this._canvasPromiseReject=r;const n=this._videoElement(this._file),i=()=>Math.max(0,Math.min(n.duration,this._timestamp/1e3));Number.isFinite(n.duration)?n.currentTime=i():n.onloadedmetadata=()=>{n.currentTime=i(),n.onloadedmetadata=null},n.onseeked=async()=>{this._canvasPromiseReject=void 0,this._canvas||(this._canvas=document.createElement("canvas"));const a=this._canvas;a.width=n.videoWidth,a.height=n.videoHeight;const s=a.getContext("2d");s.drawImage(n,0,0,a.width,a.height),n.onseeked=null,(this._maxWidth>0||this._maxHeight>0)&&await LA(a,s,this._maxWidth,this._maxHeight),e(a)},n.onerror=()=>{var a;r(((a=n.error)==null?void 0:a.message)??"Could not load video to obtain screenshot")}}),this._canvasPromise)}_videoElement(e){if(this._video)return this._video;const r=document.createElement("video");return r.src=e.blobUrl,r.preload="metadata",r.autoplay=!1,r.volume=0,r.controls=!1,r.pause(),this._video=r,r}dispose(){var e;this._video&&(this._video.removeAttribute("src"),this._video.load(),this._video.remove(),this._video=void 0,(e=this._canvas)==null||e.remove())}}let qf=class Ps{constructor(e){this.data=e}static fromCard(e,r,n){if(e.image)return Ps.fromBase64(e.subtitleFileName,e.subtitle.start,e.image.base64,e.image.extension,e.image.error);if(e.file)return Ps.fromFile(e.file,e.mediaTimestamp??e.subtitle.start,r,n)}static fromBase64(e,r,n,i,a){const s=e.substring(0,e.lastIndexOf(".")),u=`${h2(s,r)}.${i}`;return new Ps(new YA(u,r,n,i,a))}static fromFile(e,r,n,i){return new Ps(new Zy(e,r,n,i))}get name(){return this.data.name}get timestamp(){return this.data.timestamp}get extension(){return this.data.extension}get error(){return this.data.error}async base64(){return await this.data.base64()}async dataUrl(){return await this.data.dataUrl()}async blob(){return await this.data.blob()}async pngBlob(){return new Promise(async(e,r)=>{try{createImageBitmap(await this.blob()).then(n=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),i.toBlob(a=>{a?e(a):r("Failed to convert to PNG")},"image/png")})}catch(n){r(n)}})}atTimestamp(e){return new Ps(this.data.atTimestamp(e))}get canChangeTimestamp(){return this.data.canChangeTimestamp}dispose(){return this.data.dispose()}async download(){const e=await this.data.blob();wc(e,this.data.name)}};class m2{async fetch(e,r){return await(await fetch(e,{method:"POST",body:JSON.stringify(r)})).json()}}class v2{willStopShowing(e){var r,n;e.end!==((r=this.lastWillStopShowing)==null?void 0:r.end)&&((n=this.onWillStopShowing)==null||n.call(this,e),this.lastWillStopShowing=e)}startedShowing(e){var r,n;e.start!==((r=this.lastStartedShowing)==null?void 0:r.start)&&((n=this.onStartedShowing)==null||n.call(this),this.lastStartedShowing=e)}clear(){this.lastStartedShowing=void 0,this.lastWillStopShowing=void 0}}class Nx{constructor(){this._cachedContentElements={},this._empty=!0}get empty(){return this._empty}clear(){var e;(e=this.offscreenElement)==null||e.remove(),this.offscreenElement=void 0,this._cachedContentElements={},this._empty=!0}add(e,r){const n=document.createElement("div");n.innerHTML=`${r}
`,this._cachedContentElements[e]=n,this._offscreenElement().appendChild(n),this._empty=!1}return(e){this._offscreenElement().appendChild(e)}get(e,r){let n=this._cachedContentElements[e];if(!n){if(r===void 0)throw new Error(`Cached html not found for key ${e}`);n=document.createElement("div"),n.innerHTML=r(),this._cachedContentElements[e]=n,this._offscreenElement().appendChild(n)}return n}_offscreenElement(){if(this.offscreenElement)return this.offscreenElement;const e=document.createElement("div");return e.className="asbplayer-offscreen",document.body.append(e),this.offscreenElement=e,e}}class Fx{constructor(e,r){if(this.copyHandlers=[],this.ankiExportHandlers=[],this.updateLastCardHandlers=[],this.takeScreenshotHandlers=[],this.toggleRecordingHandlers=[],this.defaultKeyBinder=e,this.extension=r,this.extension.installed){const n=i=>{let a;if(i.data.command==="copy-subtitle"){const s=i.data;switch(s.postMineAction){case hr.none:a=this.copyHandlers;break;case hr.showAnkiDialog:a=this.ankiExportHandlers;break;case hr.updateLastCard:a=this.updateLastCardHandlers;break;default:console.error("Unknown post mine action "+s.postMineAction)}}else i.data.command==="take-screenshot"?a=this.takeScreenshotHandlers:i.data.command==="toggle-recording"&&(a=this.toggleRecordingHandlers);if(a!==void 0)for(const s of a)s(new KeyboardEvent("mock"))};this._unsubscribeExtension=r.subscribe(n)}}bindCopy(e,r,n,i){if(this.extension.installed){const a=this.defaultKeyBinder.copyHandler(e,r,n);return this.copyHandlers.push(a),()=>{this._remove(a,this.copyHandlers)}}return this.defaultKeyBinder.bindCopy(e,r,n,i)}bindAnkiExport(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.ankiExportHandler(e,r);return this.ankiExportHandlers.push(i),()=>{this._remove(i,this.ankiExportHandlers)}}return this.defaultKeyBinder.bindAnkiExport(e,r,n)}bindUpdateLastCard(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.updateLastCardHandler(e,r);return this.updateLastCardHandlers.push(i),()=>{this._remove(i,this.updateLastCardHandlers)}}return this.defaultKeyBinder.bindUpdateLastCard(e,r,n)}bindTakeScreenshot(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.takeScreenshotHandler(e,r);return this.takeScreenshotHandlers.push(i),()=>{this._remove(i,this.takeScreenshotHandlers)}}return this.defaultKeyBinder.bindTakeScreenshot(e,r,n)}bindToggleRecording(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.toggleRecordingHandler(e,r);return this.toggleRecordingHandlers.push(i),()=>{this._remove(i,this.toggleRecordingHandlers)}}return this.defaultKeyBinder.bindToggleRecording(e,r,n)}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}bindSeekToSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindSeekToSubtitle(e,r,n,i,a)}bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a)}bindSeekBackwardOrForward(e,r,n){return this.defaultKeyBinder.bindSeekBackwardOrForward(e,r,n)}bindOffsetToSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindOffsetToSubtitle(e,r,n,i,a)}bindAdjustOffset(e,r,n,i){return this.defaultKeyBinder.bindAdjustOffset(e,r,n,i)}bindResetOffet(e,r,n){return this.defaultKeyBinder.bindResetOffet(e,r,n)}bindAdjustPlaybackRate(e,r,n=!1){return this.defaultKeyBinder.bindAdjustPlaybackRate(e,r,n)}bindToggleSubtitles(e,r,n){return this.defaultKeyBinder.bindToggleSubtitles(e,r,n)}bindToggleSubtitleTrackInVideo(e,r,n){return this.defaultKeyBinder.bindToggleSubtitleTrackInVideo(e,r,n)}bindToggleSubtitleTrackInList(e,r,n){return this.defaultKeyBinder.bindToggleSubtitleTrackInList(e,r,n)}bindUnblurTrack(e,r,n){return this.defaultKeyBinder.bindUnblurTrack(e,r,n)}bindPlay(e,r,n){return this.defaultKeyBinder.bindPlay(e,r,n)}bindAutoPause(e,r,n){return this.defaultKeyBinder.bindAutoPause(e,r,n)}bindCondensedPlayback(e,r,n){return this.defaultKeyBinder.bindCondensedPlayback(e,r,n)}bindFastForwardPlayback(e,r,n){return this.defaultKeyBinder.bindFastForwardPlayback(e,r,n)}bindToggleSidePanel(e,r,n){return this.defaultKeyBinder.bindToggleSidePanel(e,r,n)}bindToggleRepeat(e,r,n){return this.defaultKeyBinder.bindToggleRepeat(e,r,n)}unsubscribeExtension(){var e;(e=this._unsubscribeExtension)==null||e.call(this)}}var Zd,ZA=new Uint8Array(16);function JA(){if(!Zd&&(Zd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zd(ZA)}const QA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function eI(t){return typeof t=="string"&&QA.test(t)}var On=[];for(var xg=0;xg<256;++xg)On.push((xg+256).toString(16).substr(1));function tI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(On[t[e+0]]+On[t[e+1]]+On[t[e+2]]+On[t[e+3]]+"-"+On[t[e+4]]+On[t[e+5]]+"-"+On[t[e+6]]+On[t[e+7]]+"-"+On[t[e+8]]+On[t[e+9]]+"-"+On[t[e+10]]+On[t[e+11]]+On[t[e+12]]+On[t[e+13]]+On[t[e+14]]+On[t[e+15]]).toLowerCase();if(!eI(r))throw TypeError("Stringified UUID is invalid");return r}function hn(t,e,r){t=t||{};var n=t.random||(t.rng||JA)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tI(n)}var wg,Mx;function y2(){if(Mx)return wg;Mx=1;var t={};return wg=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},wg}var Sg,jx;function b2(){if(jx)return Sg;jx=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=e-6;return Sg={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Sg}var Jd={exports:{}},$x;function rI(){return $x||($x=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=b2(),a=y2();e=t.exports={};const s=e.re=[],u=e.safeRe=[],c=e.src=[],h=e.t={};let f=0;const g="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[g,n]],y=v=>{for(const[S,x]of p)v=v.split(`${S}*`).join(`${S}{0,${x}}`).split(`${S}+`).join(`${S}{1,${x}}`);return v},b=(v,S,x)=>{const k=y(S),C=f++;a(v,C,S),h[v]=C,c[C]=S,s[C]=new RegExp(S,x?"g":void 0),u[C]=new RegExp(k,x?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),b("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${g}+`),b("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),b("FULL",`^${c[h.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),b("LOOSE",`^${c[h.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),b("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),b("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),b("COERCERTL",c[h.COERCE],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",b("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",b("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Jd,Jd.exports)),Jd.exports}var kg,Lx;function nI(){if(Lx)return kg;Lx=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return kg=n=>n?typeof n!="object"?t:n:e,kg}var Cg,Dx;function iI(){if(Dx)return Cg;Dx=1;const t=/^[0-9]+$/,e=(n,i)=>{const a=t.test(n),s=t.test(i);return a&&s&&(n=+n,i=+i),n===i?0:a&&!s?-1:s&&!a?1:n<i?-1:1};return Cg={compareIdentifiers:e,rcompareIdentifiers:(n,i)=>e(i,n)},Cg}var Eg,Bx;function aI(){if(Bx)return Eg;Bx=1;const t=y2(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=b2(),{safeRe:n,t:i}=rI(),a=nI(),{compareIdentifiers:s}=iI();class u{constructor(h,f){if(f=a(f),h instanceof u){if(h.loose===!!f.loose&&h.includePrerelease===!!f.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",h,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const g=h.trim().match(f.loose?n[i.LOOSE]:n[i.FULL]);if(!g)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const y=+p;if(y>=0&&y<r)return y}return p}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof u)){if(typeof h=="string"&&h===this.version)return 0;h=new u(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof u||(h=new u(h,this.options)),s(this.major,h.major)||s(this.minor,h.minor)||s(this.patch,h.patch)}comparePre(h){if(h instanceof u||(h=new u(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let f=0;do{const g=this.prerelease[f],p=h.prerelease[f];if(t("prerelease compare",f,g,p),g===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(g===void 0)return-1;if(g===p)continue;return s(g,p)}while(++f)}compareBuild(h){h instanceof u||(h=new u(h,this.options));let f=0;do{const g=this.build[f],p=h.build[f];if(t("prerelease compare",f,g,p),g===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(g===void 0)return-1;if(g===p)continue;return s(g,p)}while(++f)}inc(h,f,g){switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,g),this.inc("pre",f,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,g),this.inc("pre",f,g);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(g)?1:0;if(!f&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(f===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(f){let y=[f,p];g===!1&&(y=[f]),s(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Eg=u,Eg}var _g,zx;function x2(){if(zx)return _g;zx=1;const t=aI();return _g=(r,n,i)=>new t(r,i).compare(new t(n,i)),_g}var Pg,Vx;function oI(){if(Vx)return Pg;Vx=1;const t=x2();return Pg=(r,n,i)=>t(r,n,i)>=0,Pg}var sI=oI();const $n=zt(sI);var Tg,Wx;function lI(){if(Wx)return Tg;Wx=1;const t=x2();return Tg=(r,n,i)=>t(r,n,i)>0,Tg}var uI=lI();const w2=zt(uI),Fc=navigator.userAgent.toLowerCase().includes("firefox");var Dt={},Ju={exports:{}},cI=Ju.exports,qx;function dI(){return qx||(qx=1,function(t,e){(function(r,n){var i="0.7.31",a="",s="?",u="function",c="undefined",h="object",f="string",g="major",p="model",y="name",b="type",v="vendor",S="version",x="architecture",k="console",C="mobile",R="tablet",_="smarttv",T="wearable",O="embedded",D=255,j="Amazon",F="Apple",M="ASUS",z="BlackBerry",I="Browser",$="Chrome",K="Edge",U="Firefox",G="Google",B="Huawei",H="LG",N="Microsoft",L="Motorola",W="Opera",X="Samsung",Y="Sony",ce="Xiaomi",ee="Zebra",fe="Facebook",le=function(Oe,Ie){var We={};for(var mt in Oe)Ie[mt]&&Ie[mt].length%2===0?We[mt]=Ie[mt].concat(Oe[mt]):We[mt]=Oe[mt];return We},de=function(Oe){for(var Ie={},We=0;We<Oe.length;We++)Ie[Oe[We].toUpperCase()]=Oe[We];return Ie},pe=function(Oe,Ie){return typeof Oe===f?he(Ie).indexOf(he(Oe))!==-1:!1},he=function(Oe){return Oe.toLowerCase()},ke=function(Oe){return typeof Oe===f?Oe.replace(/[^\d\.]/g,a).split(".")[0]:n},Re=function(Oe,Ie){if(typeof Oe===f)return Oe=Oe.replace(/^\s\s*/,a).replace(/\s\s*$/,a),typeof Ie===c?Oe:Oe.substring(0,D)},_e=function(Oe,Ie){for(var We=0,mt,Be,tt,Pe,Q,Et;We<Ie.length&&!Q;){var Tt=Ie[We],st=Ie[We+1];for(mt=Be=0;mt<Tt.length&&!Q;)if(Q=Tt[mt++].exec(Oe),Q)for(tt=0;tt<st.length;tt++)Et=Q[++Be],Pe=st[tt],typeof Pe===h&&Pe.length>0?Pe.length===2?typeof Pe[1]==u?this[Pe[0]]=Pe[1].call(this,Et):this[Pe[0]]=Pe[1]:Pe.length===3?typeof Pe[1]===u&&!(Pe[1].exec&&Pe[1].test)?this[Pe[0]]=Et?Pe[1].call(this,Et,Pe[2]):n:this[Pe[0]]=Et?Et.replace(Pe[1],Pe[2]):n:Pe.length===4&&(this[Pe[0]]=Et?Pe[3].call(this,Et.replace(Pe[1],Pe[2])):n):this[Pe]=Et||n;We+=2}},et=function(Oe,Ie){for(var We in Ie)if(typeof Ie[We]===h&&Ie[We].length>0){for(var mt=0;mt<Ie[We].length;mt++)if(pe(Ie[We][mt],Oe))return We===s?n:We}else if(pe(Ie[We],Oe))return We===s?n:We;return Oe},Me={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},De={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},gt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,S],[/opios[\/ ]+([\w\.]+)/i],[S,[y,W+" Mini"]],[/\bopr\/([\w\.]+)/i],[S,[y,W]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[y,S],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[y,"UC"+I]],[/\bqbcore\/([\w\.]+)/i],[S,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[S,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[y,"IE"]],[/yabrowser\/([\w\.]+)/i],[S,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+I],S],[/\bfocus\/([\w\.]+)/i],[S,[y,U+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[y,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[y,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[y,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[S,[y,U]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+I]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+I],S],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,S],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,fe],S],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[y,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[y,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,$+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[y,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,S],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[S,[y,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[S,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[S,et,Me]],[/(webkit|khtml)\/([\w\.]+)/i],[y,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[y,U+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[y,S]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,he]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,a,he]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,he]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,X],[b,R]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,X],[b,C]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[v,F],[b,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,F],[b,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,B],[b,R]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[v,B],[b,C]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[v,ce],[b,C]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,ce],[b,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[b,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[b,C]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[b,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,L],[b,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,L],[b,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,H],[b,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,H],[b,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[b,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[b,C]],[/(pixel c)\b/i],[p,[v,G],[b,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,G],[b,C]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,Y],[b,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,Y],[b,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[b,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,j],[b,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,j],[b,C]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[b,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,z],[b,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,M],[b,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,M],[b,C]],[/(nexus 9)/i],[p,[v,"HTC"],[b,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[b,C]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[b,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[b,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,"Sharp"],[b,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[b,C]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[b,R]],[/(surface duo)/i],[p,[v,N],[b,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[b,C]],[/(u304aa)/i],[p,[v,"AT&T"],[b,C]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[b,C]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[b,R]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[b,R]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[b,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[b,R]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[b,R]],[/\b(k88) b/i],[p,[v,"ZTE"],[b,R]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[b,C]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[b,C]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[b,R]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[b,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[b,R]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[b,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[b,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[b,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[b,C]],[/\b(ph-1) /i],[p,[v,"Essential"],[b,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[b,R]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[b,R]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[b,R]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[b,R]],[/(sprint) (\w+)/i],[v,p,[b,C]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,N],[b,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,ee],[b,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,ee],[b,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[b,k]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[b,k]],[/(playstation [345portablevi]+)/i],[p,[v,Y],[b,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,N],[b,k]],[/smart-tv.+(samsung)/i],[v,[b,_]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,X],[b,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,H],[b,_]],[/(apple) ?tv/i],[v,[p,F+" TV"],[b,_]],[/crkey/i],[[p,$+"cast"],[v,G],[b,_]],[/droid.+aft(\w)( bui|\))/i],[p,[v,j],[b,_]],[/\(dtv[\);].+(aquos)/i],[p,[v,"Sharp"],[b,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,Re],[p,Re],[b,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,_]],[/((pebble))app/i],[v,p,[b,T]],[/droid.+; (glass) \d/i],[p,[v,G],[b,T]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,ee],[b,T]],[/(quest( 2)?)/i],[p,[v,fe],[b,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[b,O]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[b,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[b,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,R]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[b,C]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[y,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[y,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,S],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[S,et,De]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[S,et,De]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"Mac OS"],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[S,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,S],[/\(bb(10);/i],[S,[y,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[y,U+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[y,"webOS"]],[/crkey\/([\d\.]+)/i],[S,[y,$+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[y,"Chromium OS"],S],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,S],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[y,S]]},Ge=function(Oe,Ie){if(typeof Oe===h&&(Ie=Oe,Oe=n),!(this instanceof Ge))return new Ge(Oe,Ie).getResult();var We=Oe||(typeof r!==c&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:a),mt=Ie?le(gt,Ie):gt;return this.getBrowser=function(){var Be={};return Be[y]=n,Be[S]=n,_e.call(Be,We,mt.browser),Be.major=ke(Be.version),Be},this.getCPU=function(){var Be={};return Be[x]=n,_e.call(Be,We,mt.cpu),Be},this.getDevice=function(){var Be={};return Be[v]=n,Be[p]=n,Be[b]=n,_e.call(Be,We,mt.device),Be},this.getEngine=function(){var Be={};return Be[y]=n,Be[S]=n,_e.call(Be,We,mt.engine),Be},this.getOS=function(){var Be={};return Be[y]=n,Be[S]=n,_e.call(Be,We,mt.os),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return We},this.setUA=function(Be){return We=typeof Be===f&&Be.length>D?Re(Be,D):Be,this},this.setUA(We),this};Ge.VERSION=i,Ge.BROWSER=de([y,S,g]),Ge.CPU=de([x]),Ge.DEVICE=de([p,v,b,k,C,_,R,T,O]),Ge.ENGINE=Ge.OS=de([y,S]),t.exports&&(e=t.exports=Ge),e.UAParser=Ge;var yt=typeof r!==c&&(r.jQuery||r.Zepto);if(yt&&!yt.ua){var ht=new Ge;yt.ua=ht.getResult(),yt.ua.get=function(){return ht.getUA()},yt.ua.set=function(Oe){ht.setUA(Oe);var Ie=ht.getResult();for(var We in Ie)yt.ua[We]=Ie[We]}}})(typeof window=="object"?window:cI)}(Ju,Ju.exports)),Ju.exports}var Hx;function fI(){if(Hx)return Dt;Hx=1,Object.defineProperty(Dt,"__esModule",{value:!0});function t(ye){return ye&&typeof ye=="object"&&"default"in ye?ye.default:ye}var e=Ht(),r=t(e),n=dI(),i=new n,a=i.getBrowser();i.getCPU();var s=i.getDevice(),u=i.getEngine(),c=i.getOS(),h=i.getUA(),f=function(ae){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return ae||Fe},g=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},p=function(ae){var Fe=g();return Fe&&Fe.platform&&(Fe.platform.indexOf(ae)!==-1||Fe.platform==="MacIntel"&&Fe.maxTouchPoints>1&&!window.MSStream)};function y(ye){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(ae){return typeof ae}:y=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},y(ye)}function b(ye,ae){if(!(ye instanceof ae))throw new TypeError("Cannot call a class as a function")}function v(ye,ae){for(var Fe=0;Fe<ae.length;Fe++){var je=ae[Fe];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ye,je.key,je)}}function S(ye,ae,Fe){return ae&&v(ye.prototype,ae),ye}function x(ye,ae,Fe){return ae in ye?Object.defineProperty(ye,ae,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):ye[ae]=Fe,ye}function k(){return k=Object.assign||function(ye){for(var ae=1;ae<arguments.length;ae++){var Fe=arguments[ae];for(var je in Fe)Object.prototype.hasOwnProperty.call(Fe,je)&&(ye[je]=Fe[je])}return ye},k.apply(this,arguments)}function C(ye,ae){var Fe=Object.keys(ye);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(ye);ae&&(je=je.filter(function(q){return Object.getOwnPropertyDescriptor(ye,q).enumerable})),Fe.push.apply(Fe,je)}return Fe}function R(ye){for(var ae=1;ae<arguments.length;ae++){var Fe=arguments[ae]!=null?arguments[ae]:{};ae%2?C(Fe,!0).forEach(function(je){x(ye,je,Fe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(Fe)):C(Fe).forEach(function(je){Object.defineProperty(ye,je,Object.getOwnPropertyDescriptor(Fe,je))})}return ye}function _(ye,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),ae&&O(ye,ae)}function T(ye){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},T(ye)}function O(ye,ae){return O=Object.setPrototypeOf||function(je,q){return je.__proto__=q,je},O(ye,ae)}function D(ye,ae){if(ye==null)return{};var Fe={},je=Object.keys(ye),q,Ve;for(Ve=0;Ve<je.length;Ve++)q=je[Ve],!(ae.indexOf(q)>=0)&&(Fe[q]=ye[q]);return Fe}function j(ye,ae){if(ye==null)return{};var Fe=D(ye,ae),je,q;if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(ye);for(q=0;q<Ve.length;q++)je=Ve[q],!(ae.indexOf(je)>=0)&&Object.prototype.propertyIsEnumerable.call(ye,je)&&(Fe[je]=ye[je])}return Fe}function F(ye){if(ye===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ye}function M(ye,ae){return ae&&(typeof ae=="object"||typeof ae=="function")?ae:F(ye)}var z={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Browser:void 0},I={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},$={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},K={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},U=function(ae){switch(ae){case z.Mobile:return{isMobile:!0};case z.Tablet:return{isTablet:!0};case z.SmartTv:return{isSmartTV:!0};case z.Console:return{isConsole:!0};case z.Wearable:return{isWearable:!0};case z.Browser:return{isBrowser:!0};default:return K}},G=function(ae,Fe,je,q,Ve){return{isBrowser:ae,browserMajorVersion:f(Fe.major),browserFullVersion:f(Fe.version),browserName:f(Fe.name),engineName:f(je.name),engineVersion:f(je.version),osName:f(q.name),osVersion:f(q.version),userAgent:f(Ve)}},B=function(ae,Fe,je,q){return R({},ae,{vendor:f(Fe.vendor),model:f(Fe.model),os:f(je.name),osVersion:f(je.version),ua:f(q)})},H=function(ae,Fe,je,q){return{isSmartTV:ae,engineName:f(Fe.name),engineVersion:f(Fe.version),osName:f(je.name),osVersion:f(je.version),userAgent:f(q)}},N=function(ae,Fe,je,q){return{isConsole:ae,engineName:f(Fe.name),engineVersion:f(Fe.version),osName:f(je.name),osVersion:f(je.version),userAgent:f(q)}},L=function(ae,Fe,je,q){return{isWearable:ae,engineName:f(Fe.name),engineVersion:f(Fe.version),osName:f(je.name),osVersion:f(je.version),userAgent:f(q)}},W=U(s.type);function X(){var ye=W.isBrowser,ae=W.isMobile,Fe=W.isTablet,je=W.isSmartTV,q=W.isConsole,Ve=W.isWearable;if(ye)return G(ye,a,u,c,h);if(je)return H(je,u,c,h);if(q)return N(q,u,c,h);if(ae||Fe)return B(W,s,c,h);if(Ve)return L(Ve,u,c,h)}var Y=function(){return s.type===z.Mobile},ce=function(){return s.type===z.Tablet},ee=function(){switch(s.type){case z.Mobile:case z.Tablet:return!0;default:return!1}},fe=function(){return typeof h=="string"&&h.indexOf("Edg/")!==-1},le=function(){return s.type===z.SmartTv},de=function(){return s.type===z.Browser},pe=function(){return s.type===z.Wearable},he=function(){return s.type===z.Console},ke=function(){return c.name===$.Android},Re=function(){return c.name===$.Windows},_e=function(){return c.name===$.MAC_OS},et=function(){return c.name===$.WindowsPhone},Me=function(){return c.name===$.IOS},De=function(){return a.name===I.Chrome},gt=function(){return a.name===I.Firefox},Ge=function(){return a.name===I.Chromium},yt=function(){return a.name===I.Edge},ht=function(){return a.name===I.Yandex},Oe=function(){return a.name===I.Safari||a.name===I.MobileSafari},Ie=function(){return a.name===I.MobileSafari},We=function(){return a.name===I.Opera},mt=function(){return a.name===I.InternetExplorer||a.name===I.Ie},Be=function(){return a.name===I.MIUI},tt=function(){return a.name===I.SamsungBrowser},Pe=function(){var ae=g(),Fe=ae&&ae.userAgent&&ae.userAgent.toLowerCase();return typeof Fe=="string"?/electron/.test(Fe):!1},Q=function(){var ae=g();return ae&&(/iPad|iPhone|iPod/.test(ae.platform)||ae.platform==="MacIntel"&&ae.maxTouchPoints>1)&&!window.MSStream},Et=function(){return p("iPad")},Tt=function(){return p("iPhone")},st=function(){return p("iPod")},Z=function(){return f(a.version)},ie=function(){return f(a.major)},rt=function(){return f(c.version)},se=function(){return f(c.name)},te=function(){return f(a.name)},me=function(){return f(s.vendor)},be=function(){return f(s.model)},xe=function(){return f(u.name)},ze=function(){return f(u.version)},ot=function(){return f(h)},Ue=function(){return f(s.type,"browser")},ct=le(),_t=he(),Vt=pe(),He=Ie()||Et(),Zt=Ge(),gr=ee()||Et(),Xe=Y(),Ce=ce()||Et(),Ot=de(),jt=de(),Ze=ke(),wt=et(),Nt=Me()||Et(),lr=De(),pr=gt(),wr=Oe(),Br=We(),_r=mt(),yr=rt(),br=se(),mr=Z(),Rr=ie(),Pr=te(),vr=me(),jr=be(),Hr=xe(),$r=ze(),ur=ot(),Sr=yt()||fe(),Lr=ht(),Te=Ue(),ft=Q(),ve=Et(),kt=Tt(),lt=st(),Kt=Pe(),Jt=fe(),Pt=yt()&&!fe(),dr=Re(),Sn=_e(),pt=Be(),Ke=tt(),Ae=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Ze?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},bt=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Ot?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},Ir=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return _r?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},zr=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Nt?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},ir=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return gr?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},Ar=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Ce?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},Vr=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return wt?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},sn=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Xe?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},Se=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return ct?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},ut=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return _t?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},nt=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=j(ae,["renderWithFragment","children","viewClassName","style"]);return Vt?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},vt),je):null},$t=function(ae){var Fe=ae.renderWithFragment,je=ae.children,q=ae.viewClassName,Ve=ae.style,vt=ae.condition,ne=j(ae,["renderWithFragment","children","viewClassName","style","condition"]);return vt?Fe?r.createElement(e.Fragment,null,je):r.createElement("div",k({className:q,style:Ve},ne),je):null};function or(ye){return function(ae){_(Fe,ae);function Fe(je){var q;return b(this,Fe),q=M(this,T(Fe).call(this,je)),q.isEventListenerAdded=!1,q.handleOrientationChange=q.handleOrientationChange.bind(F(q)),q.onOrientationChange=q.onOrientationChange.bind(F(q)),q.onPageLoad=q.onPageLoad.bind(F(q)),q.state={isLandscape:!1,isPortrait:!1},q}return S(Fe,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var q=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:q===0,isLandscape:q===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":y(window))!==void 0&&gr&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(ye,k({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),Fe}(r.Component)}return Dt.AndroidView=Ae,Dt.BrowserTypes=I,Dt.BrowserView=bt,Dt.ConsoleView=ut,Dt.CustomView=$t,Dt.IEView=Ir,Dt.IOSView=zr,Dt.MobileOnlyView=sn,Dt.MobileView=ir,Dt.OsTypes=$,Dt.SmartTVView=Se,Dt.TabletView=Ar,Dt.WearableView=nt,Dt.WinPhoneView=Vr,Dt.browserName=Pr,Dt.browserVersion=Rr,Dt.deviceDetect=X,Dt.deviceType=Te,Dt.engineName=Hr,Dt.engineVersion=$r,Dt.fullBrowserVersion=mr,Dt.getUA=ur,Dt.isAndroid=Ze,Dt.isBrowser=Ot,Dt.isChrome=lr,Dt.isChromium=Zt,Dt.isConsole=_t,Dt.isDesktop=jt,Dt.isEdge=Sr,Dt.isEdgeChromium=Jt,Dt.isElectron=Kt,Dt.isFirefox=pr,Dt.isIE=_r,Dt.isIOS=Nt,Dt.isIOS13=ft,Dt.isIPad13=ve,Dt.isIPhone13=kt,Dt.isIPod13=lt,Dt.isLegacyEdge=Pt,Dt.isMIUI=pt,Dt.isMacOs=Sn,Dt.isMobile=gr,Dt.isMobileOnly=Xe,Dt.isMobileSafari=He,Dt.isOpera=Br,Dt.isSafari=wr,Dt.isSamsungBrowser=Ke,Dt.isSmartTV=ct,Dt.isTablet=Ce,Dt.isWearable=Vt,Dt.isWinPhone=wt,Dt.isWindows=dr,Dt.isYandex=Lr,Dt.mobileModel=jr,Dt.mobileVendor=vr,Dt.osName=br,Dt.osVersion=yr,Dt.withOrientationChange=or,Dt}var ii=fI();const Fl=hn();class S2{constructor(e,r){this.loadedSubtitles=!1,this._responseResolves={},this.onMessageCallbacks=[],this.onTabsCallbacks=[],this.installed=e!==void 0,this.version=e??"",this.extensionCommands=r??{},this.sidePanel=!1,this.windowEventListener=n=>{var i,a;if(n.source===window&&!(n.data.sender!=="asbplayer-extension-to-player"||!n.data.message)&&!(n.data.asbplayerId&&n.data.asbplayerId!==Fl)){if(typeof n.data.message.messageId=="string"){const s=n.data.message.messageId;s in this._responseResolves&&((a=(i=this._responseResolves)[s])==null||a.call(i,n.data.message.response),delete this._responseResolves[s])}if(n.data.message.command==="tabs"){const s=n.data;this.tabs=s.message.tabs,this.asbplayers=s.message.asbplayers;for(let u of this.onTabsCallbacks)u(this.tabs);s.message.ackRequested&&window.postMessage({sender:"asbplayerv2",message:{command:"ackTabs",id:Fl,receivedTabs:this.tabs,sidePanel:this.sidePanel}})}else{const s=n.data;for(let u of this.onMessageCallbacks)u({data:s.message,tabId:s.tabId,src:s.src})}}},window.addEventListener("message",this.windowEventListener)}get supportsGlobalState(){return this.installed&&$n(this.version,"1.9.0")}get supportsLastSelectedAnkiExportModeSetting(){return this.installed&&$n(this.version,"1.9.0")}get supportsCopyHistoryRequest(){return this.installed&&$n(this.version,"1.7.0")}get supportsLandingPageStreamingVideoElementSelector(){return this.installed&&$n(this.version,"1.6.0")}get supportsPauseOnHover(){return this.installed&&$n(this.version,"1.4.0")}get supportsSubtitlesWidthSetting(){return this.installed&&$n(this.version,"1.4.0")}get supportsOrderableAnkiFields(){return this.installed&&$n(this.version,"1.3.0")}get supportsTrackSpecificSettings(){return this.installed&&$n(this.version,"1.3.0")}get supportsSettingsProfiles(){return this.installed&&$n(this.version,"1.3.0")}get supportsStreamingVideoOverlay(){return this.installed&&$n(this.version,"1.1.0")}get supportsSidePanel(){return this.installed&&!Fc&&!ii.isMobile&&$n(this.version,"1.0.0")}get supportsAppIntegration(){return this.installed&&$n(this.version,"1.0.0")}get supportsWebSocketClient(){return this.installed&&$n(this.version,"1.1.0")}get supportsVideoPlayerMiningCommands(){return this.installed&&$n(this.version,"1.0.0")}get supportsPlaybackRateMessage(){return this.installed&&$n(this.version,"0.24.0")}get supportsOffsetMessage(){return this.installed&&$n(this.version,"0.23.0")}startHeartbeat(){this.installed&&(this.heartbeatInterval!==void 0&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=void 0),this.videoPlayer?w2(this.version,"0.23.0")&&(this._sendHeartbeat(!0,this.loadedSubtitles,void 0),this.heartbeatInterval=setInterval(()=>this._sendHeartbeat(!0,this.loadedSubtitles,this.syncedVideoElement),1e3)):(this._sendHeartbeat(!1,this.loadedSubtitles,this.syncedVideoElement),this.heartbeatInterval=setInterval(()=>this._sendHeartbeat(!1,this.loadedSubtitles,this.syncedVideoElement),1e3)))}_sendHeartbeat(e,r,n){const i={command:"heartbeat",id:Fl,receivedTabs:e?[]:this.tabs,videoPlayer:e,sidePanel:this.sidePanel,loadedSubtitles:r,syncedVideoElement:n};window.postMessage({sender:"asbplayerv2",message:i})}openShortcuts(){window.postMessage({sender:"asbplayerv2",message:{command:"open-extension-shortcuts"}})}sendMessageToVideoElement(e,r,n,i){let a;if(i===void 0)a={sender:"asbplayerv2",message:e,tabId:r,src:n},window.postMessage(a);else{const s=hn();a={sender:"asbplayerv2",message:{...e,messageId:s},tabId:r,src:n},window.postMessage(a),this._createResponsePromise(s).then(i)}}notifySettingsUpdated(){const e={sender:"asbplayerv2",message:{command:"settings-updated"},asbplayerId:Fl};window.postMessage(e)}toggleSidePanel(){const e={sender:"asbplayerv2",message:{command:"toggle-side-panel"}};window.postMessage(e)}publishCard(e){const r={sender:"asbplayerv2",message:{command:"publish-card",...e}};window.postMessage(r)}requestSubtitles(e,r){const n=hn(),i={sender:"asbplayerv2",tabId:e,src:r,message:{command:"request-subtitles",messageId:n}};return window.postMessage(i),this._createResponsePromise(n)}requestCopyHistory(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"request-copy-history",count:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}deleteCopyHistory(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"delete-copy-history",ids:[e],messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}saveCopyHistory(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"save-copy-history",copyHistoryItems:[e],messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}clearCopyHistory(){const e=hn(),r={sender:"asbplayerv2",message:{command:"clear-copy-history",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}loadSubtitles(e,r){const n={sender:"asbplayerv2",tabId:e,src:r,message:{command:"load-subtitles",fromAsbplayerId:Fl}};window.postMessage(n)}getSettings(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"get-settings",keysAndDefaults:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}setSettings(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"set-settings",settings:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r).then(()=>this.notifySettingsUpdated())}getGlobalState(){const e=hn(),r={sender:"asbplayerv2",message:{command:"get-global-state",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}getSomeGlobalState(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"get-global-state",keys:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}setGlobalState(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"set-global-state",state:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}activeSettingsProfile(){const e=hn(),r={sender:"asbplayerv2",message:{command:"get-active-profile",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}setActiveSettingsProfile(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"set-active-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r).then(()=>this.notifySettingsUpdated())}settingsProfiles(){const e=hn(),r={sender:"asbplayerv2",message:{command:"get-profiles",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}addSettingsProfile(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"add-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}removeSettingsProfile(e){const r=hn(),n={sender:"asbplayerv2",message:{command:"remove-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}_createResponsePromise(e){return new Promise((r,n)=>{this._responseResolves[e]=r,setTimeout(()=>{e in this._responseResolves&&(delete this._responseResolves[e],n("Request timed out"))},5e3)})}subscribeTabs(e){return this.tabs!==void 0&&e(this.tabs),this.onTabsCallbacks.push(e),()=>this._remove(e,this.onTabsCallbacks)}subscribe(e){return this.onMessageCallbacks.push(e),()=>this._remove(e,this.onMessageCallbacks)}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}unbind(){window.removeEventListener("message",this.windowEventListener),this.onMessageCallbacks=[],this.onTabsCallbacks=[]}}class Jy{constructor(){this._cache={}}get(e){let r=this._cache[e];if(r===void 0){const n=localStorage.getItem(e);return this._cache[e]=n,n}return r}set(e,r){localStorage.setItem(e,r),this._cache[e]=r}delete(e){delete this._cache[e],localStorage.removeItem(e)}bustCache(){this._cache={}}}const Ux="volume",Kx="theaterMode",Gx="offset",Xx="displaySubtitles",pI=100;class hI{constructor(e,r){this._storage=new Jy,this._settings=e,this._extension=r}get volume(){const e=this._storage.get(Ux);return e===null?pI:Number(e)}set volume(e){this._storage.set(Ux,String(e))}get theaterMode(){return this._storage.get(Kx)==="true"||!1}set theaterMode(e){this._storage.set(Kx,String(e))}get offset(){if(!this._settings.rememberSubtitleOffset)return 0;if(this._extension.supportsAppIntegration)return this._settings.lastSubtitleOffset;const e=this._storage.get(Gx);return e===null?0:Number(e)}set offset(e){this._extension.supportsAppIntegration?this._extension.setSettings({lastSubtitleOffset:e}):this._storage.set(Gx,String(e))}get displaySubtitles(){const e=this._storage.get(Xx);return e===null?!0:e==="true"}set displaySubtitles(e){this._storage.set(Xx,String(e))}}var Ri=(t=>(t[t.disabled=0]="disabled",t[t.inAndOut=1]="inAndOut",t[t.inNotOut=2]="inNotOut",t))(Ri||{});const gI={subtitleColor:!0,subtitleSize:!0,subtitleThickness:!0,subtitleOutlineThickness:!0,subtitleOutlineColor:!0,subtitleShadowThickness:!0,subtitleShadowColor:!0,subtitleBackgroundOpacity:!0,subtitleBackgroundColor:!0,subtitleFontFamily:!0,subtitleCustomStyles:!0,subtitleBlur:!0,subtitleAlignment:!0},Yx=Object.keys(gI);var Os=(t=>(t.noSubtitleList="noSubtitleList",t.app="app",t))(Os||{});const mI={"copy-subtitle":"copySubtitle","copy-subtitle-with-dialog":"ankiExport","update-last-card":"updateLastCard","take-screenshot":"takeScreenshot","toggle-recording":"toggleRecording","toggle-video-select":"selectSubtitleTrack"};function vI(t){const e={};for(const r of Object.keys(t))e[mI[r]]=t[r];return e}var n2,i2,a2;const Ln=((a2=(i2=((n2=navigator.userAgentData)==null?void 0:n2.platform)??navigator.platform)==null?void 0:i2.toUpperCase())==null?void 0:a2.indexOf("MAC"))>-1,yI={subtitleSize:36,subtitleColor:"#ffffff",subtitleThickness:700,subtitleOutlineThickness:0,subtitleOutlineColor:"#000000",subtitleShadowThickness:3,subtitleShadowColor:"#000000",subtitleBackgroundColor:"#000000",subtitleBackgroundOpacity:0,subtitleFontFamily:"",subtitlePreview:"アあ安Aa",subtitleCustomStyles:[],subtitleBlur:!1},ni={ankiConnectUrl:"http://127.0.0.1:8765",deck:"",noteType:"",sentenceField:"",definitionField:"",audioField:"",imageField:"",wordField:"",sourceField:"",urlField:"",track1Field:"",track2Field:"",track3Field:"",ankiFieldSettings:{sentence:{order:1,display:!0},definition:{order:2,display:!0},word:{order:3,display:!0},audio:{order:4,display:!0},image:{order:5,display:!0},source:{order:6,display:!0},url:{order:7,display:!0},track1:{order:8,display:!1},track2:{order:9,display:!1},track3:{order:10,display:!1}},customAnkiFieldSettings:{},...yI,subtitlePositionOffset:75,topSubtitlePositionOffset:75,subtitleAlignment:"bottom",subtitleTracksV2:[],subtitlesWidth:-1,audioPaddingStart:0,audioPaddingEnd:500,maxImageWidth:0,maxImageHeight:0,surroundingSubtitlesCountRadius:2,surroundingSubtitlesTimeRadius:1e4,autoPausePreference:Ai.atEnd,speedChangeStep:.1,fastForwardModePlaybackRate:2.7,keyBindSet:{togglePlay:{keys:"space"},toggleAutoPause:{keys:Ln?"⇧+P":"shift+P"},toggleCondensedPlayback:{keys:Ln?"⇧+O":"shift+O"},toggleFastForwardPlayback:{keys:Ln?"⇧+F":"shift+F"},toggleSubtitles:{keys:"down"},toggleVideoSubtitleTrack1:{keys:"1"},toggleVideoSubtitleTrack2:{keys:"2"},toggleVideoSubtitleTrack3:{keys:"3"},toggleAsbplayerSubtitleTrack1:{keys:"W+1"},toggleAsbplayerSubtitleTrack2:{keys:"W+2"},toggleAsbplayerSubtitleTrack3:{keys:"W+3"},unblurAsbplayerTrack1:{keys:"B+1"},unblurAsbplayerTrack2:{keys:"B+2"},unblurAsbplayerTrack3:{keys:"B+3"},seekBackward:{keys:"A"},seekForward:{keys:"D"},seekToPreviousSubtitle:{keys:"left"},seekToNextSubtitle:{keys:"right"},seekToBeginningOfCurrentSubtitle:{keys:"up"},adjustOffsetToPreviousSubtitle:{keys:Ln?"⇧+left":"ctrl+left"},adjustOffsetToNextSubtitle:{keys:Ln?"⇧+right":"ctrl+right"},decreaseOffset:{keys:Ln?"⇧+⌃+right":"ctrl+shift+right"},increaseOffset:{keys:Ln?"⇧+⌃+left":"ctrl+shift+left"},resetOffset:{keys:Ln?"⇧+⌃+down":"ctrl+shift+down"},copySubtitle:{keys:Ln?"⇧+⌃+Z":"ctrl+shift+Z"},ankiExport:{keys:Ln?"⇧+⌃+X":"ctrl+shift+X"},updateLastCard:{keys:Ln?"⇧+⌃+U":"ctrl+shift+U"},takeScreenshot:{keys:Ln?"⇧+⌃+V":"ctrl+shift+V"},toggleRecording:{keys:Ln?"⇧+⌃+R":"ctrl+shift+R"},decreasePlaybackRate:{keys:Ln?"⇧+⌃+[":"ctrl+shift+["},increasePlaybackRate:{keys:Ln?"⇧+⌃+]":"ctrl+shift+]"},toggleSidePanel:{keys:"`"},toggleRepeat:{keys:Ln?"⇧+R":"shift+R"}},recordWithAudioPlayback:!0,preferMp3:!0,tabName:"asbplayer",miningHistoryStorageLimit:25,preCacheSubtitleDom:!0,clickToMineDefaultAction:hr.showAnkiDialog,postMiningPlaybackState:An.remember,themeType:"dark",copyToClipboardOnMine:!1,rememberSubtitleOffset:!0,lastSubtitleOffset:0,autoCopyCurrentSubtitle:!1,alwaysPlayOnSubtitleRepeat:!0,subtitleRegexFilter:"",subtitleRegexFilterTextReplacement:"",language:"en",customAnkiFields:{},tags:[],imageBasedSubtitleScaleFactor:1,streamingAppUrl:"https://killergerbah.github.io/asbplayer",streamingDisplaySubtitles:!0,streamingRecordMedia:!0,streamingTakeScreenshot:!0,streamingCleanScreenshot:!0,streamingCropScreenshot:!0,streamingSubsDragAndDrop:!0,streamingAutoSync:!1,streamingLastLanguagesSynced:{},streamingCondensedPlaybackMinimumSkipIntervalMs:1e3,streamingScreenshotDelay:1e3,streamingSubtitleListPreference:Os.noSubtitleList,streamingEnableOverlay:!0,webSocketClientEnabled:!1,webSocketServerUrl:"ws://127.0.0.1:8766/ws",pauseOnHoverMode:0,lastSelectedAnkiExportMode:"default"},Zx=(t,e)=>Object.entries(t).map(([r,n])=>({key:r,field:n,custom:e})),bI=t=>t.sort((e,r)=>{const n=e.field,i=r.field;return n.order<i.order?-1:n.order>i.order?1:0}),k2=t=>{let e=Math.max(...Object.values({...t.ankiFieldSettings,...t.customAnkiFieldSettings}).map(r=>r.order));return bI([...Zx(t.ankiFieldSettings,!1),...Zx(Object.fromEntries(Object.keys(t.customAnkiFields).map(r=>[r,t.customAnkiFieldSettings[r]??{order:++e,display:!0}])),!0)])},xI=t=>{const e=[];for(let r=0;r<=t.subtitleTracksV2.length;++r)e.push(Yi(t,r));return e},Yi=(t,e)=>{if(e===void 0){const r=i=>{const a=t[i];for(const s of t.subtitleTracksV2)if(!Ds(s[i],a))return!1;return!0};let n={};for(const i of Yx)r(i)?n[i]=t[i]:n[i]=void 0;return n}return e===0||e>t.subtitleTracksV2.length?Object.fromEntries(Yx.map(r=>[r,t[r]])):t.subtitleTracksV2[e-1]},Hf=(t,e,r)=>{if(r===void 0){const s=[];for(let u=0;u<e.subtitleTracksV2.length;++u)s.push({...e.subtitleTracksV2[u],...t});return{...t,subtitleTracksV2:s}}if(r===0)return{...t};const n=[...e.subtitleTracksV2],i=Yi(e,0);for(;n.length<r;)n.push(i);n[r-1]={...n[r-1],...t};let a=0;for(let s=n.length-1;s>=0&&Ds(i,n[s]);--s)++a;return a>0&&n.splice(n.length-a),{subtitleTracksV2:n}},wI=(t,e)=>e!==0&&!Ds(Yi(t,0),Yi(t,e)),Jx=Object.fromEntries(Object.entries(ni).map(([t,e])=>{if(typeof e=="string")return[t,r=>r];if(typeof e=="boolean")return[t,r=>r==="true"];if(typeof e=="number")return[t,r=>Number(r)];if(typeof e=="object")return[t,r=>JSON.parse(r)];throw new Error("Could not determine deserializer for setting")})),Ds=(t,e)=>{if(typeof t!=typeof e)return!1;if(typeof t!="object")return t===e;const r=Object.keys(t),n=Object.keys(e);if(t.length!==e.length)return!1;for(const i of r)if(!Ds(t[i],e[i]))return!1;for(const i of n)if(!Ds(t[i],e[i]))return!1;return!0},SI=Object.fromEntries(Object.keys(ni).filter(t=>typeof ni[t]=="object").map(t=>[t,!0]));class kI{constructor(e){this._complexValues={},this._storage=e}async getAll(){return this.get(Object.keys(ni))}async getSingle(e){return(await this.get([e]))[e]}async get(e){let r={};for(const a of e)r[a]=ni[a];const n=await this._storage.get(r),i={};for(const a in r){const s=n[a]??ni[a];if(SI[a]){const u=this._complexValues[a];u!==void 0&&Ds(u,s)?i[a]=u:(this._complexValues[a]=s,i[a]=s)}else i[a]=s}return this._ensureConsistencyOnRead(i)}_ensureConsistencyOnRead(e){let r=!1,n={},i=!1,a={};if(e.keyBindSet!==void 0){const s=e.keyBindSet;for(const u of Object.keys(ni.keyBindSet)){const c=u;s[c]===void 0?(n[c]=ni.keyBindSet[c],r=!0):n[c]=s[c]}}if(e.ankiFieldSettings!==void 0){const s=e.ankiFieldSettings;for(const u of Object.keys(ni.ankiFieldSettings)){const c=u;s[c]===void 0?(a[c]=ni.ankiFieldSettings[c],i=!0):a[c]=s[c]}}return!i&&!r?e:{...e,ankiFieldSettings:a,keyBindSet:n}}async set(e){await this._storage.set(await this._ensureConsistencyOnWrite(e))}async _ensureConsistencyOnWrite(e){if(e.customAnkiFields===void 0)return e;const r=e.customAnkiFieldSettings??(await this._storage.get({customAnkiFieldSettings:ni.customAnkiFieldSettings})).customAnkiFieldSettings;let n=!1;for(const i of Object.keys(r))i in e.customAnkiFields||(delete r[i],n=!0);return n?{...e,customAnkiFieldSettings:r}:e}async activeProfile(){return await this._storage.activeProfile()}async setActiveProfile(e){await this._storage.setActiveProfile(e)}async profiles(){return await this._storage.profiles()}async addProfile(e){await this._storage.addProfile(e)}async removeProfile(e){await this._storage.removeProfile(e)}}const CI=t=>`_prof_${t}_`,C2=(t,e)=>`${CI(e)}${t}`,EI=(t,e)=>t.substring(e.length+7),Rg=(t,e)=>{const r={};for(const n of Object.keys(t))r[C2(n,e)]=t[n];return r};var Hi={},yo={},Qu={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var _I=Qu.exports,Qx;function PI(){return Qx||(Qx=1,function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof Hv=="object"&&Hv;(a.global===a||a.window===a||a.self===a)&&(r=a);var s,u=2147483647,c=36,h=1,f=26,g=38,p=700,y=72,b=128,v="-",S=/^xn--/,x=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=c-h,_=Math.floor,T=String.fromCharCode,O;function D(N){throw new RangeError(C[N])}function j(N,L){for(var W=N.length,X=[];W--;)X[W]=L(N[W]);return X}function F(N,L){var W=N.split("@"),X="";W.length>1&&(X=W[0]+"@",N=W[1]),N=N.replace(k,".");var Y=N.split("."),ce=j(Y,L).join(".");return X+ce}function M(N){for(var L=[],W=0,X=N.length,Y,ce;W<X;)Y=N.charCodeAt(W++),Y>=55296&&Y<=56319&&W<X?(ce=N.charCodeAt(W++),(ce&64512)==56320?L.push(((Y&1023)<<10)+(ce&1023)+65536):(L.push(Y),W--)):L.push(Y);return L}function z(N){return j(N,function(L){var W="";return L>65535&&(L-=65536,W+=T(L>>>10&1023|55296),L=56320|L&1023),W+=T(L),W}).join("")}function I(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:c}function $(N,L){return N+22+75*(N<26)-((L!=0)<<5)}function K(N,L,W){var X=0;for(N=W?_(N/p):N>>1,N+=_(N/L);N>R*f>>1;X+=c)N=_(N/R);return _(X+(R+1)*N/(N+g))}function U(N){var L=[],W=N.length,X,Y=0,ce=b,ee=y,fe,le,de,pe,he,ke,Re,_e,et;for(fe=N.lastIndexOf(v),fe<0&&(fe=0),le=0;le<fe;++le)N.charCodeAt(le)>=128&&D("not-basic"),L.push(N.charCodeAt(le));for(de=fe>0?fe+1:0;de<W;){for(pe=Y,he=1,ke=c;de>=W&&D("invalid-input"),Re=I(N.charCodeAt(de++)),(Re>=c||Re>_((u-Y)/he))&&D("overflow"),Y+=Re*he,_e=ke<=ee?h:ke>=ee+f?f:ke-ee,!(Re<_e);ke+=c)et=c-_e,he>_(u/et)&&D("overflow"),he*=et;X=L.length+1,ee=K(Y-pe,X,pe==0),_(Y/X)>u-ce&&D("overflow"),ce+=_(Y/X),Y%=X,L.splice(Y++,0,ce)}return z(L)}function G(N){var L,W,X,Y,ce,ee,fe,le,de,pe,he,ke=[],Re,_e,et,Me;for(N=M(N),Re=N.length,L=b,W=0,ce=y,ee=0;ee<Re;++ee)he=N[ee],he<128&&ke.push(T(he));for(X=Y=ke.length,Y&&ke.push(v);X<Re;){for(fe=u,ee=0;ee<Re;++ee)he=N[ee],he>=L&&he<fe&&(fe=he);for(_e=X+1,fe-L>_((u-W)/_e)&&D("overflow"),W+=(fe-L)*_e,L=fe,ee=0;ee<Re;++ee)if(he=N[ee],he<L&&++W>u&&D("overflow"),he==L){for(le=W,de=c;pe=de<=ce?h:de>=ce+f?f:de-ce,!(le<pe);de+=c)Me=le-pe,et=c-pe,ke.push(T($(pe+Me%et,0))),le=_(Me/et);ke.push(T($(le,0))),ce=K(W,_e,X==Y),W=0,++X}++W,++L}return ke.join("")}function B(N){return F(N,function(L){return S.test(L)?U(L.slice(4).toLowerCase()):L})}function H(N){return F(N,function(L){return x.test(L)?"xn--"+G(L):L})}if(s={version:"1.4.1",ucs2:{decode:M,encode:z},decode:U,encode:G,toASCII:H,toUnicode:B},n&&i)if(t.exports==n)i.exports=s;else for(O in s)s.hasOwnProperty(O)&&(n[O]=s[O]);else r.punycode=s})(_I)}(Qu,Qu.exports)),Qu.exports}var Og,ew;function E2(){return ew||(ew=1,Og=Error),Og}var Ag,tw;function _2(){return tw||(tw=1,Ag=EvalError),Ag}var Ig,rw;function P2(){return rw||(rw=1,Ig=RangeError),Ig}var Ng,nw;function T2(){return nw||(nw=1,Ng=ReferenceError),Ng}var Fg,iw;function Qy(){return iw||(iw=1,Fg=SyntaxError),Fg}var Mg,aw;function Xs(){return aw||(aw=1,Mg=TypeError),Mg}var jg,ow;function R2(){return ow||(ow=1,jg=URIError),jg}var $g,sw;function TI(){return sw||(sw=1,$g=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),$g}var Lg,lw;function e0(){if(lw)return Lg;lw=1;var t=typeof Symbol<"u"&&Symbol,e=TI();return Lg=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Lg}var Dg,uw;function t0(){if(uw)return Dg;uw=1;var t={foo:{}},e=Object;return Dg=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},Dg}var Bg,cw;function RI(){if(cw)return Bg;cw=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(c,h){for(var f=[],g=0;g<c.length;g+=1)f[g]=c[g];for(var p=0;p<h.length;p+=1)f[p+c.length]=h[p];return f},a=function(c,h){for(var f=[],g=h,p=0;g<c.length;g+=1,p+=1)f[p]=c[g];return f},s=function(u,c){for(var h="",f=0;f<u.length;f+=1)h+=u[f],f+1<u.length&&(h+=c);return h};return Bg=function(c){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(t+h);for(var f=a(arguments,1),g,p=function(){if(this instanceof g){var x=h.apply(this,i(f,arguments));return Object(x)===x?x:this}return h.apply(c,i(f,arguments))},y=r(0,h.length-f.length),b=[],v=0;v<y;v++)b[v]="$"+v;if(g=Function("binder","return function ("+s(b,",")+"){ return binder.apply(this,arguments); }")(p),h.prototype){var S=function(){};S.prototype=h.prototype,g.prototype=new S,S.prototype=null}return g},Bg}var zg,dw;function Mc(){if(dw)return zg;dw=1;var t=RI();return zg=Function.prototype.bind||t,zg}var Vg,fw;function r0(){if(fw)return Vg;fw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Mc();return Vg=r.call(t,e),Vg}var Wg,pw;function mp(){if(pw)return Wg;pw=1;var t,e=E2(),r=_2(),n=P2(),i=T2(),a=Qy(),s=Xs(),u=R2(),c=Function,h=function(G){try{return c('"use strict"; return ('+G+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var g=function(){throw new s},p=f?function(){try{return arguments.callee,g}catch{try{return f(arguments,"callee").get}catch{return g}}}():g,y=e0()(),b=t0()(),v=Object.getPrototypeOf||(b?function(G){return G.__proto__}:null),S={},x=typeof Uint8Array>"u"||!v?t:v(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":y&&v?v([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&v?v(v([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!y||!v?t:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!y||!v?t:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&v?v(""[Symbol.iterator]()):t,"%Symbol%":y?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":x,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(v)try{null.error}catch(G){var C=v(v(G));k["%Error.prototype%"]=C}var R=function G(B){var H;if(B==="%AsyncFunction%")H=h("async function () {}");else if(B==="%GeneratorFunction%")H=h("function* () {}");else if(B==="%AsyncGeneratorFunction%")H=h("async function* () {}");else if(B==="%AsyncGenerator%"){var N=G("%AsyncGeneratorFunction%");N&&(H=N.prototype)}else if(B==="%AsyncIteratorPrototype%"){var L=G("%AsyncGenerator%");L&&v&&(H=v(L.prototype))}return k[B]=H,H},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=Mc(),O=r0(),D=T.call(Function.call,Array.prototype.concat),j=T.call(Function.apply,Array.prototype.splice),F=T.call(Function.call,String.prototype.replace),M=T.call(Function.call,String.prototype.slice),z=T.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,K=function(B){var H=M(B,0,1),N=M(B,-1);if(H==="%"&&N!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&H!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var L=[];return F(B,I,function(W,X,Y,ce){L[L.length]=Y?F(ce,$,"$1"):X||W}),L},U=function(B,H){var N=B,L;if(O(_,N)&&(L=_[N],N="%"+L[0]+"%"),O(k,N)){var W=k[N];if(W===S&&(W=R(N)),typeof W>"u"&&!H)throw new s("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:W}}throw new a("intrinsic "+B+" does not exist!")};return Wg=function(B,H){if(typeof B!="string"||B.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof H!="boolean")throw new s('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,B)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=K(B),L=N.length>0?N[0]:"",W=U("%"+L+"%",H),X=W.name,Y=W.value,ce=!1,ee=W.alias;ee&&(L=ee[0],j(N,D([0,1],ee)));for(var fe=1,le=!0;fe<N.length;fe+=1){var de=N[fe],pe=M(de,0,1),he=M(de,-1);if((pe==='"'||pe==="'"||pe==="`"||he==='"'||he==="'"||he==="`")&&pe!==he)throw new a("property names with quotes must have matching quotes");if((de==="constructor"||!le)&&(ce=!0),L+="."+de,X="%"+L+"%",O(k,X))Y=k[X];else if(Y!=null){if(!(de in Y)){if(!H)throw new s("base intrinsic for "+B+" exists, but the property is not available.");return}if(f&&fe+1>=N.length){var ke=f(Y,de);le=!!ke,le&&"get"in ke&&!("originalValue"in ke.get)?Y=ke.get:Y=Y[de]}else le=O(Y,de),Y=Y[de];le&&!ce&&(k[X]=Y)}}return Y},Wg}var qg={exports:{}},Hg,hw;function OI(){if(hw)return Hg;hw=1;var t,e=E2(),r=_2(),n=P2(),i=T2(),a=Qy(),s=Xs(),u=R2(),c=Function,h=function(G){try{return c('"use strict"; return ('+G+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var g=function(){throw new s},p=f?function(){try{return arguments.callee,g}catch{try{return f(arguments,"callee").get}catch{return g}}}():g,y=e0()(),b=t0()(),v=Object.getPrototypeOf||(b?function(G){return G.__proto__}:null),S={},x=typeof Uint8Array>"u"||!v?t:v(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":y&&v?v([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&v?v(v([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!y||!v?t:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!y||!v?t:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&v?v(""[Symbol.iterator]()):t,"%Symbol%":y?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":x,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(v)try{null.error}catch(G){var C=v(v(G));k["%Error.prototype%"]=C}var R=function G(B){var H;if(B==="%AsyncFunction%")H=h("async function () {}");else if(B==="%GeneratorFunction%")H=h("function* () {}");else if(B==="%AsyncGeneratorFunction%")H=h("async function* () {}");else if(B==="%AsyncGenerator%"){var N=G("%AsyncGeneratorFunction%");N&&(H=N.prototype)}else if(B==="%AsyncIteratorPrototype%"){var L=G("%AsyncGenerator%");L&&v&&(H=v(L.prototype))}return k[B]=H,H},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=Mc(),O=r0(),D=T.call(Function.call,Array.prototype.concat),j=T.call(Function.apply,Array.prototype.splice),F=T.call(Function.call,String.prototype.replace),M=T.call(Function.call,String.prototype.slice),z=T.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,K=function(B){var H=M(B,0,1),N=M(B,-1);if(H==="%"&&N!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&H!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var L=[];return F(B,I,function(W,X,Y,ce){L[L.length]=Y?F(ce,$,"$1"):X||W}),L},U=function(B,H){var N=B,L;if(O(_,N)&&(L=_[N],N="%"+L[0]+"%"),O(k,N)){var W=k[N];if(W===S&&(W=R(N)),typeof W>"u"&&!H)throw new s("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:W}}throw new a("intrinsic "+B+" does not exist!")};return Hg=function(B,H){if(typeof B!="string"||B.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof H!="boolean")throw new s('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,B)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=K(B),L=N.length>0?N[0]:"",W=U("%"+L+"%",H),X=W.name,Y=W.value,ce=!1,ee=W.alias;ee&&(L=ee[0],j(N,D([0,1],ee)));for(var fe=1,le=!0;fe<N.length;fe+=1){var de=N[fe],pe=M(de,0,1),he=M(de,-1);if((pe==='"'||pe==="'"||pe==="`"||he==='"'||he==="'"||he==="`")&&pe!==he)throw new a("property names with quotes must have matching quotes");if((de==="constructor"||!le)&&(ce=!0),L+="."+de,X="%"+L+"%",O(k,X))Y=k[X];else if(Y!=null){if(!(de in Y)){if(!H)throw new s("base intrinsic for "+B+" exists, but the property is not available.");return}if(f&&fe+1>=N.length){var ke=f(Y,de);le=!!ke,le&&"get"in ke&&!("originalValue"in ke.get)?Y=ke.get:Y=Y[de]}else le=O(Y,de),Y=Y[de];le&&!ce&&(k[X]=Y)}}return Y},Hg}var Ug,gw;function n0(){if(gw)return Ug;gw=1;var t=OI(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Ug=e,Ug}var Kg,mw;function AI(){if(mw)return Kg;mw=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(z){try{return r('"use strict"; return ('+z+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var s=function(){throw new n},u=a?function(){try{return arguments.callee,s}catch{try{return a(arguments,"callee").get}catch{return s}}}():s,c=e0()(),h=t0()(),f=Object.getPrototypeOf||(h?function(z){return z.__proto__}:null),g={},p=typeof Uint8Array>"u"||!f?t:f(Uint8Array),y={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":c&&f?f([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&f?f(f([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c||!f?t:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c||!f?t:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&f?f(""[Symbol.iterator]()):t,"%Symbol%":c?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(f)try{null.error}catch(z){var b=f(f(z));y["%Error.prototype%"]=b}var v=function z(I){var $;if(I==="%AsyncFunction%")$=i("async function () {}");else if(I==="%GeneratorFunction%")$=i("function* () {}");else if(I==="%AsyncGeneratorFunction%")$=i("async function* () {}");else if(I==="%AsyncGenerator%"){var K=z("%AsyncGeneratorFunction%");K&&($=K.prototype)}else if(I==="%AsyncIteratorPrototype%"){var U=z("%AsyncGenerator%");U&&f&&($=f(U.prototype))}return y[I]=$,$},S={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=Mc(),k=r0(),C=x.call(Function.call,Array.prototype.concat),R=x.call(Function.apply,Array.prototype.splice),_=x.call(Function.call,String.prototype.replace),T=x.call(Function.call,String.prototype.slice),O=x.call(Function.call,RegExp.prototype.exec),D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,F=function(I){var $=T(I,0,1),K=T(I,-1);if($==="%"&&K!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(K==="%"&&$!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var U=[];return _(I,D,function(G,B,H,N){U[U.length]=H?_(N,j,"$1"):B||G}),U},M=function(I,$){var K=I,U;if(k(S,K)&&(U=S[K],K="%"+U[0]+"%"),k(y,K)){var G=y[K];if(G===g&&(G=v(K)),typeof G>"u"&&!$)throw new n("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:U,name:K,value:G}}throw new e("intrinsic "+I+" does not exist!")};return Kg=function(I,$){if(typeof I!="string"||I.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new n('"allowMissing" argument must be a boolean');if(O(/^%?[^%]*%?$/,I)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=F(I),U=K.length>0?K[0]:"",G=M("%"+U+"%",$),B=G.name,H=G.value,N=!1,L=G.alias;L&&(U=L[0],R(K,C([0,1],L)));for(var W=1,X=!0;W<K.length;W+=1){var Y=K[W],ce=T(Y,0,1),ee=T(Y,-1);if((ce==='"'||ce==="'"||ce==="`"||ee==='"'||ee==="'"||ee==="`")&&ce!==ee)throw new e("property names with quotes must have matching quotes");if((Y==="constructor"||!X)&&(N=!0),U+="."+Y,B="%"+U+"%",k(y,B))H=y[B];else if(H!=null){if(!(Y in H)){if(!$)throw new n("base intrinsic for "+I+" exists, but the property is not available.");return}if(a&&W+1>=K.length){var fe=a(H,Y);X=!!fe,X&&"get"in fe&&!("originalValue"in fe.get)?H=fe.get:H=H[Y]}else X=k(H,Y),H=H[Y];X&&!N&&(y[B]=H)}}return H},Kg}var Gg,vw;function O2(){if(vw)return Gg;vw=1;var t=AI(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Gg=e,Gg}var Xg,yw;function II(){if(yw)return Xg;yw=1;var t=n0(),e=Qy(),r=Xs(),n=O2();return Xg=function(a,s,u){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,p=!!n&&n(a,s);if(t)t(a,s,{configurable:f===null&&p?p.configurable:!f,enumerable:c===null&&p?p.enumerable:!c,value:u,writable:h===null&&p?p.writable:!h});else if(g||!c&&!h&&!f)a[s]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Xg}var Yg,bw;function NI(){if(bw)return Yg;bw=1;var t=n0(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Yg=e,Yg}var Zg,xw;function FI(){if(xw)return Zg;xw=1;var t=mp(),e=II(),r=NI()(),n=O2(),i=Xs(),a=t("%Math.floor%");return Zg=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,g=!0;if("length"in u&&n){var p=n(u,"length");p&&!p.configurable&&(f=!1),p&&!p.writable&&(g=!1)}return(f||g||!h)&&(r?e(u,"length",c,!0,!0):e(u,"length",c)),u},Zg}var ww;function MI(){return ww||(ww=1,function(t){var e=Mc(),r=mp(),n=FI(),i=Xs(),a=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(s,a),c=n0(),h=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var y=u(e,s,arguments);return n(y,1+h(0,p.length-(arguments.length-1)),!0)};var f=function(){return u(e,a,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f}(qg)),qg.exports}var Jg,Sw;function jI(){if(Sw)return Jg;Sw=1;var t=mp(),e=MI(),r=e(t("String.prototype.indexOf"));return Jg=function(i,a){var s=t(i,!!a);return typeof s=="function"&&r(i,".prototype.")>-1?e(s):s},Jg}const $I={},LI=Object.freeze(Object.defineProperty({__proto__:null,default:$I},Symbol.toStringTag,{value:"Module"})),DI=Nc(LI);var Qg,kw;function BI(){if(kw)return Qg;kw=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,h=c?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,g=f?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,y=p?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,v=Object.prototype.toString,S=Function.prototype.toString,x=String.prototype.match,k=String.prototype.slice,C=String.prototype.replace,R=String.prototype.toUpperCase,_=String.prototype.toLowerCase,T=RegExp.prototype.test,O=Array.prototype.concat,D=Array.prototype.join,j=Array.prototype.slice,F=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$=typeof Symbol=="function"&&typeof Symbol.iterator=="object",K=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$||!0)?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Z){return Z.__proto__}:null);function B(Z,ie){if(Z===1/0||Z===-1/0||Z!==Z||Z&&Z>-1e3&&Z<1e3||T.call(/e/,ie))return ie;var rt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Z=="number"){var se=Z<0?-F(-Z):F(Z);if(se!==Z){var te=String(se),me=k.call(ie,te.length+1);return C.call(te,rt,"$&_")+"."+C.call(C.call(me,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(ie,rt,"$&_")}var H=DI,N=H.custom,L=he(N)?N:null;Qg=function Z(ie,rt,se,te){var me=rt||{};if(_e(me,"quoteStyle")&&me.quoteStyle!=="single"&&me.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_e(me,"maxStringLength")&&(typeof me.maxStringLength=="number"?me.maxStringLength<0&&me.maxStringLength!==1/0:me.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var be=_e(me,"customInspect")?me.customInspect:!0;if(typeof be!="boolean"&&be!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_e(me,"indent")&&me.indent!==null&&me.indent!=="	"&&!(parseInt(me.indent,10)===me.indent&&me.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_e(me,"numericSeparator")&&typeof me.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var xe=me.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return We(ie,me);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var ze=String(ie);return xe?B(ie,ze):ze}if(typeof ie=="bigint"){var ot=String(ie)+"n";return xe?B(ie,ot):ot}var Ue=typeof me.depth>"u"?5:me.depth;if(typeof se>"u"&&(se=0),se>=Ue&&Ue>0&&typeof ie=="object")return Y(ie)?"[Array]":"[Object]";var ct=Et(me,se);if(typeof te>"u")te=[];else if(De(te,ie)>=0)return"[Circular]";function _t(yr,br,mr){if(br&&(te=j.call(te),te.push(br)),mr){var Rr={depth:me.depth};return _e(me,"quoteStyle")&&(Rr.quoteStyle=me.quoteStyle),Z(yr,Rr,se+1,te)}return Z(yr,me,se+1,te)}if(typeof ie=="function"&&!ee(ie)){var Vt=Me(ie),He=st(ie,_t);return"[Function"+(Vt?": "+Vt:" (anonymous)")+"]"+(He.length>0?" { "+D.call(He,", ")+" }":"")}if(he(ie)){var Zt=$?C.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(ie);return typeof ie=="object"&&!$?Be(Zt):Zt}if(Ie(ie)){for(var gr="<"+_.call(String(ie.nodeName)),Xe=ie.attributes||[],Ce=0;Ce<Xe.length;Ce++)gr+=" "+Xe[Ce].name+"="+W(X(Xe[Ce].value),"double",me);return gr+=">",ie.childNodes&&ie.childNodes.length&&(gr+="..."),gr+="</"+_.call(String(ie.nodeName))+">",gr}if(Y(ie)){if(ie.length===0)return"[]";var Ot=st(ie,_t);return ct&&!Q(Ot)?"["+Tt(Ot,ct)+"]":"[ "+D.call(Ot,", ")+" ]"}if(fe(ie)){var jt=st(ie,_t);return!("cause"in Error.prototype)&&"cause"in ie&&!U.call(ie,"cause")?"{ ["+String(ie)+"] "+D.call(O.call("[cause]: "+_t(ie.cause),jt),", ")+" }":jt.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+D.call(jt,", ")+" }"}if(typeof ie=="object"&&be){if(L&&typeof ie[L]=="function"&&H)return H(ie,{depth:Ue-se});if(be!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(gt(ie)){var Ze=[];return n&&n.call(ie,function(yr,br){Ze.push(_t(br,ie,!0)+" => "+_t(yr,ie))}),Pe("Map",r.call(ie),Ze,ct)}if(ht(ie)){var wt=[];return u&&u.call(ie,function(yr){wt.push(_t(yr,ie))}),Pe("Set",s.call(ie),wt,ct)}if(Ge(ie))return tt("WeakMap");if(Oe(ie))return tt("WeakSet");if(yt(ie))return tt("WeakRef");if(de(ie))return Be(_t(Number(ie)));if(ke(ie))return Be(_t(M.call(ie)));if(pe(ie))return Be(b.call(ie));if(le(ie))return Be(_t(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(ie===Hv)return"{ [object globalThis] }";if(!ce(ie)&&!ee(ie)){var Nt=st(ie,_t),lr=G?G(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,pr=ie instanceof Object?"":"null prototype",wr=!lr&&K&&Object(ie)===ie&&K in ie?k.call(et(ie),8,-1):pr?"Object":"",Br=lr||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",_r=Br+(wr||pr?"["+D.call(O.call([],wr||[],pr||[]),": ")+"] ":"");return Nt.length===0?_r+"{}":ct?_r+"{"+Tt(Nt,ct)+"}":_r+"{ "+D.call(Nt,", ")+" }"}return String(ie)};function W(Z,ie,rt){var se=(rt.quoteStyle||ie)==="double"?'"':"'";return se+Z+se}function X(Z){return C.call(String(Z),/"/g,"&quot;")}function Y(Z){return et(Z)==="[object Array]"&&(!K||!(typeof Z=="object"&&K in Z))}function ce(Z){return et(Z)==="[object Date]"&&(!K||!(typeof Z=="object"&&K in Z))}function ee(Z){return et(Z)==="[object RegExp]"&&(!K||!(typeof Z=="object"&&K in Z))}function fe(Z){return et(Z)==="[object Error]"&&(!K||!(typeof Z=="object"&&K in Z))}function le(Z){return et(Z)==="[object String]"&&(!K||!(typeof Z=="object"&&K in Z))}function de(Z){return et(Z)==="[object Number]"&&(!K||!(typeof Z=="object"&&K in Z))}function pe(Z){return et(Z)==="[object Boolean]"&&(!K||!(typeof Z=="object"&&K in Z))}function he(Z){if($)return Z&&typeof Z=="object"&&Z instanceof Symbol;if(typeof Z=="symbol")return!0;if(!Z||typeof Z!="object"||!I)return!1;try{return I.call(Z),!0}catch{}return!1}function ke(Z){if(!Z||typeof Z!="object"||!M)return!1;try{return M.call(Z),!0}catch{}return!1}var Re=Object.prototype.hasOwnProperty||function(Z){return Z in this};function _e(Z,ie){return Re.call(Z,ie)}function et(Z){return v.call(Z)}function Me(Z){if(Z.name)return Z.name;var ie=x.call(S.call(Z),/^function\s*([\w$]+)/);return ie?ie[1]:null}function De(Z,ie){if(Z.indexOf)return Z.indexOf(ie);for(var rt=0,se=Z.length;rt<se;rt++)if(Z[rt]===ie)return rt;return-1}function gt(Z){if(!r||!Z||typeof Z!="object")return!1;try{r.call(Z);try{s.call(Z)}catch{return!0}return Z instanceof Map}catch{}return!1}function Ge(Z){if(!h||!Z||typeof Z!="object")return!1;try{h.call(Z,h);try{g.call(Z,g)}catch{return!0}return Z instanceof WeakMap}catch{}return!1}function yt(Z){if(!y||!Z||typeof Z!="object")return!1;try{return y.call(Z),!0}catch{}return!1}function ht(Z){if(!s||!Z||typeof Z!="object")return!1;try{s.call(Z);try{r.call(Z)}catch{return!0}return Z instanceof Set}catch{}return!1}function Oe(Z){if(!g||!Z||typeof Z!="object")return!1;try{g.call(Z,g);try{h.call(Z,h)}catch{return!0}return Z instanceof WeakSet}catch{}return!1}function Ie(Z){return!Z||typeof Z!="object"?!1:typeof HTMLElement<"u"&&Z instanceof HTMLElement?!0:typeof Z.nodeName=="string"&&typeof Z.getAttribute=="function"}function We(Z,ie){if(Z.length>ie.maxStringLength){var rt=Z.length-ie.maxStringLength,se="... "+rt+" more character"+(rt>1?"s":"");return We(k.call(Z,0,ie.maxStringLength),ie)+se}var te=C.call(C.call(Z,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mt);return W(te,"single",ie)}function mt(Z){var ie=Z.charCodeAt(0),rt={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return rt?"\\"+rt:"\\x"+(ie<16?"0":"")+R.call(ie.toString(16))}function Be(Z){return"Object("+Z+")"}function tt(Z){return Z+" { ? }"}function Pe(Z,ie,rt,se){var te=se?Tt(rt,se):D.call(rt,", ");return Z+" ("+ie+") {"+te+"}"}function Q(Z){for(var ie=0;ie<Z.length;ie++)if(De(Z[ie],`
`)>=0)return!1;return!0}function Et(Z,ie){var rt;if(Z.indent==="	")rt="	";else if(typeof Z.indent=="number"&&Z.indent>0)rt=D.call(Array(Z.indent+1)," ");else return null;return{base:rt,prev:D.call(Array(ie+1),rt)}}function Tt(Z,ie){if(Z.length===0)return"";var rt=`
`+ie.prev+ie.base;return rt+D.call(Z,","+rt)+`
`+ie.prev}function st(Z,ie){var rt=Y(Z),se=[];if(rt){se.length=Z.length;for(var te=0;te<Z.length;te++)se[te]=_e(Z,te)?ie(Z[te],Z):""}var me=typeof z=="function"?z(Z):[],be;if($){be={};for(var xe=0;xe<me.length;xe++)be["$"+me[xe]]=me[xe]}for(var ze in Z)_e(Z,ze)&&(rt&&String(Number(ze))===ze&&ze<Z.length||$&&be["$"+ze]instanceof Symbol||(T.call(/[^\w$]/,ze)?se.push(ie(ze,Z)+": "+ie(Z[ze],Z)):se.push(ze+": "+ie(Z[ze],Z))));if(typeof z=="function")for(var ot=0;ot<me.length;ot++)U.call(Z,me[ot])&&se.push("["+ie(me[ot])+"]: "+ie(Z[me[ot]],Z));return se}return Qg}var em,Cw;function zI(){if(Cw)return em;Cw=1;var t=mp(),e=jI(),r=BI(),n=Xs(),i=t("%WeakMap%",!0),a=t("%Map%",!0),s=e("WeakMap.prototype.get",!0),u=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),h=e("Map.prototype.get",!0),f=e("Map.prototype.set",!0),g=e("Map.prototype.has",!0),p=function(S,x){for(var k=S,C;(C=k.next)!==null;k=C)if(C.key===x)return k.next=C.next,C.next=S.next,S.next=C,C},y=function(S,x){var k=p(S,x);return k&&k.value},b=function(S,x,k){var C=p(S,x);C?C.value=k:S.next={key:x,next:S.next,value:k}},v=function(S,x){return!!p(S,x)};return em=function(){var x,k,C,R={assert:function(_){if(!R.has(_))throw new n("Side channel does not contain "+r(_))},get:function(_){if(i&&_&&(typeof _=="object"||typeof _=="function")){if(x)return s(x,_)}else if(a){if(k)return h(k,_)}else if(C)return y(C,_)},has:function(_){if(i&&_&&(typeof _=="object"||typeof _=="function")){if(x)return c(x,_)}else if(a){if(k)return g(k,_)}else if(C)return v(C,_);return!1},set:function(_,T){i&&_&&(typeof _=="object"||typeof _=="function")?(x||(x=new i),u(x,_,T)):a?(k||(k=new a),f(k,_,T)):(C||(C={key:{},next:null}),b(C,_,T))}};return R},em}var tm,Ew;function i0(){if(Ew)return tm;Ew=1;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return tm={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},tm}var rm,_w;function A2(){if(_w)return rm;_w=1;var t=i0(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var S=[],x=0;x<256;++x)S.push("%"+((x<16?"0":"")+x.toString(16)).toUpperCase());return S}(),i=function(x){for(;x.length>1;){var k=x.pop(),C=k.obj[k.prop];if(r(C)){for(var R=[],_=0;_<C.length;++_)typeof C[_]<"u"&&R.push(C[_]);k.obj[k.prop]=R}}},a=function(x,k){for(var C=k&&k.plainObjects?Object.create(null):{},R=0;R<x.length;++R)typeof x[R]<"u"&&(C[R]=x[R]);return C},s=function S(x,k,C){if(!k)return x;if(typeof k!="object"){if(r(x))x.push(k);else if(x&&typeof x=="object")(C&&(C.plainObjects||C.allowPrototypes)||!e.call(Object.prototype,k))&&(x[k]=!0);else return[x,k];return x}if(!x||typeof x!="object")return[x].concat(k);var R=x;return r(x)&&!r(k)&&(R=a(x,C)),r(x)&&r(k)?(k.forEach(function(_,T){if(e.call(x,T)){var O=x[T];O&&typeof O=="object"&&_&&typeof _=="object"?x[T]=S(O,_,C):x.push(_)}else x[T]=_}),x):Object.keys(k).reduce(function(_,T){var O=k[T];return e.call(_,T)?_[T]=S(_[T],O,C):_[T]=O,_},R)},u=function(x,k){return Object.keys(k).reduce(function(C,R){return C[R]=k[R],C},x)},c=function(S,x,k){var C=S.replace(/\+/g," ");if(k==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch{return C}},h=1024,f=function(x,k,C,R,_){if(x.length===0)return x;var T=x;if(typeof x=="symbol"?T=Symbol.prototype.toString.call(x):typeof x!="string"&&(T=String(x)),C==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var O="",D=0;D<T.length;D+=h){for(var j=T.length>=h?T.slice(D,D+h):T,F=[],M=0;M<j.length;++M){var z=j.charCodeAt(M);if(z===45||z===46||z===95||z===126||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||_===t.RFC1738&&(z===40||z===41)){F[F.length]=j.charAt(M);continue}if(z<128){F[F.length]=n[z];continue}if(z<2048){F[F.length]=n[192|z>>6]+n[128|z&63];continue}if(z<55296||z>=57344){F[F.length]=n[224|z>>12]+n[128|z>>6&63]+n[128|z&63];continue}M+=1,z=65536+((z&1023)<<10|j.charCodeAt(M)&1023),F[F.length]=n[240|z>>18]+n[128|z>>12&63]+n[128|z>>6&63]+n[128|z&63]}O+=F.join("")}return O},g=function(x){for(var k=[{obj:{o:x},prop:"o"}],C=[],R=0;R<k.length;++R)for(var _=k[R],T=_.obj[_.prop],O=Object.keys(T),D=0;D<O.length;++D){var j=O[D],F=T[j];typeof F=="object"&&F!==null&&C.indexOf(F)===-1&&(k.push({obj:T,prop:j}),C.push(F))}return i(k),x},p=function(x){return Object.prototype.toString.call(x)==="[object RegExp]"},y=function(x){return!x||typeof x!="object"?!1:!!(x.constructor&&x.constructor.isBuffer&&x.constructor.isBuffer(x))},b=function(x,k){return[].concat(x,k)},v=function(x,k){if(r(x)){for(var C=[],R=0;R<x.length;R+=1)C.push(k(x[R]));return C}return k(x)};return rm={arrayToObject:a,assign:u,combine:b,compact:g,decode:c,encode:f,isBuffer:y,isRegExp:p,maybeMap:v,merge:s},rm}var nm,Pw;function VI(){if(Pw)return nm;Pw=1;var t=zI(),e=A2(),r=i0(),n=Object.prototype.hasOwnProperty,i={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,x){return S+"["+x+"]"},repeat:function(S){return S}},a=Array.isArray,s=Array.prototype.push,u=function(v,S){s.apply(v,a(S)?S:[S])},c=Date.prototype.toISOString,h=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:h,formatter:r.formatters[h],indices:!1,serializeDate:function(S){return c.call(S)},skipNulls:!1,strictNullHandling:!1},g=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},p={},y=function v(S,x,k,C,R,_,T,O,D,j,F,M,z,I,$,K,U,G){for(var B=S,H=G,N=0,L=!1;(H=H.get(p))!==void 0&&!L;){var W=H.get(S);if(N+=1,typeof W<"u"){if(W===N)throw new RangeError("Cyclic object value");L=!0}typeof H.get(p)>"u"&&(N=0)}if(typeof j=="function"?B=j(x,B):B instanceof Date?B=z(B):k==="comma"&&a(B)&&(B=e.maybeMap(B,function(et){return et instanceof Date?z(et):et})),B===null){if(_)return D&&!K?D(x,f.encoder,U,"key",I):x;B=""}if(g(B)||e.isBuffer(B)){if(D){var X=K?x:D(x,f.encoder,U,"key",I);return[$(X)+"="+$(D(B,f.encoder,U,"value",I))]}return[$(x)+"="+$(String(B))]}var Y=[];if(typeof B>"u")return Y;var ce;if(k==="comma"&&a(B))K&&D&&(B=e.maybeMap(B,D)),ce=[{value:B.length>0?B.join(",")||null:void 0}];else if(a(j))ce=j;else{var ee=Object.keys(B);ce=F?ee.sort(F):ee}var fe=O?x.replace(/\./g,"%2E"):x,le=C&&a(B)&&B.length===1?fe+"[]":fe;if(R&&a(B)&&B.length===0)return le+"[]";for(var de=0;de<ce.length;++de){var pe=ce[de],he=typeof pe=="object"&&typeof pe.value<"u"?pe.value:B[pe];if(!(T&&he===null)){var ke=M&&O?pe.replace(/\./g,"%2E"):pe,Re=a(B)?typeof k=="function"?k(le,ke):le:le+(M?"."+ke:"["+ke+"]");G.set(S,N);var _e=t();_e.set(p,G),u(Y,v(he,Re,k,C,R,_,T,O,k==="comma"&&K&&a(B)?null:D,j,F,M,z,I,$,K,U,_e))}}return Y},b=function(S){if(!S)return f;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.encodeDotInKeys<"u"&&typeof S.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(S.encoder!==null&&typeof S.encoder<"u"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var x=S.charset||f.charset;if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var k=r.default;if(typeof S.format<"u"){if(!n.call(r.formatters,S.format))throw new TypeError("Unknown format option provided.");k=S.format}var C=r.formatters[k],R=f.filter;(typeof S.filter=="function"||a(S.filter))&&(R=S.filter);var _;if(S.arrayFormat in i?_=S.arrayFormat:"indices"in S?_=S.indices?"indices":"repeat":_=f.arrayFormat,"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof S.allowDots>"u"?S.encodeDotInKeys===!0?!0:f.allowDots:!!S.allowDots;return{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:_,charset:x,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:f.charsetSentinel,commaRoundTrip:S.commaRoundTrip,delimiter:typeof S.delimiter>"u"?f.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:f.encode,encodeDotInKeys:typeof S.encodeDotInKeys=="boolean"?S.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof S.encoder=="function"?S.encoder:f.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:f.encodeValuesOnly,filter:R,format:k,formatter:C,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:f.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:f.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:f.strictNullHandling}};return nm=function(v,S){var x=v,k=b(S),C,R;typeof k.filter=="function"?(R=k.filter,x=R("",x)):a(k.filter)&&(R=k.filter,C=R);var _=[];if(typeof x!="object"||x===null)return"";var T=i[k.arrayFormat],O=T==="comma"&&k.commaRoundTrip;C||(C=Object.keys(x)),k.sort&&C.sort(k.sort);for(var D=t(),j=0;j<C.length;++j){var F=C[j];k.skipNulls&&x[F]===null||u(_,y(x[F],F,T,O,k.allowEmptyArrays,k.strictNullHandling,k.skipNulls,k.encodeDotInKeys,k.encode?k.encoder:null,k.filter,k.sort,k.allowDots,k.serializeDate,k.format,k.formatter,k.encodeValuesOnly,k.charset,D))}var M=_.join(k.delimiter),z=k.addQueryPrefix===!0?"?":"";return k.charsetSentinel&&(k.charset==="iso-8859-1"?z+="utf8=%26%2310003%3B&":z+="utf8=%E2%9C%93&"),M.length>0?z+M:""},nm}var im,Tw;function WI(){if(Tw)return im;Tw=1;var t=A2(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(y,b){return String.fromCharCode(parseInt(b,10))})},a=function(p,y){return p&&typeof p=="string"&&y.comma&&p.indexOf(",")>-1?p.split(","):p},s="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",c=function(y,b){var v={__proto__:null},S=b.ignoreQueryPrefix?y.replace(/^\?/,""):y;S=S.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var x=b.parameterLimit===1/0?void 0:b.parameterLimit,k=S.split(b.delimiter,x),C=-1,R,_=b.charset;if(b.charsetSentinel)for(R=0;R<k.length;++R)k[R].indexOf("utf8=")===0&&(k[R]===u?_="utf-8":k[R]===s&&(_="iso-8859-1"),C=R,R=k.length);for(R=0;R<k.length;++R)if(R!==C){var T=k[R],O=T.indexOf("]="),D=O===-1?T.indexOf("="):O+1,j,F;D===-1?(j=b.decoder(T,n.decoder,_,"key"),F=b.strictNullHandling?null:""):(j=b.decoder(T.slice(0,D),n.decoder,_,"key"),F=t.maybeMap(a(T.slice(D+1),b),function(z){return b.decoder(z,n.decoder,_,"value")})),F&&b.interpretNumericEntities&&_==="iso-8859-1"&&(F=i(F)),T.indexOf("[]=")>-1&&(F=r(F)?[F]:F);var M=e.call(v,j);M&&b.duplicates==="combine"?v[j]=t.combine(v[j],F):(!M||b.duplicates==="last")&&(v[j]=F)}return v},h=function(p,y,b,v){for(var S=v?y:a(y,b),x=p.length-1;x>=0;--x){var k,C=p[x];if(C==="[]"&&b.parseArrays)k=b.allowEmptyArrays&&(S===""||b.strictNullHandling&&S===null)?[]:[].concat(S);else{k=b.plainObjects?Object.create(null):{};var R=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,_=b.decodeDotInKeys?R.replace(/%2E/g,"."):R,T=parseInt(_,10);!b.parseArrays&&_===""?k={0:S}:!isNaN(T)&&C!==_&&String(T)===_&&T>=0&&b.parseArrays&&T<=b.arrayLimit?(k=[],k[T]=S):_!=="__proto__"&&(k[_]=S)}S=k}return S},f=function(y,b,v,S){if(y){var x=v.allowDots?y.replace(/\.([^.[]+)/g,"[$1]"):y,k=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,R=v.depth>0&&k.exec(x),_=R?x.slice(0,R.index):x,T=[];if(_){if(!v.plainObjects&&e.call(Object.prototype,_)&&!v.allowPrototypes)return;T.push(_)}for(var O=0;v.depth>0&&(R=C.exec(x))!==null&&O<v.depth;){if(O+=1,!v.plainObjects&&e.call(Object.prototype,R[1].slice(1,-1))&&!v.allowPrototypes)return;T.push(R[1])}if(R){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");T.push("["+x.slice(R.index)+"]")}return h(T,b,v,S)}},g=function(y){if(!y)return n;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.decodeDotInKeys<"u"&&typeof y.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(y.decoder!==null&&typeof y.decoder<"u"&&typeof y.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof y.charset>"u"?n.charset:y.charset,v=typeof y.duplicates>"u"?n.duplicates:y.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var S=typeof y.allowDots>"u"?y.decodeDotInKeys===!0?!0:n.allowDots:!!y.allowDots;return{allowDots:S,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof y.allowPrototypes=="boolean"?y.allowPrototypes:n.allowPrototypes,allowSparse:typeof y.allowSparse=="boolean"?y.allowSparse:n.allowSparse,arrayLimit:typeof y.arrayLimit=="number"?y.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:n.charsetSentinel,comma:typeof y.comma=="boolean"?y.comma:n.comma,decodeDotInKeys:typeof y.decodeDotInKeys=="boolean"?y.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof y.decoder=="function"?y.decoder:n.decoder,delimiter:typeof y.delimiter=="string"||t.isRegExp(y.delimiter)?y.delimiter:n.delimiter,depth:typeof y.depth=="number"||y.depth===!1?+y.depth:n.depth,duplicates:v,ignoreQueryPrefix:y.ignoreQueryPrefix===!0,interpretNumericEntities:typeof y.interpretNumericEntities=="boolean"?y.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof y.parameterLimit=="number"?y.parameterLimit:n.parameterLimit,parseArrays:y.parseArrays!==!1,plainObjects:typeof y.plainObjects=="boolean"?y.plainObjects:n.plainObjects,strictDepth:typeof y.strictDepth=="boolean"?!!y.strictDepth:n.strictDepth,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:n.strictNullHandling}};return im=function(p,y){var b=g(y);if(p===""||p===null||typeof p>"u")return b.plainObjects?Object.create(null):{};for(var v=typeof p=="string"?c(p,b):p,S=b.plainObjects?Object.create(null):{},x=Object.keys(v),k=0;k<x.length;++k){var C=x[k],R=f(C,v[C],b,typeof p=="string");S=t.merge(S,R,b)}return b.allowSparse===!0?S:t.compact(S)},im}var am,Rw;function qI(){if(Rw)return am;Rw=1;var t=VI(),e=WI(),r=i0();return am={formats:r,parse:e,stringify:t},am}var Ow;function a0(){if(Ow)return yo;Ow=1;var t=PI();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(s),c=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=qI();function x(_,T,O){if(_&&typeof _=="object"&&_ instanceof e)return _;var D=new e;return D.parse(_,T,O),D}e.prototype.parse=function(_,T,O){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var D=_.indexOf("?"),j=D!==-1&&D<_.indexOf("#")?"?":"#",F=_.split(j),M=/\\/g;F[0]=F[0].replace(M,"/"),_=F.join(j);var z=_;if(z=z.trim(),!O&&_.split("#").length===1){var I=i.exec(z);if(I)return this.path=z,this.href=z,this.pathname=I[1],I[2]?(this.search=I[2],T?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var $=r.exec(z);if($){$=$[0];var K=$.toLowerCase();this.protocol=K,z=z.substr($.length)}if(O||$||z.match(/^\/\/[^@/]+@[^@/]+/)){var U=z.substr(0,2)==="//";U&&!($&&b[$])&&(z=z.substr(2),this.slashes=!0)}if(!b[$]&&(U||$&&!v[$])){for(var G=-1,B=0;B<h.length;B++){var H=z.indexOf(h[B]);H!==-1&&(G===-1||H<G)&&(G=H)}var N,L;G===-1?L=z.lastIndexOf("@"):L=z.lastIndexOf("@",G),L!==-1&&(N=z.slice(0,L),z=z.slice(L+1),this.auth=decodeURIComponent(N)),G=-1;for(var B=0;B<c.length;B++){var H=z.indexOf(c[B]);H!==-1&&(G===-1||H<G)&&(G=H)}G===-1&&(G=z.length),this.host=z.slice(0,G),z=z.slice(G),this.parseHost(),this.hostname=this.hostname||"";var W=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!W)for(var X=this.hostname.split(/\./),B=0,Y=X.length;B<Y;B++){var ce=X[B];if(ce&&!ce.match(g)){for(var ee="",fe=0,le=ce.length;fe<le;fe++)ce.charCodeAt(fe)>127?ee+="x":ee+=ce[fe];if(!ee.match(g)){var de=X.slice(0,B),pe=X.slice(B+1),he=ce.match(p);he&&(de.push(he[1]),pe.unshift(he[2])),pe.length&&(z="/"+pe.join(".")+z),this.hostname=de.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),W||(this.hostname=t.toASCII(this.hostname));var ke=this.port?":"+this.port:"",Re=this.hostname||"";this.host=Re+ke,this.href+=this.host,W&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),z[0]!=="/"&&(z="/"+z))}if(!y[K])for(var B=0,Y=u.length;B<Y;B++){var _e=u[B];if(z.indexOf(_e)!==-1){var et=encodeURIComponent(_e);et===_e&&(et=escape(_e)),z=z.split(_e).join(et)}}var Me=z.indexOf("#");Me!==-1&&(this.hash=z.substr(Me),z=z.slice(0,Me));var De=z.indexOf("?");if(De!==-1?(this.search=z.substr(De),this.query=z.substr(De+1),T&&(this.query=S.parse(this.query)),z=z.slice(0,De)):T&&(this.search="",this.query={}),z&&(this.pathname=z),v[K]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ke=this.pathname||"",gt=this.search||"";this.path=ke+gt}return this.href=this.format(),this};function k(_){return typeof _=="string"&&(_=x(_)),_ instanceof e?_.format():e.prototype.format.call(_)}e.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var T=this.protocol||"",O=this.pathname||"",D=this.hash||"",j=!1,F="";this.host?j=_+this.host:this.hostname&&(j=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(j+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(F=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var M=this.search||F&&"?"+F||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||v[T])&&j!==!1?(j="//"+(j||""),O&&O.charAt(0)!=="/"&&(O="/"+O)):j||(j=""),D&&D.charAt(0)!=="#"&&(D="#"+D),M&&M.charAt(0)!=="?"&&(M="?"+M),O=O.replace(/[?#]/g,function(z){return encodeURIComponent(z)}),M=M.replace("#","%23"),T+j+O+M+D};function C(_,T){return x(_,!1,!0).resolve(T)}e.prototype.resolve=function(_){return this.resolveObject(x(_,!1,!0)).format()};function R(_,T){return _?x(_,!1,!0).resolveObject(T):T}return e.prototype.resolveObject=function(_){if(typeof _=="string"){var T=new e;T.parse(_,!1,!0),_=T}for(var O=new e,D=Object.keys(this),j=0;j<D.length;j++){var F=D[j];O[F]=this[F]}if(O.hash=_.hash,_.href==="")return O.href=O.format(),O;if(_.slashes&&!_.protocol){for(var M=Object.keys(_),z=0;z<M.length;z++){var I=M[z];I!=="protocol"&&(O[I]=_[I])}return v[O.protocol]&&O.hostname&&!O.pathname&&(O.pathname="/",O.path=O.pathname),O.href=O.format(),O}if(_.protocol&&_.protocol!==O.protocol){if(!v[_.protocol]){for(var $=Object.keys(_),K=0;K<$.length;K++){var U=$[K];O[U]=_[U]}return O.href=O.format(),O}if(O.protocol=_.protocol,!_.host&&!b[_.protocol]){for(var Y=(_.pathname||"").split("/");Y.length&&!(_.host=Y.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),Y[0]!==""&&Y.unshift(""),Y.length<2&&Y.unshift(""),O.pathname=Y.join("/")}else O.pathname=_.pathname;if(O.search=_.search,O.query=_.query,O.host=_.host||"",O.auth=_.auth,O.hostname=_.hostname||_.host,O.port=_.port,O.pathname||O.search){var G=O.pathname||"",B=O.search||"";O.path=G+B}return O.slashes=O.slashes||_.slashes,O.href=O.format(),O}var H=O.pathname&&O.pathname.charAt(0)==="/",N=_.host||_.pathname&&_.pathname.charAt(0)==="/",L=N||H||O.host&&_.pathname,W=L,X=O.pathname&&O.pathname.split("/")||[],Y=_.pathname&&_.pathname.split("/")||[],ce=O.protocol&&!v[O.protocol];if(ce&&(O.hostname="",O.port=null,O.host&&(X[0]===""?X[0]=O.host:X.unshift(O.host)),O.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&(Y[0]===""?Y[0]=_.host:Y.unshift(_.host)),_.host=null),L=L&&(Y[0]===""||X[0]==="")),N)O.host=_.host||_.host===""?_.host:O.host,O.hostname=_.hostname||_.hostname===""?_.hostname:O.hostname,O.search=_.search,O.query=_.query,X=Y;else if(Y.length)X||(X=[]),X.pop(),X=X.concat(Y),O.search=_.search,O.query=_.query;else if(_.search!=null){if(ce){O.host=X.shift(),O.hostname=O.host;var ee=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;ee&&(O.auth=ee.shift(),O.hostname=ee.shift(),O.host=O.hostname)}return O.search=_.search,O.query=_.query,(O.pathname!==null||O.search!==null)&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O}if(!X.length)return O.pathname=null,O.search?O.path="/"+O.search:O.path=null,O.href=O.format(),O;for(var fe=X.slice(-1)[0],le=(O.host||_.host||X.length>1)&&(fe==="."||fe==="..")||fe==="",de=0,pe=X.length;pe>=0;pe--)fe=X[pe],fe==="."?X.splice(pe,1):fe===".."?(X.splice(pe,1),de++):de&&(X.splice(pe,1),de--);if(!L&&!W)for(;de--;de)X.unshift("..");L&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),le&&X.join("/").substr(-1)!=="/"&&X.push("");var he=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ce){O.hostname=he?"":X.length?X.shift():"",O.host=O.hostname;var ee=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;ee&&(O.auth=ee.shift(),O.hostname=ee.shift(),O.host=O.hostname)}return L=L||O.host&&X.length,L&&!he&&X.unshift(""),X.length>0?O.pathname=X.join("/"):(O.pathname=null,O.path=null),(O.pathname!==null||O.search!==null)&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.auth=_.auth||O.auth,O.slashes=O.slashes||_.slashes,O.href=O.format(),O},e.prototype.parseHost=function(){var _=this.host,T=n.exec(_);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),_=_.substr(0,_.length-T.length)),_&&(this.hostname=_)},yo.parse=x,yo.resolve=C,yo.resolveObject=R,yo.format=k,yo.Url=e,yo}var Dn={},Aw;function Po(){if(Aw)return Dn;Aw=1;var t=a0(),e=Dn.ValidationError=function(v,S,x,k,C,R){if(Array.isArray(k)?(this.path=k,this.property=k.reduce(function(T,O){return T+c(O)},"instance")):k!==void 0&&(this.property=k),v&&(this.message=v),x){var _=x.$id||x.id;this.schema=_||x}S!==void 0&&(this.instance=S),this.name=C,this.argument=R,this.stack=this.toString()};e.prototype.toString=function(){return this.property+" "+this.message};var r=Dn.ValidatorResult=function(v,S,x,k){this.instance=v,this.schema=S,this.options=x,this.path=k.path,this.propertyPath=k.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.throwFirst=x&&x.throwFirst,this.throwAll=x&&x.throwAll,this.disableFormat=x&&x.disableFormat===!0};r.prototype.addError=function(v){var S;if(typeof v=="string")S=new e(v,this.instance,this.schema,this.path);else{if(!v)throw new Error("Missing error detail");if(!v.message)throw new Error("Missing error message");if(!v.name)throw new Error("Missing validator type");S=new e(v.message,this.instance,this.schema,this.path,v.name,v.argument)}if(this.errors.push(S),this.throwFirst)throw new i(this);if(this.throwError)throw S;return S},r.prototype.importErrors=function(v){typeof v=="string"||v&&v.validatorType?this.addError(v):v&&v.errors&&(this.errors=this.errors.concat(v.errors))};function n(b,v){return v+": "+b.toString()+`
`}r.prototype.toString=function(v){return this.errors.map(n).join("")},Object.defineProperty(r.prototype,"valid",{get:function(){return!this.errors.length}}),Dn.ValidatorResultError=i;function i(b){Error.captureStackTrace&&Error.captureStackTrace(this,i),this.instance=b.instance,this.schema=b.schema,this.options=b.options,this.errors=b.errors}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="Validation Error";var a=Dn.SchemaError=function b(v,S){this.message=v,this.schema=S,Error.call(this,v),Error.captureStackTrace(this,b)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var s=Dn.SchemaContext=function(v,S,x,k,C){this.schema=v,this.options=S,Array.isArray(x)?(this.path=x,this.propertyPath=x.reduce(function(R,_){return R+c(_)},"instance")):this.propertyPath=x,this.base=k,this.schemas=C};s.prototype.resolve=function(v){return t.resolve(this.base,v)},s.prototype.makeChild=function(v,S){var x=S===void 0?this.path:this.path.concat([S]),k=v.$id||v.id,C=t.resolve(this.base,k||""),R=new s(v,this.options,x,C,Object.create(this.schemas));return k&&!R.schemas[C]&&(R.schemas[C]=v),R};var u=Dn.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(b){return typeof b=="string"&&parseFloat(b)===parseInt(b,10)&&!isNaN(b)},regex:function(b){var v=!0;try{new RegExp(b)}catch{v=!1}return v},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],Dn.isFormat=function(v,S,x){if(typeof v=="string"&&u[S]!==void 0){if(u[S]instanceof RegExp)return u[S].test(v);if(typeof u[S]=="function")return u[S](v)}else if(x&&x.customFormats&&typeof x.customFormats[S]=="function")return x.customFormats[S](v);return!0};var c=Dn.makeSuffix=function(v){return v=v.toString(),!v.match(/[.\s\[\]]/)&&!v.match(/^[\d]/)?"."+v:v.match(/^\d+$/)?"["+v+"]":"["+JSON.stringify(v)+"]"};Dn.deepCompareStrict=function b(v,S){if(typeof v!=typeof S)return!1;if(Array.isArray(v))return!Array.isArray(S)||v.length!==S.length?!1:v.every(function(C,R){return b(v[R],S[R])});if(typeof v=="object"){if(!v||!S)return v===S;var x=Object.keys(v),k=Object.keys(S);return x.length!==k.length?!1:x.every(function(C){return b(v[C],S[C])})}return v===S};function h(b,v,S,x){typeof S=="object"?v[x]=p(b[x],S):b.indexOf(S)===-1&&v.push(S)}function f(b,v,S){v[S]=b[S]}function g(b,v,S,x){typeof v[x]!="object"||!v[x]?S[x]=v[x]:b[x]?S[x]=p(b[x],v[x]):S[x]=v[x]}function p(b,v){var S=Array.isArray(v),x=S&&[]||{};return S?(b=b||[],x=x.concat(b),v.forEach(h.bind(null,b,x))):(b&&typeof b=="object"&&Object.keys(b).forEach(f.bind(null,b,x)),Object.keys(v).forEach(g.bind(null,b,v,x))),x}Dn.deepMerge=p,Dn.objectGetPath=function(v,S){for(var x=S.split("/").slice(1),k;typeof(k=x.shift())=="string";){var C=decodeURIComponent(k.replace(/~0/,"~").replace(/~1/g,"/"));if(!(C in v))return;v=v[C]}return v};function y(b){return"/"+encodeURIComponent(b).replace(/~/g,"%7E")}return Dn.encodePath=function(v){return v.map(y).join("")},Dn.getDecimalPlaces=function(v){var S=0;if(isNaN(v))return S;typeof v!="number"&&(v=Number(v));var x=v.toString().split("e");if(x.length===2){if(x[1][0]!=="-")return S;S=Number(x[1].slice(1))}var k=x[0].split(".");return k.length===2&&(S+=k[1].length),S},Dn.isSchema=function(v){return typeof v=="object"&&v||typeof v=="boolean"},Dn}var om,Iw;function HI(){if(Iw)return om;Iw=1;var t=Po(),e=t.ValidatorResult,r=t.SchemaError,n={};n.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var i=n.validators={};i.type=function(g,p,y,b){if(g===void 0)return null;var v=new e(g,p,y,b),S=Array.isArray(p.type)?p.type:[p.type];if(!S.some(this.testType.bind(this,g,p,y,b))){var x=S.map(function(k){if(k){var C=k.$id||k.id;return C?"<"+C+">":k+""}});v.addError({name:"type",argument:x,message:"is not of a type(s) "+x})}return v};function a(f,g,p,y,b){var v=g.throwError,S=g.throwAll;g.throwError=!1,g.throwAll=!1;var x=this.validateSchema(f,b,g,p);return g.throwError=v,g.throwAll=S,!x.valid&&y instanceof Function&&y(x),x.valid}i.anyOf=function(g,p,y,b){if(g===void 0)return null;var v=new e(g,p,y,b),S=new e(g,p,y,b);if(!Array.isArray(p.anyOf))throw new r("anyOf must be an array");if(!p.anyOf.some(a.bind(this,g,y,b,function(k){S.importErrors(k)}))){var x=p.anyOf.map(function(k,C){var R=k.$id||k.id;return R?"<"+R+">":k.title&&JSON.stringify(k.title)||k.$ref&&"<"+k.$ref+">"||"[subschema "+C+"]"});y.nestedErrors&&v.importErrors(S),v.addError({name:"anyOf",argument:x,message:"is not any of "+x.join(",")})}return v},i.allOf=function(g,p,y,b){if(g===void 0)return null;if(!Array.isArray(p.allOf))throw new r("allOf must be an array");var v=new e(g,p,y,b),S=this;return p.allOf.forEach(function(x,k){var C=S.validateSchema(g,x,y,b);if(!C.valid){var R=x.$id||x.id,_=R||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+k+"]";v.addError({name:"allOf",argument:{id:_,length:C.errors.length,valid:C},message:"does not match allOf schema "+_+" with "+C.errors.length+" error[s]:"}),v.importErrors(C)}}),v},i.oneOf=function(g,p,y,b){if(g===void 0)return null;if(!Array.isArray(p.oneOf))throw new r("oneOf must be an array");var v=new e(g,p,y,b),S=new e(g,p,y,b),x=p.oneOf.filter(a.bind(this,g,y,b,function(C){S.importErrors(C)})).length,k=p.oneOf.map(function(C,R){var _=C.$id||C.id;return _||C.title&&JSON.stringify(C.title)||C.$ref&&"<"+C.$ref+">"||"[subschema "+R+"]"});return x!==1&&(y.nestedErrors&&v.importErrors(S),v.addError({name:"oneOf",argument:k,message:"is not exactly one from "+k.join(",")})),v},i.if=function(g,p,y,b){if(g===void 0)return null;if(!t.isSchema(p.if))throw new Error('Expected "if" keyword to be a schema');var v=a.call(this,g,y,b,null,p.if),S=new e(g,p,y,b),x;if(v){if(p.then===void 0)return;if(!t.isSchema(p.then))throw new Error('Expected "then" keyword to be a schema');x=this.validateSchema(g,p.then,y,b.makeChild(p.then)),S.importErrors(x)}else{if(p.else===void 0)return;if(!t.isSchema(p.else))throw new Error('Expected "else" keyword to be a schema');x=this.validateSchema(g,p.else,y,b.makeChild(p.else)),S.importErrors(x)}return S};function s(f,g){if(Object.hasOwnProperty.call(f,g))return f[g];if(g in f){for(;f=Object.getPrototypeOf(f);)if(Object.propertyIsEnumerable.call(f,g))return f[g]}}i.propertyNames=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b),S=p.propertyNames!==void 0?p.propertyNames:{};if(!t.isSchema(S))throw new r('Expected "propertyNames" to be a schema (object or boolean)');for(var x in g)if(s(g,x)!==void 0){var k=this.validateSchema(x,S,y,b.makeChild(S));v.importErrors(k)}return v}},i.properties=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b),S=p.properties||{};for(var x in S){var k=S[x];if(k!==void 0){if(k===null)throw new r('Unexpected null, expected schema in "properties"');typeof y.preValidateProperty=="function"&&y.preValidateProperty(g,x,k,y,b);var C=s(g,x),R=this.validateSchema(C,k,y,b.makeChild(k,x));R.instance!==v.instance[x]&&(v.instance[x]=R.instance),v.importErrors(R)}}return v}};function u(f,g,p,y,b,v){if(this.types.object(f)&&!(g.properties&&g.properties[b]!==void 0))if(g.additionalProperties===!1)v.addError({name:"additionalProperties",argument:b,message:"is not allowed to have the additional property "+JSON.stringify(b)});else{var S=g.additionalProperties||{};typeof p.preValidateProperty=="function"&&p.preValidateProperty(f,b,S,p,y);var x=this.validateSchema(f[b],S,p,y.makeChild(S,b));x.instance!==v.instance[b]&&(v.instance[b]=x.instance),v.importErrors(x)}}i.patternProperties=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b),S=p.patternProperties||{};for(var x in g){var k=!0;for(var C in S){var R=S[C];if(R!==void 0){if(R===null)throw new r('Unexpected null, expected schema in "patternProperties"');try{var _=new RegExp(C,"u")}catch{_=new RegExp(C)}if(_.test(x)){k=!1,typeof y.preValidateProperty=="function"&&y.preValidateProperty(g,x,R,y,b);var T=this.validateSchema(g[x],R,y,b.makeChild(R,x));T.instance!==v.instance[x]&&(v.instance[x]=T.instance),v.importErrors(T)}}}k&&u.call(this,g,p,y,b,x,v)}return v}},i.additionalProperties=function(g,p,y,b){if(this.types.object(g)){if(p.patternProperties)return null;var v=new e(g,p,y,b);for(var S in g)u.call(this,g,p,y,b,S,v);return v}},i.minProperties=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b),S=Object.keys(g);return S.length>=p.minProperties||v.addError({name:"minProperties",argument:p.minProperties,message:"does not meet minimum property length of "+p.minProperties}),v}},i.maxProperties=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b),S=Object.keys(g);return S.length<=p.maxProperties||v.addError({name:"maxProperties",argument:p.maxProperties,message:"does not meet maximum property length of "+p.maxProperties}),v}},i.items=function(g,p,y,b){var v=this;if(this.types.array(g)&&p.items!==void 0){var S=new e(g,p,y,b);return g.every(function(x,k){if(Array.isArray(p.items))var C=p.items[k]===void 0?p.additionalItems:p.items[k];else var C=p.items;if(C===void 0)return!0;if(C===!1)return S.addError({name:"items",message:"additionalItems not permitted"}),!1;var R=v.validateSchema(x,C,y,b.makeChild(C,k));return R.instance!==S.instance[k]&&(S.instance[k]=R.instance),S.importErrors(R),!0}),S}},i.contains=function(g,p,y,b){var v=this;if(this.types.array(g)&&p.contains!==void 0){if(!t.isSchema(p.contains))throw new Error('Expected "contains" keyword to be a schema');var S=new e(g,p,y,b),x=g.some(function(k,C){var R=v.validateSchema(k,p.contains,y,b.makeChild(p.contains,C));return R.errors.length===0});return x===!1&&S.addError({name:"contains",argument:p.contains,message:"must contain an item matching given schema"}),S}},i.minimum=function(g,p,y,b){if(this.types.number(g)){var v=new e(g,p,y,b);return p.exclusiveMinimum&&p.exclusiveMinimum===!0?g>p.minimum||v.addError({name:"minimum",argument:p.minimum,message:"must be greater than "+p.minimum}):g>=p.minimum||v.addError({name:"minimum",argument:p.minimum,message:"must be greater than or equal to "+p.minimum}),v}},i.maximum=function(g,p,y,b){if(this.types.number(g)){var v=new e(g,p,y,b);return p.exclusiveMaximum&&p.exclusiveMaximum===!0?g<p.maximum||v.addError({name:"maximum",argument:p.maximum,message:"must be less than "+p.maximum}):g<=p.maximum||v.addError({name:"maximum",argument:p.maximum,message:"must be less than or equal to "+p.maximum}),v}},i.exclusiveMinimum=function(g,p,y,b){if(typeof p.exclusiveMinimum!="boolean"&&this.types.number(g)){var v=new e(g,p,y,b),S=g>p.exclusiveMinimum;return S||v.addError({name:"exclusiveMinimum",argument:p.exclusiveMinimum,message:"must be strictly greater than "+p.exclusiveMinimum}),v}},i.exclusiveMaximum=function(g,p,y,b){if(typeof p.exclusiveMaximum!="boolean"&&this.types.number(g)){var v=new e(g,p,y,b),S=g<p.exclusiveMaximum;return S||v.addError({name:"exclusiveMaximum",argument:p.exclusiveMaximum,message:"must be strictly less than "+p.exclusiveMaximum}),v}};var c=function(g,p,y,b,v,S){if(this.types.number(g)){var x=p[v];if(x==0)throw new r(v+" cannot be zero");var k=new e(g,p,y,b),C=t.getDecimalPlaces(g),R=t.getDecimalPlaces(x),_=Math.max(C,R),T=Math.pow(10,_);return Math.round(g*T)%Math.round(x*T)!==0&&k.addError({name:v,argument:x,message:S+JSON.stringify(x)}),k}};i.multipleOf=function(g,p,y,b){return c.call(this,g,p,y,b,"multipleOf","is not a multiple of (divisible by) ")},i.divisibleBy=function(g,p,y,b){return c.call(this,g,p,y,b,"divisibleBy","is not divisible by (multiple of) ")},i.required=function(g,p,y,b){var v=new e(g,p,y,b);return g===void 0&&p.required===!0?v.addError({name:"required",message:"is required"}):this.types.object(g)&&Array.isArray(p.required)&&p.required.forEach(function(S){s(g,S)===void 0&&v.addError({name:"required",argument:S,message:"requires property "+JSON.stringify(S)})}),v},i.pattern=function(g,p,y,b){if(this.types.string(g)){var v=new e(g,p,y,b),S=p.pattern;try{var x=new RegExp(S,"u")}catch{x=new RegExp(S)}return g.match(x)||v.addError({name:"pattern",argument:p.pattern,message:"does not match pattern "+JSON.stringify(p.pattern.toString())}),v}},i.format=function(g,p,y,b){if(g!==void 0){var v=new e(g,p,y,b);return!v.disableFormat&&!t.isFormat(g,p.format,this)&&v.addError({name:"format",argument:p.format,message:"does not conform to the "+JSON.stringify(p.format)+" format"}),v}},i.minLength=function(g,p,y,b){if(this.types.string(g)){var v=new e(g,p,y,b),S=g.match(/[\uDC00-\uDFFF]/g),x=g.length-(S?S.length:0);return x>=p.minLength||v.addError({name:"minLength",argument:p.minLength,message:"does not meet minimum length of "+p.minLength}),v}},i.maxLength=function(g,p,y,b){if(this.types.string(g)){var v=new e(g,p,y,b),S=g.match(/[\uDC00-\uDFFF]/g),x=g.length-(S?S.length:0);return x<=p.maxLength||v.addError({name:"maxLength",argument:p.maxLength,message:"does not meet maximum length of "+p.maxLength}),v}},i.minItems=function(g,p,y,b){if(this.types.array(g)){var v=new e(g,p,y,b);return g.length>=p.minItems||v.addError({name:"minItems",argument:p.minItems,message:"does not meet minimum length of "+p.minItems}),v}},i.maxItems=function(g,p,y,b){if(this.types.array(g)){var v=new e(g,p,y,b);return g.length<=p.maxItems||v.addError({name:"maxItems",argument:p.maxItems,message:"does not meet maximum length of "+p.maxItems}),v}};function h(f,g,p){var y,b=p.length;for(y=g+1,b;y<b;y++)if(t.deepCompareStrict(f,p[y]))return!1;return!0}return i.uniqueItems=function(g,p,y,b){if(p.uniqueItems===!0&&this.types.array(g)){var v=new e(g,p,y,b);return g.every(h)||v.addError({name:"uniqueItems",message:"contains duplicate item"}),v}},i.dependencies=function(g,p,y,b){if(this.types.object(g)){var v=new e(g,p,y,b);for(var S in p.dependencies)if(g[S]!==void 0){var x=p.dependencies[S],k=b.makeChild(x,S);if(typeof x=="string"&&(x=[x]),Array.isArray(x))x.forEach(function(R){g[R]===void 0&&v.addError({name:"dependencies",argument:k.propertyPath,message:"property "+R+" not found, required by "+k.propertyPath})});else{var C=this.validateSchema(g,x,y,k);v.instance!==C.instance&&(v.instance=C.instance),C&&C.errors.length&&(v.addError({name:"dependencies",argument:k.propertyPath,message:"does not meet dependency required by "+k.propertyPath}),v.importErrors(C))}}return v}},i.enum=function(g,p,y,b){if(g===void 0)return null;if(!Array.isArray(p.enum))throw new r("enum expects an array",p);var v=new e(g,p,y,b);return p.enum.some(t.deepCompareStrict.bind(null,g))||v.addError({name:"enum",argument:p.enum,message:"is not one of enum values: "+p.enum.map(String).join(",")}),v},i.const=function(g,p,y,b){if(g===void 0)return null;var v=new e(g,p,y,b);return t.deepCompareStrict(p.const,g)||v.addError({name:"const",argument:p.const,message:"does not exactly match expected constant: "+p.const}),v},i.not=i.disallow=function(g,p,y,b){var v=this;if(g===void 0)return null;var S=new e(g,p,y,b),x=p.not||p.disallow;return x?(Array.isArray(x)||(x=[x]),x.forEach(function(k){if(v.testType(g,p,y,b,k)){var C=k&&(k.$id||k.id),R=C||k;S.addError({name:"not",argument:R,message:"is of prohibited type "+R})}}),S):null},om=n,om}var Qd={},Nw;function Gv(){if(Nw)return Qd;Nw=1;var t=a0(),e=Po();Qd.SchemaScanResult=r;function r(n,i){this.id=n,this.ref=i}return Qd.scan=function(i,a){function s(g,p){if(!(!p||typeof p!="object")){if(p.$ref){var y=t.resolve(g,p.$ref);f[y]=f[y]?f[y]+1:0;return}var b=p.$id||p.id,v=b?t.resolve(g,b):g;if(v){if(v.indexOf("#")<0&&(v+="#"),h[v]){if(!e.deepCompareStrict(h[v],p))throw new Error("Schema <"+v+"> already exists with different definition");return h[v]}h[v]=p,v[v.length-1]=="#"&&(h[v.substring(0,v.length-1)]=p)}u(v+"/items",Array.isArray(p.items)?p.items:[p.items]),u(v+"/extends",Array.isArray(p.extends)?p.extends:[p.extends]),s(v+"/additionalItems",p.additionalItems),c(v+"/properties",p.properties),s(v+"/additionalProperties",p.additionalProperties),c(v+"/definitions",p.definitions),c(v+"/patternProperties",p.patternProperties),c(v+"/dependencies",p.dependencies),u(v+"/disallow",p.disallow),u(v+"/allOf",p.allOf),u(v+"/anyOf",p.anyOf),u(v+"/oneOf",p.oneOf),s(v+"/not",p.not)}}function u(g,p){if(Array.isArray(p))for(var y=0;y<p.length;y++)s(g+"/"+y,p[y])}function c(g,p){if(!(!p||typeof p!="object"))for(var y in p)s(g+"/"+y,p[y])}var h={},f={};return s(i,a),new r(h,f)},Qd}var sm,Fw;function UI(){if(Fw)return sm;Fw=1;var t=a0(),e=HI(),r=Po(),n=Gv().scan,i=r.ValidatorResult,a=r.ValidatorResultError,s=r.SchemaError,u=r.SchemaContext,c="/",h=function p(){this.customFormats=Object.create(p.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(g),this.attributes=Object.create(e.validators)};h.prototype.customFormats={},h.prototype.schemas=null,h.prototype.types=null,h.prototype.attributes=null,h.prototype.unresolvedRefs=null,h.prototype.addSchema=function(y,b){var v=this;if(!y)return null;var S=n(b||c,y),x=b||y.$id||y.id;for(var k in S.id)this.schemas[k]=S.id[k];for(var k in S.ref)this.unresolvedRefs.push(k);return this.unresolvedRefs=this.unresolvedRefs.filter(function(C){return typeof v.schemas[C]>"u"}),this.schemas[x]},h.prototype.addSubSchemaArray=function(y,b){if(Array.isArray(b))for(var v=0;v<b.length;v++)this.addSubSchema(y,b[v])},h.prototype.addSubSchemaObject=function(y,b){if(!(!b||typeof b!="object"))for(var v in b)this.addSubSchema(y,b[v])},h.prototype.setSchemas=function(y){this.schemas=y},h.prototype.getSchema=function(y){return this.schemas[y]},h.prototype.validate=function(y,b,v,S){if(typeof b!="boolean"&&typeof b!="object"||b===null)throw new s("Expected `schema` to be an object or boolean");v||(v={});var x=b.$id||b.id,k=t.resolve(v.base||c,x||"");if(!S){S=new u(b,v,[],k,Object.create(this.schemas)),S.schemas[k]||(S.schemas[k]=b);var C=n(k,b);for(var R in C.id){var _=C.id[R];S.schemas[R]=_}}if(v.required&&y===void 0){var T=new i(y,b,v,S);return T.addError("is required, but is undefined"),T}var T=this.validateSchema(y,b,v,S);if(T){if(v.throwAll&&T.errors.length)throw new a(T)}else throw new Error("Result undefined");return T};function f(p){var y=typeof p=="string"?p:p.$ref;return typeof y=="string"?y:!1}h.prototype.validateSchema=function(y,b,v,S){var x=new i(y,b,v,S);if(typeof b=="boolean")b===!0?b={}:b===!1&&(b={type:[]});else if(!b)throw new Error("schema is undefined");if(b.extends)if(Array.isArray(b.extends)){var k={schema:b,ctx:S};b.extends.forEach(this.schemaTraverser.bind(this,k)),b=k.schema,k.schema=null,k.ctx=null,k=null}else b=r.deepMerge(b,this.superResolve(b.extends,S));var C=f(b);if(C){var R=this.resolve(b,C,S),_=new u(R.subschema,v,S.path,R.switchSchema,S.schemas);return this.validateSchema(y,R.subschema,v,_)}var T=v&&v.skipAttributes||[];for(var O in b)if(!e.ignoreProperties[O]&&T.indexOf(O)<0){var D=null,j=this.attributes[O];if(j)D=j.call(this,y,b,v,S);else if(v.allowUnknownAttributes===!1)throw new s("Unsupported attribute: "+O,b);D&&x.importErrors(D)}if(typeof v.rewrite=="function"){var F=v.rewrite.call(this,y,b,v,S);x.instance=F}return x},h.prototype.schemaTraverser=function(y,b){y.schema=r.deepMerge(y.schema,this.superResolve(b,y.ctx))},h.prototype.superResolve=function(y,b){var v=f(y);return v?this.resolve(y,v,b).subschema:y},h.prototype.resolve=function(y,b,v){if(b=v.resolve(b),v.schemas[b])return{subschema:v.schemas[b],switchSchema:b};var S=t.parse(b),x=S&&S.hash,k=x&&x.length&&b.substr(0,b.length-x.length);if(!k||!v.schemas[k])throw new s("no such schema <"+b+">",y);var C=r.objectGetPath(v.schemas[k],x.substr(1));if(C===void 0)throw new s("no such schema "+x+" located in <"+k+">",y);return{subschema:C,switchSchema:b}},h.prototype.testType=function(y,b,v,S,x){if(x!==void 0){if(x===null)throw new s('Unexpected null in "type" keyword');if(typeof this.types[x]=="function")return this.types[x].call(this,y);if(x&&typeof x=="object"){var k=this.validateSchema(y,x,v,S);return k===void 0||!(k&&k.errors.length)}return!0}};var g=h.prototype.types={};return g.string=function(y){return typeof y=="string"},g.number=function(y){return typeof y=="number"&&isFinite(y)},g.integer=function(y){return typeof y=="number"&&y%1===0},g.boolean=function(y){return typeof y=="boolean"},g.array=function(y){return Array.isArray(y)},g.null=function(y){return y===null},g.date=function(y){return y instanceof Date},g.any=function(y){return!0},g.object=function(y){return y&&typeof y=="object"&&!Array.isArray(y)&&!(y instanceof Date)},sm=h,sm}var Mw;function KI(){if(Mw)return Hi;Mw=1;var t=Hi.Validator=UI();return Hi.ValidatorResult=Po().ValidatorResult,Hi.ValidatorResultError=Po().ValidatorResultError,Hi.ValidationError=Po().ValidationError,Hi.SchemaError=Po().SchemaError,Hi.SchemaScanResult=Gv().SchemaScanResult,Hi.scan=Gv().scan,Hi.validate=function(e,r,n){var i=new t;return i.validate(e,r,n)},Hi}var GI=KI();const I2={id:"/KeyBind",type:"object",properties:{keys:{type:"string"}},required:["keys"]},N2={id:"/AnkiField",type:"object",properties:{order:{type:"number"},display:{type:"boolean"}},required:["order","display"]},F2={id:"/TextSubtitleSettings",type:"object",properties:{subtitleColor:{type:"string"},subtitleSize:{type:"number"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleBackgroundColor:{type:"string"},subtitleFontFamily:{type:"string"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitleBlur:{type:"boolean"}},required:["subtitleColor","subtitleSize","subtitleThickness","subtitleOutlineThickness","subtitleShadowColor","subtitleBackgroundOpacity","subtitleBackgroundColor","subtitleFontFamily","subtitleCustomStyles","subtitleBlur"]},M2={id:"/Settings",type:"object",properties:{ankiConnectUrl:{type:"string"},deck:{type:"string"},noteType:{type:"string"},sentenceField:{type:"string"},definitionField:{type:"string"},audioField:{type:"string"},imageField:{type:"string"},wordField:{type:"string"},sourceField:{type:"string"},urlField:{type:"string"},track1Field:{type:"string"},track2Field:{type:"string"},track3Field:{type:"string"},ankiFieldSettings:{type:"object",properties:{sentence:{$ref:"/AnkiField"},definition:{$ref:"/AnkiField"},audio:{$ref:"/AnkiField"},image:{$ref:"/AnkiField"},word:{$ref:"/AnkiField"},source:{$ref:"/AnkiField"},url:{$ref:"/AnkiField"},track1:{$ref:"/AnkiField"},track2:{$ref:"/AnkiField"},track3:{$ref:"/AnkiField"}}},customAnkiFieldSettings:{type:"object",additionalProperties:{type:"/AnkiField"}},subtitleSize:{type:"number"},subtitleColor:{type:"string"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleOutlineColor:{type:"string"},subtitleBackgroundColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleFontFamily:{type:"string"},subtitleBlur:{type:"boolean"},subtitlePreview:{type:"string"},subtitlePositionOffset:{type:"number"},topSubtitlePositionOffset:{type:"number"},subtitleAlignment:{type:"string"},subtitleTracksV2:{type:"array",items:{$ref:"/TextSubtitleSettings"}},audioPaddingStart:{type:"number"},audioPaddingEnd:{type:"number"},maxImageWidth:{type:"number"},maxImageHeight:{type:"number"},surroundingSubtitlesCountRadius:{type:"number"},surroundingSubtitlesTimeRadius:{type:"number"},autoPausePreference:{type:"number"},speedChangeStep:{type:"number"},fastForwardModePlaybackRate:{type:"number"},keyBindSet:{type:"object",properties:{togglePlay:{$ref:"/KeyBind"},toggleAutoPause:{$ref:"/KeyBind"},toggleCondensedPlayback:{$ref:"/KeyBind"},toggleFastForwardPlayback:{$ref:"/KeyBind"},toggleSubtitles:{$ref:"/KeyBind"},toggleVideoSubtitleTrack1:{$ref:"/KeyBind"},toggleVideoSubtitleTrack2:{$ref:"/KeyBind"},toggleVideoSubtitleTrack3:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack1:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack2:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack3:{$ref:"/KeyBind"},unblurAsbplayerTrack1:{$ref:"/KeyBind"},unblurAsbplayerTrack2:{$ref:"/KeyBind"},unblurAsbplayerTrack3:{$ref:"/KeyBind"},seekBackward:{$ref:"/KeyBind"},seekForward:{$ref:"/KeyBind"},seekToPreviousSubtitle:{$ref:"/KeyBind"},seekToNextSubtitle:{$ref:"/KeyBind"},seekToBeginningOfCurrentSubtitle:{$ref:"/KeyBind"},adjustOffsetToPreviousSubtitle:{$ref:"/KeyBind"},adjustOffsetToNextSubtitle:{$ref:"/KeyBind"},decreaseOffset:{$ref:"/KeyBind"},increaseOffset:{$ref:"/KeyBind"},resetOffset:{$ref:"/KeyBind"},copySubtitle:{$ref:"/KeyBind"},ankiExport:{$ref:"/KeyBind"},updateLastCard:{$ref:"/KeyBind"},takeScreenshot:{$ref:"/KeyBind"},toggleRecording:{$ref:"/KeyBind"},decreasePlaybackRate:{$ref:"/KeyBind"},increasePlaybackRate:{$ref:"/KeyBind"},toggleSidePanel:{$ref:"/KeyBind"},toggleRepeat:{$ref:"/KeyBind"}}},recordWithAudioPlayback:{type:"boolean"},preferMp3:{type:"boolean"},tabName:{type:"string"},miningHistoryStorageLimit:{type:"number"},preCacheSubtitleDom:{type:"boolean"},clickToMineDefaultAction:{type:"number"},postMiningPlaybackState:{type:"number"},themeType:{type:"string"},copyToClipboardOnMine:{type:"boolean"},rememberSubtitleOffset:{type:"boolean"},lastSubtitleOffset:{type:"number"},autoCopyCurrentSubtitle:{type:"boolean"},alwaysPlayOnSubtitleRepeat:{type:"boolean"},subtitleRegexFilter:{type:"string"},subtitleRegexFilterTextReplacement:{type:"string"},language:{type:"string"},customAnkiFields:{type:"object",additionalProperties:{type:"string"}},tags:{type:"array",items:{type:"string"}},imageBasedSubtitleScaleFactor:{type:"number"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitlesWidth:{type:"number"},streamingAppUrl:{type:"string"},streamingDisplaySubtitles:{type:"boolean"},streamingRecordMedia:{type:"boolean"},streamingTakeScreenshot:{type:"boolean"},streamingCleanScreenshot:{type:"boolean"},streamingCropScreenshot:{type:"boolean"},streamingSubsDragAndDrop:{type:"boolean"},streamingAutoSync:{type:"boolean"},streamingLastLanguagesSynced:{type:"object",additionalProperties:{type:"array",items:{type:"string"}}},streamingCondensedPlaybackMinimumSkipIntervalMs:{type:"number"},streamingScreenshotDelay:{type:"number"},streamingSubtitleListPreference:{type:"string"},streamingEnableOverlay:{type:"boolean"},webSocketClientEnabled:{type:"boolean"},webSocketServerUrl:{type:"string"},pauseOnHoverMode:{type:"number"},lastSelectedAnkiExportMode:{type:"string"},_schema:{type:"number"}}},XI=t=>{const e=new GI.Validator;e.addSchema(I2),e.addSchema(N2),e.addSchema(F2);const r=e.validate(t,M2);if(j2(t,[]),!r.valid)throw new Error("Settings validation failed: "+JSON.stringify(r.errors))},j2=(t,e)=>{for(const r of Object.keys(t)){const n=YI(M2,e);if(n===void 0||n!==""&&!(r in n))throw new Error(`Unknown key '${[...e,r].join(".")}'`);const i=t[r];typeof i=="object"&&!Array.isArray(i)&&j2(i,[...e,r])}},YI=(t,e)=>{var n,i,a;let r=t.properties;for(const s of e){if(typeof r[s]=="object"&&"additionalProperties"in r[s])return"";if(r=((n=r[s])==null?void 0:n.properties)??((a=ZI((i=r[s])==null?void 0:i.$ref))==null?void 0:a.properties),r===void 0)return}return r},ZI=t=>{if(t==="/KeyBind")return I2;if(t==="/AnkiField")return N2;if(t==="/TextSubtitleSettings")return F2},JI=["en","es","de","ja","pl","pt_BR","zh_CN","ru"];var m=Ht();const nr=zt(m),lm=new S2;let Xv;const $2=t=>{const e=r=>{if(r.source===window&&r.data.sender==="asbplayer-extension-to-player"&&r.data.message.command==="version"){const n=r.data.message,i=n.extensionCommands??{};t(new S2(n.version,vI(i)))}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},QI=$2(t=>Xv=t),eN=({component:t})=>{const[e,r]=m.useState(lm);return e.sidePanel=t==="sidePanel",e.videoPlayer=t==="videoPlayer",m.useEffect(()=>{if(QI(),Xv)lm.unbind(),r(Xv);else{const n=$2(i=>{lm.unbind(),r(i),n()})}},[]),e},tN=(t,e)=>{const[r,n]=m.useState([]),i=m.useCallback(h=>{n(f=>{const g=[...f];for(const p of h)f.find(y=>y.id===p.id)===void 0&&g.push(p);return g})},[]),a=m.useCallback(async()=>{i(await e.fetch(t))},[t,i,e]);m.useEffect(()=>e.liveFetch(t,i),[e,t,i]);const s=m.useCallback(async h=>{const f=[];for(const g of r)h.id!==g.id&&f.push(g);n(f),await e.delete(h.id)},[r,e]),u=m.useCallback(async h=>{n(f=>[...f,h]),await e.save(h)},[e]),c=m.useCallback(async()=>{n([]),await e.clear()},[e]);return{copyHistoryItems:r,refreshCopyHistory:a,deleteCopyHistoryItem:s,deleteAllCopyHistoryItems:c,saveCopyHistoryItem:u}};class ec extends Error{constructor(e,r={}){super(e),this.key=e,this.params=r}get locKey(){return this.key}get locParams(){return this.params}}function vp(t,e){return function(){return null}}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},re.apply(this,arguments)}function cn(t){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(t)}function um(t){return t&&cn(t)==="object"&&t.constructor===Object}function Ca(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},n=r.clone?re({},t):t;return um(t)&&um(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(um(e[i])&&i in t?n[i]=Ca(t[i],e[i],r):n[i]=e[i])}),n}var cm={exports:{}},dm,jw;function rN(){if(jw)return dm;jw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dm=t,dm}var fm,$w;function nN(){if($w)return fm;$w=1;var t=rN();function e(){}function r(){}return r.resetWarningCache=e,fm=function(){function n(s,u,c,h,f,g){if(g!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},fm}var Lw;function iN(){return Lw||(Lw=1,cm.exports=nN()()),cm.exports}var aN=iN();const sc=zt(aN);var L2=vp(sc.element);L2.isRequired=vp(sc.element.isRequired);const oN=vp();function sN(t,e){if(cn(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2(t){var e=sN(t,"string");return cn(e)==="symbol"?e:String(e)}function fr(t,e,r){return e=D2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lN(t){return t}function Fo(t){for(var e="https://material-ui.com/production-error/?code="+t,r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}var pm={exports:{}},Wr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function uN(){if(Dw)return Wr;Dw=1;var t=60103,e=60106,r=60107,n=60108,i=60114,a=60109,s=60110,u=60112,c=60113,h=60120,f=60115,g=60116,p=60121,y=60122,b=60117,v=60129,S=60131;if(typeof Symbol=="function"&&Symbol.for){var x=Symbol.for;t=x("react.element"),e=x("react.portal"),r=x("react.fragment"),n=x("react.strict_mode"),i=x("react.profiler"),a=x("react.provider"),s=x("react.context"),u=x("react.forward_ref"),c=x("react.suspense"),h=x("react.suspense_list"),f=x("react.memo"),g=x("react.lazy"),p=x("react.block"),y=x("react.server.block"),b=x("react.fundamental"),v=x("react.debug_trace_mode"),S=x("react.legacy_hidden")}function k(I){if(typeof I=="object"&&I!==null){var $=I.$$typeof;switch($){case t:switch(I=I.type,I){case r:case i:case n:case c:case h:return I;default:switch(I=I&&I.$$typeof,I){case s:case u:case g:case f:case a:return I;default:return $}}case e:return $}}}var C=a,R=t,_=u,T=r,O=g,D=f,j=e,F=i,M=n,z=c;return Wr.ContextConsumer=s,Wr.ContextProvider=C,Wr.Element=R,Wr.ForwardRef=_,Wr.Fragment=T,Wr.Lazy=O,Wr.Memo=D,Wr.Portal=j,Wr.Profiler=F,Wr.StrictMode=M,Wr.Suspense=z,Wr.isAsyncMode=function(){return!1},Wr.isConcurrentMode=function(){return!1},Wr.isContextConsumer=function(I){return k(I)===s},Wr.isContextProvider=function(I){return k(I)===a},Wr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},Wr.isForwardRef=function(I){return k(I)===u},Wr.isFragment=function(I){return k(I)===r},Wr.isLazy=function(I){return k(I)===g},Wr.isMemo=function(I){return k(I)===f},Wr.isPortal=function(I){return k(I)===e},Wr.isProfiler=function(I){return k(I)===i},Wr.isStrictMode=function(I){return k(I)===n},Wr.isSuspense=function(I){return k(I)===c},Wr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===i||I===v||I===n||I===c||I===h||I===S||typeof I=="object"&&I!==null&&(I.$$typeof===g||I.$$typeof===f||I.$$typeof===a||I.$$typeof===s||I.$$typeof===u||I.$$typeof===b||I.$$typeof===p||I[0]===y)},Wr.typeOf=k,Wr}var Bw;function cN(){return Bw||(Bw=1,pm.exports=uN()),pm.exports}var zw=cN(),dN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function fN(t){var e="".concat(t).match(dN),r=e&&e[1];return r||""}function B2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.displayName||t.name||fN(t)||e}function Vw(t,e,r){var n=B2(e);return t.displayName||(n!==""?"".concat(r,"(").concat(n,")"):r)}function pN(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return B2(t,"Component");if(cn(t)==="object")switch(t.$$typeof){case zw.ForwardRef:return Vw(t,t.render,"ForwardRef");case zw.Memo:return Vw(t,t.type,"memo");default:return}}}function hN(t,e,r,n,i){return null}const gN=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();var mN=sc.oneOfType([sc.func,sc.object]);/** @license Material-UI v4.11.2
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const vN=Object.freeze(Object.defineProperty({__proto__:null,HTMLElementType:hN,chainPropTypes:vp,deepmerge:Ca,elementAcceptingRef:L2,elementTypeAcceptingRef:oN,exactProp:lN,formatMuiErrorMessage:Fo,getDisplayName:pN,ponyfillGlobal:gN,refType:mN},Symbol.toStringTag,{value:"Module"}));function o0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),r)}function yN(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),r=t.match(e);return r&&r[0].length===1&&(r=r.map(function(n){return n+n})),r?"rgb".concat(r.length===4?"a":"","(").concat(r.map(function(n,i){return i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3}).join(", "),")"):""}function bN(t){t=Mo(t);var e=t,r=e.values,n=r[0],i=r[1]/100,a=r[2]/100,s=i*Math.min(a,1-a),u=function(g){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(g+n/30)%12;return a-s*Math.max(Math.min(p-3,9-p,1),-1)},c="rgb",h=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(c+="a",h.push(r[3])),yp({type:c,values:h})}function Mo(t){if(t.type)return t;if(t.charAt(0)==="#")return Mo(yN(t));var e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(r)===-1)throw new Error(Fo(3,t));var n=t.substring(e+1,t.length-1).split(",");return n=n.map(function(i){return parseFloat(i)}),{type:r,values:n}}function yp(t){var e=t.type,r=t.values;return e.indexOf("rgb")!==-1?r=r.map(function(n,i){return i<3?parseInt(n,10):n}):e.indexOf("hsl")!==-1&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(e,"(").concat(r.join(", "),")")}function xN(t,e){var r=Yv(t),n=Yv(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Yv(t){t=Mo(t);var e=t.type==="hsl"?Mo(bN(t)).values:t.values;return e=e.map(function(r){return r/=255,r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return Yv(t)>.5?Bs(t,e):zs(t,e)}function Tr(t,e){return t=Mo(t),e=o0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.values[3]=e,yp(t)}function Bs(t,e){if(t=Mo(t),e=o0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var r=0;r<3;r+=1)t.values[r]*=1-e;return yp(t)}function zs(t,e){if(t=Mo(t),e=o0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;return yp(t)}function bp(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Qe(t,e){if(t==null)return{};var r=bp(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Va=["xs","sm","md","lg","xl"];function wN(t){var e=t.values,r=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,n=t.unit,i=n===void 0?"px":n,a=t.step,s=a===void 0?5:a,u=Qe(t,["values","unit","step"]);function c(y){var b=typeof r[y]=="number"?r[y]:y;return"@media (min-width:".concat(b).concat(i,")")}function h(y){var b=Va.indexOf(y)+1,v=r[Va[b]];if(b===Va.length)return c("xs");var S=typeof v=="number"&&b>0?v:y;return"@media (max-width:".concat(S-s/100).concat(i,")")}function f(y,b){var v=Va.indexOf(b);return v===Va.length-1?c(y):"@media (min-width:".concat(typeof r[y]=="number"?r[y]:y).concat(i,") and ")+"(max-width:".concat((v!==-1&&typeof r[Va[v+1]]=="number"?r[Va[v+1]]:b)-s/100).concat(i,")")}function g(y){return f(y,y)}function p(y){return r[y]}return re({keys:Va,values:r,up:c,down:h,between:f,only:g,width:p},u)}function SN(t,e,r){var n;return re({gutters:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),re({paddingLeft:e(2),paddingRight:e(2)},a,fr({},t.up("sm"),re({paddingLeft:e(3),paddingRight:e(3)},a[t.up("sm")])))},toolbar:(n={minHeight:56},fr(n,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),fr(n,t.up("sm"),{minHeight:64}),n)},r)}var Uf={black:"#000",white:"#fff"},s0={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},hm={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},gm={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Of={300:"#e57373",500:"#f44336",700:"#d32f2f",A400:"#ff1744"},mm={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},vm={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},ym={300:"#81c784",500:"#4caf50",700:"#388e3c"},Ww={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Uf.white,default:s0[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bm={text:{primary:Uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:s0[800],default:"#303030"},action:{active:Uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qw(t,e,r,n){var i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=zs(t.main,i):e==="dark"&&(t.dark=Bs(t.main,a)))}function kN(t){var e=t.primary,r=e===void 0?{light:hm[300],main:hm[500],dark:hm[700]}:e,n=t.secondary,i=n===void 0?{light:gm.A200,main:gm.A400,dark:gm.A700}:n,a=t.error,s=a===void 0?{light:Of[300],main:Of[500],dark:Of[700]}:a,u=t.warning,c=u===void 0?{light:mm[300],main:mm[500],dark:mm[700]}:u,h=t.info,f=h===void 0?{light:vm[300],main:vm[500],dark:vm[700]}:h,g=t.success,p=g===void 0?{light:ym[300],main:ym[500],dark:ym[700]}:g,y=t.type,b=y===void 0?"light":y,v=t.contrastThreshold,S=v===void 0?3:v,x=t.tonalOffset,k=x===void 0?.2:x,C=Qe(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function R(D){var j=xN(D,bm.text.primary)>=S?bm.text.primary:Ww.text.primary;return j}var _=function(j){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(j=re({},j),!j.main&&j[F]&&(j.main=j[F]),!j.main)throw new Error(Fo(4,F));if(typeof j.main!="string")throw new Error(Fo(5,JSON.stringify(j.main)));return qw(j,"light",M,k),qw(j,"dark",z,k),j.contrastText||(j.contrastText=R(j.main)),j},T={dark:bm,light:Ww},O=Ca(re({common:Uf,type:b,primary:_(r),secondary:_(i,"A400","A200","A700"),error:_(s),warning:_(c),info:_(f),success:_(p),grey:s0,contrastThreshold:S,getContrastText:R,augmentColor:_,tonalOffset:k},T[b]),C);return O}function z2(t){return Math.round(t*1e5)/1e5}function CN(t){return z2(t)}var Hw={textTransform:"uppercase"},Uw='"Roboto", "Helvetica", "Arial", sans-serif';function EN(t,e){var r=typeof e=="function"?e(t):e,n=r.fontFamily,i=n===void 0?Uw:n,a=r.fontSize,s=a===void 0?14:a,u=r.fontWeightLight,c=u===void 0?300:u,h=r.fontWeightRegular,f=h===void 0?400:h,g=r.fontWeightMedium,p=g===void 0?500:g,y=r.fontWeightBold,b=y===void 0?700:y,v=r.htmlFontSize,S=v===void 0?16:v,x=r.allVariants,k=r.pxToRem,C=Qe(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),R=s/14,_=k||function(D){return"".concat(D/S*R,"rem")},T=function(j,F,M,z,I){return re({fontFamily:i,fontWeight:j,fontSize:_(F),lineHeight:M},i===Uw?{letterSpacing:"".concat(z2(z/F),"em")}:{},I,x)},O={h1:T(c,96,1.167,-1.5),h2:T(c,60,1.2,-.5),h3:T(f,48,1.167,0),h4:T(f,34,1.235,.25),h5:T(f,24,1.334,0),h6:T(p,20,1.6,.15),subtitle1:T(f,16,1.75,.15),subtitle2:T(p,14,1.57,.1),body1:T(f,16,1.5,.15),body2:T(f,14,1.43,.15),button:T(p,14,1.75,.4,Hw),caption:T(f,12,1.66,.4),overline:T(f,12,2.66,1,Hw)};return Ca(re({htmlFontSize:S,pxToRem:_,round:CN,fontFamily:i,fontSize:s,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:b},O),C,{clone:!1})}var _N=.2,PN=.14,TN=.12;function tn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(_N,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(PN,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(TN,")")].join(",")}var RN=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],ON={borderRadius:4};function Zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AN(t){if(Array.isArray(t))return Zv(t)}function V2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l0(t,e){if(t){if(typeof t=="string")return Zv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zv(t,e)}}function IN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ys(t){return AN(t)||V2(t)||l0(t)||IN()}function Sc(t,e){return e?Ca(t,e,{clone:!1}):t}var NN={xs:0,sm:600,md:960,lg:1280,xl:1920},Jv={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(NN[e],"px)")}};function W2(t,e,r){if(Array.isArray(e)){var n=t.theme.breakpoints||Jv;return e.reduce(function(s,u,c){return s[n.up(n.keys[c])]=r(e[c]),s},{})}if(cn(e)==="object"){var i=t.theme.breakpoints||Jv;return Object.keys(e).reduce(function(s,u){return s[i.up(u)]=r(e[u]),s},{})}var a=r(e);return a}function FN(t){var e=function(n){var i=t(n),a=n.theme.breakpoints||Jv,s=a.keys.reduce(function(u,c){return n[c]&&(u=u||{},u[a.up(c)]=t(re({theme:n.theme},n[c]))),u},null);return Sc(i,s)};return e.propTypes={},e.filterProps=["xs","sm","md","lg","xl"].concat(Ys(t.filterProps)),e}function Kw(t,e){return!e||typeof e!="string"?null:e.split(".").reduce(function(r,n){return r&&r[n]?r[n]:null},t)}function Ft(t){var e=t.prop,r=t.cssProperty,n=r===void 0?t.prop:r,i=t.themeKey,a=t.transform,s=function(c){if(c[e]==null)return null;var h=c[e],f=c.theme,g=Kw(f,i)||{},p=function(b){var v;return typeof g=="function"?v=g(b):Array.isArray(g)?v=g[b]||b:(v=Kw(g,b)||b,a&&(v=a(v))),n===!1?v:fr({},n,v)};return W2(c,h,p)};return s.propTypes={},s.filterProps=[e],s}function ta(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(a){return e.reduce(function(s,u){var c=u(a);return c?Sc(s,c):s},{})};return n.propTypes={},n.filterProps=e.reduce(function(i,a){return i.concat(a.filterProps)},[]),n}function jc(t){return typeof t!="number"?t:"".concat(t,"px solid")}var q2=Ft({prop:"border",themeKey:"borders",transform:jc}),H2=Ft({prop:"borderTop",themeKey:"borders",transform:jc}),U2=Ft({prop:"borderRight",themeKey:"borders",transform:jc}),K2=Ft({prop:"borderBottom",themeKey:"borders",transform:jc}),G2=Ft({prop:"borderLeft",themeKey:"borders",transform:jc}),X2=Ft({prop:"borderColor",themeKey:"palette"}),Y2=Ft({prop:"borderRadius",themeKey:"shape"}),Z2=ta(q2,H2,U2,K2,G2,X2,Y2);function Gw(t,e){var r={};return Object.keys(t).forEach(function(n){e.indexOf(n)===-1&&(r[n]=t[n])}),r}function u0(t){var e=function(n){var i=t(n);return n.css?re({},Sc(i,t(re({theme:n.theme},n.css))),Gw(n.css,[t.filterProps])):n.sx?re({},Sc(i,t(re({theme:n.theme},n.sx))),Gw(n.sx,[t.filterProps])):i};return e.propTypes={},e.filterProps=["css","sx"].concat(Ys(t.filterProps)),e}function MN(t){return u0(t)}var jN=Ft({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),$N=Ft({prop:"display"}),LN=Ft({prop:"overflow"}),DN=Ft({prop:"textOverflow"}),BN=Ft({prop:"visibility"}),zN=Ft({prop:"whiteSpace"});const J2=ta(jN,$N,LN,DN,BN,zN);var Q2=Ft({prop:"flexBasis"}),e_=Ft({prop:"flexDirection"}),t_=Ft({prop:"flexWrap"}),r_=Ft({prop:"justifyContent"}),n_=Ft({prop:"alignItems"}),i_=Ft({prop:"alignContent"}),a_=Ft({prop:"order"}),o_=Ft({prop:"flex"}),s_=Ft({prop:"flexGrow"}),l_=Ft({prop:"flexShrink"}),u_=Ft({prop:"alignSelf"}),c_=Ft({prop:"justifyItems"}),d_=Ft({prop:"justifySelf"}),f_=ta(Q2,e_,t_,r_,n_,i_,a_,o_,s_,l_,u_,c_,d_),p_=Ft({prop:"gridGap"}),h_=Ft({prop:"gridColumnGap"}),g_=Ft({prop:"gridRowGap"}),m_=Ft({prop:"gridColumn"}),v_=Ft({prop:"gridRow"}),y_=Ft({prop:"gridAutoFlow"}),b_=Ft({prop:"gridAutoColumns"}),x_=Ft({prop:"gridAutoRows"}),w_=Ft({prop:"gridTemplateColumns"}),S_=Ft({prop:"gridTemplateRows"}),k_=Ft({prop:"gridTemplateAreas"}),C_=Ft({prop:"gridArea"}),E_=ta(p_,h_,g_,m_,v_,y_,b_,x_,w_,S_,k_,C_),__=Ft({prop:"color",themeKey:"palette"}),P_=Ft({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),T_=ta(__,P_),R_=Ft({prop:"position"}),O_=Ft({prop:"zIndex",themeKey:"zIndex"}),A_=Ft({prop:"top"}),I_=Ft({prop:"right"}),N_=Ft({prop:"bottom"}),F_=Ft({prop:"left"});const M_=ta(R_,O_,A_,I_,N_,F_);var j_=Ft({prop:"boxShadow",themeKey:"shadows"});function io(t){return t<=1?"".concat(t*100,"%"):t}var $_=Ft({prop:"width",transform:io}),L_=Ft({prop:"maxWidth",transform:io}),D_=Ft({prop:"minWidth",transform:io}),B_=Ft({prop:"height",transform:io}),z_=Ft({prop:"maxHeight",transform:io}),V_=Ft({prop:"minHeight",transform:io}),VN=Ft({prop:"size",cssProperty:"width",transform:io}),WN=Ft({prop:"size",cssProperty:"height",transform:io}),W_=Ft({prop:"boxSizing"}),q_=ta($_,L_,D_,B_,z_,V_,W_);function H_(t){if(Array.isArray(t))return t}function qN(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(f){h=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return u}}function U_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ni(t,e){return H_(t)||qN(t,e)||l0(t,e)||U_()}function HN(t){var e={};return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var UN={m:"margin",p:"padding"},KN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Xw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GN=HN(function(t){if(t.length>2)if(Xw[t])t=Xw[t];else return[t];var e=t.split(""),r=Ni(e,2),n=r[0],i=r[1],a=UN[n],s=KN[i]||"";return Array.isArray(s)?s.map(function(u){return a+u}):[a+s]}),K_=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function c0(t){var e=t.spacing||8;return typeof e=="number"?function(r){return e*r}:Array.isArray(e)?function(r){return e[r]}:typeof e=="function"?e:function(){}}function XN(t,e){if(typeof e=="string"||e==null)return e;var r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:"-".concat(n)}function YN(t,e){return function(r){return t.reduce(function(n,i){return n[i]=XN(e,r),n},{})}}function xp(t){var e=t.theme,r=c0(e);return Object.keys(t).map(function(n){if(K_.indexOf(n)===-1)return null;var i=GN(n),a=YN(i,r),s=t[n];return W2(t,s,a)}).reduce(Sc,{})}xp.propTypes={};xp.filterProps=K_;var G_=Ft({prop:"fontFamily",themeKey:"typography"}),X_=Ft({prop:"fontSize",themeKey:"typography"}),Y_=Ft({prop:"fontStyle",themeKey:"typography"}),Z_=Ft({prop:"fontWeight",themeKey:"typography"}),J_=Ft({prop:"letterSpacing"}),Q_=Ft({prop:"lineHeight"}),eP=Ft({prop:"textAlign"}),tP=ta(G_,X_,Y_,Z_,J_,Q_,eP);/** @license Material-UI v4.12.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const ZN=Object.freeze(Object.defineProperty({__proto__:null,alignContent:i_,alignItems:n_,alignSelf:u_,bgcolor:P_,border:q2,borderBottom:K2,borderColor:X2,borderLeft:G2,borderRadius:Y2,borderRight:U2,borderTop:H2,borders:Z2,bottom:N_,boxSizing:W_,breakpoints:FN,color:__,compose:ta,createUnarySpacing:c0,css:MN,display:J2,flex:o_,flexBasis:Q2,flexDirection:e_,flexGrow:s_,flexShrink:l_,flexWrap:t_,flexbox:f_,fontFamily:G_,fontSize:X_,fontStyle:Y_,fontWeight:Z_,grid:E_,gridArea:C_,gridAutoColumns:b_,gridAutoFlow:y_,gridAutoRows:x_,gridColumn:m_,gridColumnGap:h_,gridGap:p_,gridRow:v_,gridRowGap:g_,gridTemplateAreas:k_,gridTemplateColumns:w_,gridTemplateRows:S_,height:B_,justifyContent:r_,justifyItems:c_,justifySelf:d_,left:F_,letterSpacing:J_,lineHeight:Q_,maxHeight:z_,maxWidth:L_,minHeight:V_,minWidth:D_,order:a_,palette:T_,position:R_,positions:M_,right:I_,shadows:j_,sizeHeight:WN,sizeWidth:VN,sizing:q_,spacing:xp,style:Ft,styleFunctionSx:u0,textAlign:eP,top:A_,typography:tP,width:$_,zIndex:O_},Symbol.toStringTag,{value:"Module"}));function JN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=c0({spacing:t}),r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.length===0?e(1):a.length===1?e(a[0]):a.map(function(u){if(typeof u=="string")return u;var c=e(u);return typeof c=="number"?"".concat(c,"px"):c}).join(" ")};return Object.defineProperty(r,"unit",{get:function(){return t}}),r.mui=!0,r}var Yw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Zi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zw(t){return"".concat(Math.round(t),"ms")}const QN={easing:Yw,duration:Zi,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.duration,i=n===void 0?Zi.standard:n,a=r.easing,s=a===void 0?Yw.easeInOut:a,u=r.delay,c=u===void 0?0:u;return Qe(r,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(h){return"".concat(h," ").concat(typeof i=="string"?i:Zw(i)," ").concat(s," ").concat(typeof c=="string"?c:Zw(c))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var r=e/36;return Math.round((4+15*Math.pow(r,.25)+r/5)*10)}};var rP={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function nP(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,r=e===void 0?{}:e,n=t.mixins,i=n===void 0?{}:n,a=t.palette,s=a===void 0?{}:a,u=t.spacing,c=t.typography,h=c===void 0?{}:c,f=Qe(t,["breakpoints","mixins","palette","spacing","typography"]),g=kN(s),p=wN(r),y=JN(u),b=Ca({breakpoints:p,direction:"ltr",mixins:SN(p,y,i),overrides:{},palette:g,props:{},shadows:RN,typography:EN(g,h),spacing:y,shape:ON,transitions:QN,zIndex:rP},f),v=arguments.length,S=new Array(v>1?v-1:0),x=1;x<v;x++)S[x-1]=arguments[x];return b=S.reduce(function(k,C){return Ca(k,C)},b),b}var eF=typeof Symbol=="function"&&Symbol.for;const iP=eF?Symbol.for("mui.nested"):"__THEME_NESTED__";var tF=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function d0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,r=e===void 0?!1:e,n=t.productionPrefix,i=n===void 0?"jss":n,a=t.seed,s=a===void 0?"":a,u=s===""?"":"".concat(s,"-"),c=0,h=function(){return c+=1,c};return function(f,g){var p=g.options.name;if(p&&p.indexOf("Mui")===0&&!g.options.link&&!r){if(tF.indexOf(f.key)!==-1)return"Mui-".concat(f.key);var y="".concat(u).concat(p,"-").concat(f.key);return!g.options.theme[iP]||s!==""?y:"".concat(y,"-").concat(h())}return"".concat(u).concat(i).concat(h())}}function rF(t){return t}function wp(t){var e=t.theme,r=t.name,n=t.props;if(!e||!e.props||!e.props[r])return n;var i=e.props[r],a;for(a in i)n[a]===void 0&&(n[a]=i[a]);return n}var Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c=(typeof window>"u"?"undefined":Jw(window))==="object"&&(typeof document>"u"?"undefined":Jw(document))==="object"&&document.nodeType===9;function Qw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D2(n.key),n)}}function Xn(t,e,r){return e&&Qw(t.prototype,e),r&&Qw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kf(t,e){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kf(t,e)}function Sp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kf(t,e)}function $i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nF={}.constructor;function Qv(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(Qv);if(t.constructor!==nF)return t;var e={};for(var r in t)e[r]=Qv(t[r]);return e}function f0(t,e,r){t===void 0&&(t="unnamed");var n=r.jss,i=Qv(e),a=n.plugins.onCreateRule(t,i,r);return a||(t[0],null)}var eS=function(e,r){for(var n="",i=0;i<e.length&&e[i]!=="!important";i++)n&&(n+=r),n+=e[i];return n},Oo=function(e,r){if(r===void 0&&(r=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&e[i]!=="!important";i++)n&&(n+=", "),n+=eS(e[i]," ");else n=eS(e,", ");return!r&&e[e.length-1]==="!important"&&(n+=" !important"),n};function Zs(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Ml(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}function kc(t,e,r){r===void 0&&(r={});var n="";if(!e)return n;var i=r,a=i.indent,s=a===void 0?0:a,u=e.fallbacks;r.format===!1&&(s=-1/0);var c=Zs(r),h=c.linebreak,f=c.space;if(t&&s++,u)if(Array.isArray(u))for(var g=0;g<u.length;g++){var p=u[g];for(var y in p){var b=p[y];b!=null&&(n&&(n+=h),n+=Ml(y+":"+f+Oo(b)+";",s))}}else for(var v in u){var S=u[v];S!=null&&(n&&(n+=h),n+=Ml(v+":"+f+Oo(S)+";",s))}for(var x in e){var k=e[x];k!=null&&x!=="fallbacks"&&(n&&(n+=h),n+=Ml(x+":"+f+Oo(k)+";",s))}return!n&&!r.allowEmpty||!t?n:(s--,n&&(n=""+h+n+h),Ml(""+t+f+"{"+n,s)+Ml("}",s))}var iF=/([[\].#*$><+~=|^:(),"'`\s])/g,tS=typeof CSS<"u"&&CSS.escape,p0=function(t){return tS?tS(t):t.replace(iF,"\\$1")},aP=function(){function t(r,n,i){this.type="style",this.isProcessed=!1;var a=i.sheet,s=i.Renderer;this.key=r,this.options=i,this.style=n,a?this.renderer=a.renderer:s&&(this.renderer=new s)}var e=t.prototype;return e.prop=function(n,i,a){if(i===void 0)return this.style[n];var s=a?a.force:!1;if(!s&&this.style[n]===i)return this;var u=i;(!a||a.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(i,n,this));var c=u==null||u===!1,h=n in this.style;if(c&&!h&&!s)return this;var f=c&&h;if(f?delete this.style[n]:this.style[n]=u,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,u),this;var g=this.options.sheet;return g&&g.attached,this},t}(),ey=function(t){Sp(e,t);function e(n,i,a){var s;s=t.call(this,n,i,a)||this;var u=a.selector,c=a.scoped,h=a.sheet,f=a.generateId;return u?s.selectorText=u:c!==!1&&(s.id=f($i($i(s)),h),s.selectorText="."+p0(s.id)),s}var r=e.prototype;return r.applyTo=function(i){var a=this.renderer;if(a){var s=this.toJSON();for(var u in s)a.setProperty(i,u,s[u])}return this},r.toJSON=function(){var i={};for(var a in this.style){var s=this.style[a];typeof s!="object"?i[a]=s:Array.isArray(s)&&(i[a]=Oo(s))}return i},r.toString=function(i){var a=this.options.sheet,s=a?a.options.link:!1,u=s?re({},i,{allowEmpty:!0}):i;return kc(this.selectorText,this.style,u)},Xn(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var a=this.renderer,s=this.renderable;if(!(!s||!a)){var u=a.setSelector(s,i);u||a.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),e}(aP),aF={onCreateRule:function(e,r,n){return e[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new ey(e,r,n)}},xm={indent:1,children:!0},oF=/@([\w-]+)/,sF=function(){function t(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var a=r.match(oF);this.at=a?a[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new kp(re({},i,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.indexOf=function(n){return this.rules.indexOf(n)},e.addRule=function(n,i,a){var s=this.rules.add(n,i,a);return s?(this.options.jss.plugins.onProcessRule(s),s):null},e.replaceRule=function(n,i,a){var s=this.rules.replace(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.toString=function(n){n===void 0&&(n=xm);var i=Zs(n),a=i.linebreak;if(n.indent==null&&(n.indent=xm.indent),n.children==null&&(n.children=xm.children),n.children===!1)return this.query+" {}";var s=this.rules.toString(n);return s?this.query+" {"+a+s+a+"}":""},t}(),lF=/@media|@supports\s+/,uF={onCreateRule:function(e,r,n){return lF.test(e)?new sF(e,r,n):null}},wm={indent:1,children:!0},cF=/@keyframes\s+([\w-]+)/,ty=function(){function t(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=r.match(cF);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,u=i.sheet,c=i.generateId;this.id=s===!1?this.name:p0(c(this,u)),this.rules=new kp(re({},i,{parent:this}));for(var h in n)this.rules.add(h,n[h],re({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(n){n===void 0&&(n=wm);var i=Zs(n),a=i.linebreak;if(n.indent==null&&(n.indent=wm.indent),n.children==null&&(n.children=wm.children),n.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(n);return s&&(s=""+a+s+a),this.at+" "+this.id+" {"+s+"}"},t}(),dF=/@keyframes\s+/,fF=/\$([\w-]+)/g,ry=function(e,r){return typeof e=="string"?e.replace(fF,function(n,i){return i in r?r[i]:n}):e},rS=function(e,r,n){var i=e[r],a=ry(i,n);a!==i&&(e[r]=a)},pF={onCreateRule:function(e,r,n){return typeof e=="string"&&dF.test(e)?new ty(e,r,n):null},onProcessStyle:function(e,r,n){return r.type!=="style"||!n||("animation-name"in e&&rS(e,"animation-name",n.keyframes),"animation"in e&&rS(e,"animation",n.keyframes)),e},onChangeValue:function(e,r,n){var i=n.options.sheet;if(!i)return e;switch(r){case"animation":return ry(e,i.keyframes);case"animation-name":return ry(e,i.keyframes);default:return e}}},hF=function(t){Sp(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.toString=function(i){var a=this.options.sheet,s=a?a.options.link:!1,u=s?re({},i,{allowEmpty:!0}):i;return kc(this.key,this.style,u)},e}(aP),gF={onCreateRule:function(e,r,n){return n.parent&&n.parent.type==="keyframes"?new hF(e,r,n):null}},mF=function(){function t(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){var i=Zs(n),a=i.linebreak;if(Array.isArray(this.style)){for(var s="",u=0;u<this.style.length;u++)s+=kc(this.at,this.style[u]),this.style[u+1]&&(s+=a);return s}return kc(this.at,this.style,n)},t}(),vF=/@font-face/,yF={onCreateRule:function(e,r,n){return vF.test(e)?new mF(e,r,n):null}},bF=function(){function t(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){return kc(this.key,this.style,n)},t}(),xF={onCreateRule:function(e,r,n){return e==="@viewport"||e==="@-ms-viewport"?new bF(e,r,n):null}},wF=function(){function t(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var e=t.prototype;return e.toString=function(n){if(Array.isArray(this.value)){for(var i="",a=0;a<this.value.length;a++)i+=this.key+" "+this.value[a]+";",this.value[a+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),SF={"@charset":!0,"@import":!0,"@namespace":!0},kF={onCreateRule:function(e,r,n){return e in SF?new wF(e,r,n):null}},nS=[aF,uF,pF,gF,yF,xF,kF],CF={process:!0},iS={force:!0,process:!0},kp=function(){function t(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=t.prototype;return e.add=function(n,i,a){var s=this.options,u=s.parent,c=s.sheet,h=s.jss,f=s.Renderer,g=s.generateId,p=s.scoped,y=re({classes:this.classes,parent:u,sheet:c,jss:h,Renderer:f,generateId:g,scoped:p,name:n,keyframes:this.keyframes,selector:void 0},a),b=n;n in this.raw&&(b=n+"-d"+this.counter++),this.raw[b]=i,b in this.classes&&(y.selector="."+p0(this.classes[b]));var v=f0(b,i,y);if(!v)return null;this.register(v);var S=y.index===void 0?this.index.length:y.index;return this.index.splice(S,0,v),v},e.replace=function(n,i,a){var s=this.get(n),u=this.index.indexOf(s);s&&this.remove(s);var c=a;return u!==-1&&(c=re({},a,{index:u})),this.add(n,i,c)},e.get=function(n){return this.map[n]},e.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},e.indexOf=function(n){return this.index.indexOf(n)},e.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},e.register=function(n){this.map[n.key]=n,n instanceof ey?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof ty&&this.keyframes&&(this.keyframes[n.name]=n.id)},e.unregister=function(n){delete this.map[n.key],n instanceof ey?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof ty&&delete this.keyframes[n.name]},e.update=function(){var n,i,a;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,a);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,a)},e.updateOne=function(n,i,a){a===void 0&&(a=CF);var s=this.options,u=s.jss.plugins,c=s.sheet;if(n.rules instanceof t){n.rules.update(i,a);return}var h=n.style;if(u.onUpdate(i,n,c,a),a.process&&h&&h!==n.style){u.onProcessStyle(n.style,n,c);for(var f in n.style){var g=n.style[f],p=h[f];g!==p&&n.prop(f,g,iS)}for(var y in h){var b=n.style[y],v=h[y];b==null&&b!==v&&n.prop(y,null,iS)}}},e.toString=function(n){for(var i="",a=this.options.sheet,s=a?a.options.link:!1,u=Zs(n),c=u.linebreak,h=0;h<this.index.length;h++){var f=this.index[h],g=f.toString(n);!g&&!s||(i&&(i+=c),i+=g)}return i},t}(),oP=function(){function t(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=re({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new kp(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(n,i,a){var s=this.queue;this.attached&&!s&&(this.queue=[]);var u=this.rules.add(n,i,a);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(s?s.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},e.replaceRule=function(n,i,a){var s=this.rules.get(n);if(!s)return this.addRule(n,i,a);var u=this.rules.replace(n,i,a);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?s.renderable&&this.renderer.replaceRule(s.renderable,u):this.renderer.deleteRule(s)),u):(this.deployed=!1,u)},e.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},e.addRules=function(n,i){var a=[];for(var s in n){var u=this.addRule(s,n[s],i);u&&a.push(u)}return a},e.getRule=function(n){return this.rules.get(n)},e.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(n){return this.rules.indexOf(n)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},e.updateOne=function(n,i,a){return this.rules.updateOne(n,i,a),this},e.toString=function(n){return this.rules.toString(n)},t}(),EF=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(n,i,a){for(var s=0;s<this.registry.onCreateRule.length;s++){var u=this.registry.onCreateRule[s](n,i,a);if(u)return u}return null},e.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,a=0;a<this.registry.onProcessRule.length;a++)this.registry.onProcessRule[a](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},e.onProcessStyle=function(n,i,a){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,a)},e.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},e.onUpdate=function(n,i,a,s){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](n,i,a,s)},e.onChangeValue=function(n,i,a){for(var s=n,u=0;u<this.registry.onChangeValue.length;u++)s=this.registry.onChangeValue[u](s,i,a);return s},e.use=function(n,i){i===void 0&&(i={queue:"external"});var a=this.plugins[i.queue];a.indexOf(n)===-1&&(a.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,u){for(var c in u)c in s&&s[c].push(u[c]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),sP=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(n){var i=this.registry,a=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||a>=this.index){i.push(n);return}for(var s=0;s<i.length;s++)if(i[s].options.index>a){i.splice(s,0,n);return}}},e.reset=function(){this.registry=[]},e.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},e.toString=function(n){for(var i=n===void 0?{}:n,a=i.attached,s=bp(i,["attached"]),u=Zs(s),c=u.linebreak,h="",f=0;f<this.registry.length;f++){var g=this.registry[f];a!=null&&g.attached!==a||(h&&(h+=c),h+=g.toString(s))}return h},Xn(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),lc=new sP,ny=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),iy="2f1acc6c3a606b082e5eef5e54414ffb";ny[iy]==null&&(ny[iy]=0);var aS=ny[iy]++,oS=function(e){e===void 0&&(e={});var r=0,n=function(a,s){r+=1;var u="",c="";return s&&(s.options.classNamePrefix&&(c=s.options.classNamePrefix),s.options.jss.id!=null&&(u=String(s.options.jss.id))),e.minify?""+(c||"c")+aS+u+r:c+a.key+"-"+aS+(u?"-"+u:"")+"-"+r};return n},lP=function(e){var r;return function(){return r||(r=e()),r}},_F=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch{return""}},PF=function(e,r,n){try{var i=n;if(Array.isArray(n)&&(i=Oo(n,!0),n[n.length-1]==="!important"))return e.style.setProperty(r,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(r,i):e.style.setProperty(r,i)}catch{return!1}return!0},TF=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch{}},RF=function(e,r){return e.selectorText=r,e.selectorText===r},uP=lP(function(){return document.querySelector("head")});function OF(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}function AF(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}function IF(t){for(var e=uP(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===t)return n}return null}function NF(t){var e=lc.registry;if(e.length>0){var r=OF(e,t);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=AF(e,t),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=t.insertionPoint;if(n&&typeof n=="string"){var i=IF(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function FF(t,e){var r=e.insertionPoint,n=NF(e);if(n!==!1&&n.parent){n.parent.insertBefore(t,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,a=i.parentNode;a&&a.insertBefore(t,i.nextSibling);return}uP().appendChild(t)}var MF=lP(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),sS=function(e,r,n){try{"insertRule"in e?e.insertRule(r,n):"appendRule"in e&&e.appendRule(r)}catch{return!1}return e.cssRules[n]},lS=function(e,r){var n=e.cssRules.length;return r===void 0||r>n?n:r},jF=function(){var e=document.createElement("style");return e.textContent=`
`,e},$F=function(){function t(r){this.getPropertyValue=_F,this.setProperty=PF,this.removeProperty=TF,this.setSelector=RF,this.hasInsertedRules=!1,this.cssRules=[],r&&lc.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,a=n.meta,s=n.element;this.element=s||jF(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),a&&this.element.setAttribute("data-meta",a);var u=MF();u&&this.element.setAttribute("nonce",u)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){FF(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},e.insertRules=function(n,i){for(var a=0;a<n.index.length;a++)this.insertRule(n.index[a],a,i)},e.insertRule=function(n,i,a){if(a===void 0&&(a=this.element.sheet),n.rules){var s=n,u=a;if(n.type==="conditional"||n.type==="keyframes"){var c=lS(a,i);if(u=sS(a,s.toString({children:!1}),c),u===!1)return!1;this.refCssRule(n,c,u)}return this.insertRules(s.rules,u),u}var h=n.toString();if(!h)return!1;var f=lS(a,i),g=sS(a,h,f);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,f,g),g)},e.refCssRule=function(n,i,a){n.renderable=a,n.options.parent instanceof oP&&this.cssRules.splice(i,0,a)},e.deleteRule=function(n){var i=this.element.sheet,a=this.indexOf(n);return a===-1?!1:(i.deleteRule(a),this.cssRules.splice(a,1),!0)},e.indexOf=function(n){return this.cssRules.indexOf(n)},e.replaceRule=function(n,i){var a=this.indexOf(n);return a===-1?!1:(this.element.sheet.deleteRule(a),this.cssRules.splice(a,1),this.insertRule(i,a))},e.getRules=function(){return this.element.sheet.cssRules},t}(),LF=0,DF=function(){function t(r){this.id=LF++,this.version="10.9.0",this.plugins=new EF,this.options={id:{minify:!1},createGenerateId:oS,Renderer:$c?$F:null,plugins:[]},this.generateId=oS({minify:!1});for(var n=0;n<nS.length;n++)this.plugins.use(nS[n],{queue:"internal"});this.setup(r)}var e=t.prototype;return e.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=re({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},e.createStyleSheet=function(n,i){i===void 0&&(i={});var a=i,s=a.index;typeof s!="number"&&(s=lc.index===0?0:lc.index+1);var u=new oP(n,re({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(u),u},e.removeStyleSheet=function(n){return n.detach(),lc.remove(n),this},e.createRule=function(n,i,a){if(i===void 0&&(i={}),a===void 0&&(a={}),typeof n=="object")return this.createRule(void 0,n,i);var s=re({},a,{name:n,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var u=f0(n,i,s);return u&&this.plugins.onProcessRule(u),u},e.use=function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.forEach(function(u){n.plugins.use(u)}),this},t}(),h0=function(e){return new DF(e)},g0=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function cP(t){var e=null;for(var r in t){var n=t[r],i=typeof n;if(i==="function")e||(e={}),e[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var a=cP(n);a&&(e||(e={}),e[r]=a)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */h0();var dP=Date.now(),Sm="fnValues"+dP,km="fnStyle"+ ++dP,BF=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var a=f0(r,{},i);return a[km]=n,a},onProcessStyle:function(r,n){if(Sm in n||km in n)return r;var i={};for(var a in r){var s=r[a];typeof s=="function"&&(delete r[a],i[a]=s)}return n[Sm]=i,r},onUpdate:function(r,n,i,a){var s=n,u=s[km];u&&(s.style=u(r)||{});var c=s[Sm];if(c)for(var h in c)s.prop(h,c[h](r),a)}}},Xa="@global",ay="@global ",zF=function(){function t(r,n,i){this.type="global",this.at=Xa,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new kp(re({},i,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.addRule=function(n,i,a){var s=this.rules.add(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.replaceRule=function(n,i,a){var s=this.rules.replace(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.indexOf=function(n){return this.rules.indexOf(n)},e.toString=function(n){return this.rules.toString(n)},t}(),VF=function(){function t(r,n,i){this.type="global",this.at=Xa,this.isProcessed=!1,this.key=r,this.options=i;var a=r.substr(ay.length);this.rule=i.jss.createRule(a,n,re({},i,{parent:this}))}var e=t.prototype;return e.toString=function(n){return this.rule?this.rule.toString(n):""},t}(),WF=/\s*,\s*/g;function fP(t,e){for(var r=t.split(WF),n="",i=0;i<r.length;i++)n+=e+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function qF(t,e){var r=t.options,n=t.style,i=n?n[Xa]:null;if(i){for(var a in i)e.addRule(a,i[a],re({},r,{selector:fP(a,t.selector)}));delete n[Xa]}}function HF(t,e){var r=t.options,n=t.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,Xa.length)!==Xa)){var a=fP(i.substr(Xa.length),t.selector);e.addRule(a,n[i],re({},r,{selector:a})),delete n[i]}}function UF(){function t(r,n,i){if(!r)return null;if(r===Xa)return new zF(r,n,i);if(r[0]==="@"&&r.substr(0,ay.length)===ay)return new VF(r,n,i);var a=i.parent;return a&&(a.type==="global"||a.options.parent&&a.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function e(r,n){r.type!=="style"||!n||(qF(r,n),HF(r,n))}return{onCreateRule:t,onProcessRule:e}}var uS=/\s*,\s*/g,KF=/&/g,GF=/\$([\w-]+)/g;function XF(){function t(i,a){return function(s,u){var c=i.getRule(u)||a&&a.getRule(u);return c?c.selector:u}}function e(i,a){for(var s=a.split(uS),u=i.split(uS),c="",h=0;h<s.length;h++)for(var f=s[h],g=0;g<u.length;g++){var p=u[g];c&&(c+=", "),c+=p.indexOf("&")!==-1?p.replace(KF,f):f+" "+p}return c}function r(i,a,s){if(s)return re({},s,{index:s.index+1});var u=i.options.nestingLevel;u=u===void 0?1:u+1;var c=re({},i.options,{nestingLevel:u,index:a.indexOf(i)+1});return delete c.name,c}function n(i,a,s){if(a.type!=="style")return i;var u=a,c=u.options.parent,h,f;for(var g in i){var p=g.indexOf("&")!==-1,y=g[0]==="@";if(!(!p&&!y)){if(h=r(u,c,h),p){var b=e(g,u.selector);f||(f=t(c,s)),b=b.replace(GF,f);var v=u.key+"-"+g;"replaceRule"in c?c.replaceRule(v,i[g],re({},h,{selector:b})):c.addRule(v,i[g],re({},h,{selector:b}))}else y&&c.addRule(g,{},h).addRule(u.key,i[g],{selector:u.selector});delete i[g]}}return i}return{onProcessStyle:n}}var YF=/[A-Z]/g,ZF=/^ms-/,Cm={};function JF(t){return"-"+t.toLowerCase()}function pP(t){if(Cm.hasOwnProperty(t))return Cm[t];var e=t.replace(YF,JF);return Cm[t]=ZF.test(e)?"-"+e:e}function Gf(t){var e={};for(var r in t){var n=r.indexOf("--")===0?r:pP(r);e[n]=t[r]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Gf):e.fallbacks=Gf(t.fallbacks)),e}function QF(){function t(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=Gf(r[n]);return r}return Gf(r)}function e(r,n,i){if(n.indexOf("--")===0)return r;var a=pP(n);return n===a?r:(i.prop(a,r),null)}return{onProcessStyle:t,onChangeValue:e}}var Ne=g0&&CSS?CSS.px:"px",ef=g0&&CSS?CSS.ms:"ms",gs=g0&&CSS?CSS.percent:"%",eM={"animation-delay":ef,"animation-duration":ef,"background-position":Ne,"background-position-x":Ne,"background-position-y":Ne,"background-size":Ne,border:Ne,"border-bottom":Ne,"border-bottom-left-radius":Ne,"border-bottom-right-radius":Ne,"border-bottom-width":Ne,"border-left":Ne,"border-left-width":Ne,"border-radius":Ne,"border-right":Ne,"border-right-width":Ne,"border-top":Ne,"border-top-left-radius":Ne,"border-top-right-radius":Ne,"border-top-width":Ne,"border-width":Ne,"border-block":Ne,"border-block-end":Ne,"border-block-end-width":Ne,"border-block-start":Ne,"border-block-start-width":Ne,"border-block-width":Ne,"border-inline":Ne,"border-inline-end":Ne,"border-inline-end-width":Ne,"border-inline-start":Ne,"border-inline-start-width":Ne,"border-inline-width":Ne,"border-start-start-radius":Ne,"border-start-end-radius":Ne,"border-end-start-radius":Ne,"border-end-end-radius":Ne,margin:Ne,"margin-bottom":Ne,"margin-left":Ne,"margin-right":Ne,"margin-top":Ne,"margin-block":Ne,"margin-block-end":Ne,"margin-block-start":Ne,"margin-inline":Ne,"margin-inline-end":Ne,"margin-inline-start":Ne,padding:Ne,"padding-bottom":Ne,"padding-left":Ne,"padding-right":Ne,"padding-top":Ne,"padding-block":Ne,"padding-block-end":Ne,"padding-block-start":Ne,"padding-inline":Ne,"padding-inline-end":Ne,"padding-inline-start":Ne,"mask-position-x":Ne,"mask-position-y":Ne,"mask-size":Ne,height:Ne,width:Ne,"min-height":Ne,"max-height":Ne,"min-width":Ne,"max-width":Ne,bottom:Ne,left:Ne,top:Ne,right:Ne,inset:Ne,"inset-block":Ne,"inset-block-end":Ne,"inset-block-start":Ne,"inset-inline":Ne,"inset-inline-end":Ne,"inset-inline-start":Ne,"box-shadow":Ne,"text-shadow":Ne,"column-gap":Ne,"column-rule":Ne,"column-rule-width":Ne,"column-width":Ne,"font-size":Ne,"font-size-delta":Ne,"letter-spacing":Ne,"text-decoration-thickness":Ne,"text-indent":Ne,"text-stroke":Ne,"text-stroke-width":Ne,"word-spacing":Ne,motion:Ne,"motion-offset":Ne,outline:Ne,"outline-offset":Ne,"outline-width":Ne,perspective:Ne,"perspective-origin-x":gs,"perspective-origin-y":gs,"transform-origin":gs,"transform-origin-x":gs,"transform-origin-y":gs,"transform-origin-z":gs,"transition-delay":ef,"transition-duration":ef,"vertical-align":Ne,"flex-basis":Ne,"shape-margin":Ne,size:Ne,gap:Ne,grid:Ne,"grid-gap":Ne,"row-gap":Ne,"grid-row-gap":Ne,"grid-column-gap":Ne,"grid-template-rows":Ne,"grid-template-columns":Ne,"grid-auto-rows":Ne,"grid-auto-columns":Ne,"box-shadow-x":Ne,"box-shadow-y":Ne,"box-shadow-blur":Ne,"box-shadow-spread":Ne,"font-line-height":Ne,"text-shadow-x":Ne,"text-shadow-y":Ne,"text-shadow-blur":Ne};function hP(t){var e=/(-[a-z])/g,r=function(s){return s[1].toUpperCase()},n={};for(var i in t)n[i]=t[i],n[i.replace(e,r)]=t[i];return n}var tM=hP(eM);function uc(t,e,r){if(e==null)return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=uc(t,e[n],r);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=uc(i,e[i],r);else for(var a in e)e[a]=uc(t+"-"+a,e[a],r);else if(typeof e=="number"&&isNaN(e)===!1){var s=r[t]||tM[t];return s&&!(e===0&&s===Ne)?typeof s=="function"?s(e).toString():""+e+s:e.toString()}return e}function rM(t){t===void 0&&(t={});var e=hP(t);function r(i,a){if(a.type!=="style")return i;for(var s in i)i[s]=uc(s,i[s],e);return i}function n(i,a){return uc(a,i,e)}return{onProcessStyle:r,onChangeValue:n}}var tc="",oy="",gP="",mP="",nM=$c&&"ontouchstart"in document.documentElement;if($c){var Em={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},iM=document.createElement("p"),_m=iM.style,aM="Transform";for(var Pm in Em)if(Pm+aM in _m){tc=Pm,oy=Em[Pm];break}tc==="Webkit"&&"msHyphens"in _m&&(tc="ms",oy=Em.ms,mP="edge"),tc==="Webkit"&&"-apple-trailing-word"in _m&&(gP="apple")}var cr={js:tc,css:oy,vendor:gP,browser:mP,isTouch:nM};function oM(t){return t[1]==="-"||cr.js==="ms"?t:"@"+cr.css+"keyframes"+t.substr(10)}var sM={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:cr.js==="ms"?"-webkit-"+e:cr.css+e}},lM={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:cr.js==="Webkit"?cr.css+"print-"+e:e}},uM=/[-\s]+(.)?/g;function cM(t,e){return e?e.toUpperCase():""}function m0(t){return t.replace(uM,cM)}function Za(t){return m0("-"+t)}var dM={noPrefill:["mask"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(cr.js==="Webkit"){var n="mask-image";if(m0(n)in r)return e;if(cr.js+Za(n)in r)return cr.css+e}return e}},fM={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:cr.vendor==="apple"&&!cr.isTouch?cr.css+e:e}},pM={noPrefill:["transform"],supportedProperty:function(e,r,n){return e!=="transform"?!1:n.transform?e:cr.css+e}},hM={noPrefill:["transition"],supportedProperty:function(e,r,n){return e!=="transition"?!1:n.transition?e:cr.css+e}},gM={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:cr.js==="Webkit"||cr.js==="ms"&&cr.browser!=="edge"?cr.css+e:e}},mM={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:cr.js==="Moz"||cr.js==="ms"||cr.vendor==="apple"?cr.css+e:e}},vM={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(cr.js==="Webkit"){var n="WebkitColumn"+Za(e);return n in r?cr.css+"column-"+e:!1}if(cr.js==="Moz"){var i="page"+Za(e);return i in r?"page-"+e:!1}return!1}},yM={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(cr.js==="Moz")return e;var n=e.replace("-inline","");return cr.js+Za(n)in r?cr.css+n:!1}},bM={supportedProperty:function(e,r){return m0(e)in r?e:!1}},xM={supportedProperty:function(e,r){var n=Za(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:cr.js+n in r?cr.css+e:cr.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+e:!1}},wM={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:cr.js==="ms"?""+cr.css+e:e}},SM={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:cr.js==="ms"?cr.css+"scroll-chaining":e}},kM={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},CM={supportedProperty:function(e,r){var n=kM[e];return n&&cr.js+Za(n)in r?cr.css+n:!1}},vP={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},EM=Object.keys(vP),_M=function(e){return cr.css+e},PM={supportedProperty:function(e,r,n){var i=n.multiple;if(EM.indexOf(e)>-1){var a=vP[e];if(!Array.isArray(a))return cr.js+Za(a)in r?cr.css+a:!1;if(!i)return!1;for(var s=0;s<a.length;s++)if(!(cr.js+Za(a[0])in r))return!1;return a.map(_M)}return!1}},yP=[sM,lM,dM,fM,pM,hM,gM,mM,vM,yM,bM,xM,wM,SM,CM,PM],cS=yP.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),TM=yP.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,Ys(e.noPrefill)),t},[]),rc,Eo={};if($c){rc=document.createElement("p");var Tm=window.getComputedStyle(document.documentElement,"");for(var Rm in Tm)isNaN(Rm)||(Eo[Tm[Rm]]=Tm[Rm]);TM.forEach(function(t){return delete Eo[t]})}function sy(t,e){if(e===void 0&&(e={}),!rc)return t;if(Eo[t]!=null)return Eo[t];(t==="transition"||t==="transform")&&(e[t]=t in rc.style);for(var r=0;r<cS.length&&(Eo[t]=cS[r](t,rc.style,e),!Eo[t]);r++);try{rc.style[t]=""}catch{return!1}return Eo[t]}var ms={},RM={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},OM=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ha;function AM(t,e,r){if(e==="var")return"var";if(e==="all")return"all";if(r==="all")return", all";var n=e?sy(e):", "+sy(r);return n||e||r}$c&&(Ha=document.createElement("p"));function dS(t,e){var r=e;if(!Ha||t==="content")return e;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=t+r;if(ms[n]!=null)return ms[n];try{Ha.style[t]=r}catch{return ms[n]=!1,!1}if(RM[t])r=r.replace(OM,AM);else if(Ha.style[t]===""&&(r=cr.css+r,r==="-ms-flex"&&(Ha.style[t]="-ms-flexbox"),Ha.style[t]=r,Ha.style[t]===""))return ms[n]=!1,!1;return Ha.style[t]="",ms[n]=r,ms[n]}function IM(){function t(i){if(i.type==="keyframes"){var a=i;a.at=oM(a.at)}}function e(i){for(var a in i){var s=i[a];if(a==="fallbacks"&&Array.isArray(s)){i[a]=s.map(e);continue}var u=!1,c=sy(a);c&&c!==a&&(u=!0);var h=!1,f=dS(c,Oo(s));f&&f!==s&&(h=!0),(u||h)&&(u&&delete i[a],i[c||a]=f||s)}return i}function r(i,a){return a.type!=="style"?i:e(i)}function n(i,a){return dS(a,Oo(i))||i}return{onProcessRule:t,onProcessStyle:r,onChangeValue:n}}function NM(){var t=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},a=Object.keys(r).sort(t),s=0;s<a.length;s++)i[a[s]]=r[a[s]];return i}}}function v0(){return{plugins:[BF(),UF(),XF(),QF(),rM(),typeof window>"u"?null:IM(),NM()]}}function Cp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,r=t.newClasses;if(t.Component,!r)return e;var n=re({},e);return Object.keys(r).forEach(function(i){r[i]&&(n[i]="".concat(e[i]," ").concat(r[i]))}),n}var As={set:function(e,r,n,i){var a=e.get(r);a||(a=new Map,e.set(r,a)),a.set(n,i)},get:function(e,r,n){var i=e.get(r);return i?i.get(n):void 0},delete:function(e,r,n){var i=e.get(r);i.delete(n)}},bP=nr.createContext(null);function Pa(){var t=nr.useContext(bP);return t}var FM=h0(v0()),MM=d0(),xP=new Map,jM={disableGeneration:!1,generateClassName:MM,jss:FM,sheetsCache:null,sheetsManager:xP,sheetsRegistry:null},Xf=nr.createContext(jM),tf;function wP(t){var e=t.children,r=t.injectFirst,n=r===void 0?!1:r,i=t.disableGeneration,a=i===void 0?!1:i,s=Qe(t,["children","injectFirst","disableGeneration"]),u=nr.useContext(Xf),c=re({},u,{disableGeneration:a},s);if(!c.jss.options.insertionPoint&&n&&typeof window<"u"){if(!tf){var h=document.head;tf=document.createComment("mui-inject-first"),h.insertBefore(tf,h.firstChild)}c.jss=h0({plugins:v0().plugins,insertionPoint:tf})}return nr.createElement(Xf.Provider,{value:c},e)}var fS=-1e9;function $M(){return fS+=1,fS}var LM={};function DM(t){var e=typeof t=="function";return{create:function(n,i){var a;try{a=e?t(n):t}catch(c){throw c}if(!i||!n.overrides||!n.overrides[i])return a;var s=n.overrides[i],u=re({},a);return Object.keys(s).forEach(function(c){u[c]=Ca(u[c],s[c])}),u},options:{}}}function BM(t,e,r){var n=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,a=!0),e!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=e,a=!0),a&&(n.cacheClasses.value=Cp({baseClasses:n.cacheClasses.lastJSS,newClasses:e,Component:r})),n.cacheClasses.value}function zM(t,e){var r=t.state,n=t.theme,i=t.stylesOptions,a=t.stylesCreator,s=t.name;if(!i.disableGeneration){var u=As.get(i.sheetsManager,a,n);u||(u={refs:0,staticSheet:null,dynamicStyles:null},As.set(i.sheetsManager,a,n,u));var c=re({},a.options,i,{theme:n,flip:typeof i.flip=="boolean"?i.flip:n.direction==="rtl"});c.generateId=c.serverGenerateClassName||c.generateClassName;var h=i.sheetsRegistry;if(u.refs===0){var f;i.sheetsCache&&(f=As.get(i.sheetsCache,a,n));var g=a.create(n,s);f||(f=i.jss.createStyleSheet(g,re({link:!1},c)),f.attach(),i.sheetsCache&&As.set(i.sheetsCache,a,n,f)),h&&h.add(f),u.staticSheet=f,u.dynamicStyles=cP(g)}if(u.dynamicStyles){var p=i.jss.createStyleSheet(u.dynamicStyles,re({link:!0},c));p.update(e),p.attach(),r.dynamicSheet=p,r.classes=Cp({baseClasses:u.staticSheet.classes,newClasses:p.classes}),h&&h.add(p)}else r.classes=u.staticSheet.classes;u.refs+=1}}function VM(t,e){var r=t.state;r.dynamicSheet&&r.dynamicSheet.update(e)}function WM(t){var e=t.state,r=t.theme,n=t.stylesOptions,i=t.stylesCreator;if(!n.disableGeneration){var a=As.get(n.sheetsManager,i,r);a.refs-=1;var s=n.sheetsRegistry;a.refs===0&&(As.delete(n.sheetsManager,i,r),n.jss.removeStyleSheet(a.staticSheet),s&&s.remove(a.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),s&&s.remove(e.dynamicSheet))}}function qM(t,e){var r=nr.useRef([]),n,i=nr.useMemo(function(){return{}},e);r.current!==i&&(r.current=i,n=t()),nr.useEffect(function(){return function(){n&&n()}},[i])}function zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.name,n=e.classNamePrefix,i=e.Component,a=e.defaultTheme,s=a===void 0?LM:a,u=Qe(e,["name","classNamePrefix","Component","defaultTheme"]),c=DM(t),h=r||n||"makeStyles";c.options={index:$M(),name:r,meta:h,classNamePrefix:h};var f=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=Pa()||s,b=re({},nr.useContext(Xf),u),v=nr.useRef(),S=nr.useRef();qM(function(){var k={name:r,state:{},stylesCreator:c,stylesOptions:b,theme:y};return zM(k,p),S.current=!1,v.current=k,function(){WM(k)}},[y,c]),nr.useEffect(function(){S.current&&VM(v.current,p),S.current=!0});var x=BM(v.current,p.classes,i);return x};return f}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var HM=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vi(this,t),this.options=e}return Xn(t,[{key:"collect",value:function(r){var n=new Map;this.sheetsRegistry=new sP;var i=d0();return nr.createElement(wP,re({sheetsManager:n,serverGenerateClassName:i,sheetsRegistry:this.sheetsRegistry},this.options),r)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(r){return nr.createElement("style",re({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},r))}}]),t}();function SP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=SP(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Le(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=SP(e))&&(n&&(n+=" "),n+=r);return n}var Om={exports:{}},Nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function UM(){if(pS)return Nr;pS=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function C(_){if(typeof _=="object"&&_!==null){var T=_.$$typeof;switch(T){case e:switch(_=_.type,_){case c:case h:case n:case a:case i:case g:return _;default:switch(_=_&&_.$$typeof,_){case u:case f:case b:case y:case s:return _;default:return T}}case r:return T}}}function R(_){return C(_)===h}return Nr.AsyncMode=c,Nr.ConcurrentMode=h,Nr.ContextConsumer=u,Nr.ContextProvider=s,Nr.Element=e,Nr.ForwardRef=f,Nr.Fragment=n,Nr.Lazy=b,Nr.Memo=y,Nr.Portal=r,Nr.Profiler=a,Nr.StrictMode=i,Nr.Suspense=g,Nr.isAsyncMode=function(_){return R(_)||C(_)===c},Nr.isConcurrentMode=R,Nr.isContextConsumer=function(_){return C(_)===u},Nr.isContextProvider=function(_){return C(_)===s},Nr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Nr.isForwardRef=function(_){return C(_)===f},Nr.isFragment=function(_){return C(_)===n},Nr.isLazy=function(_){return C(_)===b},Nr.isMemo=function(_){return C(_)===y},Nr.isPortal=function(_){return C(_)===r},Nr.isProfiler=function(_){return C(_)===a},Nr.isStrictMode=function(_){return C(_)===i},Nr.isSuspense=function(_){return C(_)===g},Nr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===h||_===a||_===i||_===g||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===b||_.$$typeof===y||_.$$typeof===s||_.$$typeof===u||_.$$typeof===f||_.$$typeof===S||_.$$typeof===x||_.$$typeof===k||_.$$typeof===v)},Nr.typeOf=C,Nr}var hS;function KM(){return hS||(hS=1,Om.exports=UM()),Om.exports}var Am,gS;function GM(){if(gS)return Am;gS=1;var t=KM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=i;function s(b){return t.isMemo(b)?i:a[b.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,p=Object.prototype;function y(b,v,S){if(typeof v!="string"){if(p){var x=g(v);x&&x!==p&&y(b,x,S)}var k=c(v);h&&(k=k.concat(h(v)));for(var C=s(b),R=s(v),_=0;_<k.length;++_){var T=k[_];if(!r[T]&&!(S&&S[T])&&!(R&&R[T])&&!(C&&C[T])){var O=f(v,T);try{u(b,T,O)}catch{}}}}return b}return Am=y,Am}var XM=GM();const y0=zt(XM);function YM(t,e){var r={};return Object.keys(t).forEach(function(n){e.indexOf(n)===-1&&(r[n]=t[n])}),r}function kP(t){var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.name,s=Qe(i,["name"]),u=a,c=typeof n=="function"?function(p){return{root:function(b){return n(re({theme:p},b))}}}:{root:n},h=zo(c,re({Component:t,name:a||t.displayName,classNamePrefix:u},s)),f;n.filterProps&&(f=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var g=nr.forwardRef(function(y,b){var v=y.children,S=y.className,x=y.clone,k=y.component,C=Qe(y,["children","className","clone","component"]),R=h(y),_=Le(R.root,S),T=C;if(f&&(T=YM(T,f)),x)return nr.cloneElement(v,re({className:Le(v.props.className,_)},T));if(typeof v=="function")return v(re({className:_},T));var O=k||t;return nr.createElement(O,re({ref:b,className:_},T),v)});return y0(g,t),g};return e}function ZM(t,e){if(typeof e=="function"){var r=e(t);return r}return re({},t,e)}function b0(t){var e=t.children,r=t.theme,n=Pa(),i=nr.useMemo(function(){var a=n===null?r:ZM(n,r);return a!=null&&(a[iP]=n!==null),a},[r,n]);return nr.createElement(bP.Provider,{value:i},e)}var CP=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n){var i=r.defaultTheme,a=r.withTheme,s=a===void 0?!1:a,u=r.name,c=Qe(r,["defaultTheme","withTheme","name"]),h=u,f=zo(e,re({defaultTheme:i,Component:n,name:u||n.displayName,classNamePrefix:h},c)),g=nr.forwardRef(function(y,b){y.classes;var v=y.innerRef,S=Qe(y,["classes","innerRef"]),x=f(re({},n.defaultProps,y)),k,C=S;return(typeof u=="string"||s)&&(k=Pa()||i,u&&(C=wp({theme:k,name:u,props:S})),s&&!C.theme&&(C.theme=k)),nr.createElement(n,re({ref:v||b,classes:x},C))});return y0(g,n),g}};function EP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.defaultTheme,r=function(i){var a=nr.forwardRef(function(u,c){var h=u.innerRef,f=Qe(u,["innerRef"]),g=Pa()||e;return nr.createElement(i,re({theme:g,ref:h||c},f))});return y0(a,i),a};return r}var JM=EP();/** @license Material-UI v4.11.4
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const QM=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheets:HM,StylesContext:Xf,StylesProvider:wP,ThemeProvider:b0,createGenerateClassName:d0,createStyles:rF,getThemeProps:wp,jssPreset:v0,makeStyles:zo,mergeClasses:Cp,sheetsManager:xP,styled:kP,useTheme:Pa,withStyles:CP,withTheme:JM,withThemeCreator:EP},Symbol.toStringTag,{value:"Module"}));var Ep=nP();function dn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zo(t,re({defaultTheme:Ep},e))}var ej=function(e){var r=kP(e);return function(n,i){return r(n,re({defaultTheme:Ep},i))}};function si(){var t=Pa()||Ep;return t}function Rt(t,e){return CP(t,re({defaultTheme:Ep},e))}function x0(t){const[e,r]=m.useState([0,0]);return m.useLayoutEffect(()=>{function n(){t&&r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",n),screen.orientation.addEventListener("change",n),n(),()=>{window.removeEventListener("resize",n),screen.orientation.removeEventListener("change",n)}},[t]),e}const _P=t=>nP({palette:{primary:{main:"#49007a"},secondary:{main:"#ff1f62"},error:{main:Of.A400},background:{default:"rgba(0, 0, 0, 0)"},type:t}});class PP{static async encode(e,r){return new Promise(async(n,i)=>{var a=new FileReader;a.onload=async s=>{try{const u=new AudioContext;if(s.target===null){i(new Error("Could not obtain buffer to encode"));return}const c=await u.decodeAudioData(s.target.result),h=[];for(let p=0;p<c.numberOfChannels;++p)h.push(c.getChannelData(p));const f=r(),g=f instanceof Worker?f:await f;g.postMessage({command:"encode",audioBuffer:{channels:h,numberOfChannels:c.numberOfChannels,length:c.length,sampleRate:c.sampleRate}}),g.onmessage=p=>{n(new Blob(p.data.buffer,{type:"audio/mp3"})),g.terminate()},g.onerror=p=>{const y=(p==null?void 0:p.error)??new Error("MP3 encoding failed: "+(p==null?void 0:p.message));i(y),g.terminate()}}catch(u){i(u)}},a.readAsArrayBuffer(e)})}}const TP=t=>new Promise(async(e,r)=>{try{var n=new FileReader;n.readAsDataURL(t),n.onloadend=()=>{const i=n.result,a=i.substring(i.indexOf(",")+1);e(a)}}catch(i){r(i)}}),tj=(t,e)=>{const r=atob(t),n=new Uint8Array(r.length);for(let i=0;i<n.length;++i)n[i]=r.charCodeAt(i);return new Blob([n.buffer],{type:e})},rj=24,RP=(t,e)=>`${t.replaceAll(" ","_").substring(0,Math.min(t.length,rj))}_${Math.floor(e)}`,OP=(t,e)=>{for(let r=t.length-1;r>=0;--r)if(e===t[r]){t.splice(r,1);break}},_n=(t,e)=>{for(const r of e[t])r()};function nj(){const t={"audio/ogg;codecs=opus":"ogg","audio/webm;codecs=opus":"webm"};return Object.keys(t).filter(MediaRecorder.isTypeSupported).map(e=>[e,t[e]])[0]}class ij{constructor(e,r,n,i,a,s,u){this._callbacks={play:[],pause:[]},this._name=RP(e,r),this._start=r,this._end=n,this.playbackRate=i,this._base64=a,this._extension=s,this._error=u}get name(){return this._name}get extension(){return this._extension}get start(){return this._start}get end(){return this._end}async base64(){return this._base64}async blob(){return await this._blob()}get playing(){return this.playingAudio!==void 0}onEvent(e,r){return this._callbacks[e].push(r),()=>{OP(this._callbacks[e],r)}}async play(){if(this.playingAudio){this.stop(),_n("pause",this._callbacks);return}const e=await this._blob(),r=new Audio;r.src=URL.createObjectURL(e),r.preload="metadata",this.playingAudio=r,await r.play(),_n("play",this._callbacks),this.stopAudioTimeout=setTimeout(()=>{this.stopAudio(r),this.playingAudio=void 0,this.stopAudioTimeout=void 0,_n("pause",this._callbacks)},(this._end-this._start)/this.playbackRate+100)}stop(){this.playingAudio&&(this.stopAudio(this.playingAudio),clearTimeout(this.stopAudioTimeout),this.playingAudio=void 0,this.stopAudioTimeout=void 0,_n("pause",this._callbacks))}stopAudio(e){e.pause();const r=e.src;e.removeAttribute("src"),e.load(),URL.revokeObjectURL(r)}async _blob(){return this.cachedBlob||(this.cachedBlob=tj(this._base64,`audio/${this.extension}`)),this.cachedBlob}slice(e,r){return this}isSliceable(){return!1}get error(){return this._error}}class AP extends Error{}class mS{constructor(e,r,n,i,a,s,u){this._file=e,this._start=r,this._end=n,this._playbackRate=i,this._recorderMimeType=a,this._callbacks=s,this._trackId=u}latestBlobPromise(){return this._blobPromise}get isPlayingAudibly(){return!Fc&&this._clippingAudioElement!==void 0&&this._clippingAudibly===!0||this._playingAudioElement!==void 0}get isRecordingSilently(){return this._clippingAudioElement!==void 0&&this._clippingAudibly===!1}get finishedRecording(){return this._blob!==void 0}async play(){if(this._playingAudioElement){this._stopPlayingAudio(),_n("pause",this._callbacks);return}if(this._blob){const e=await this._audioElement(URL.createObjectURL(this._blob),!1);e.currentTime=0,await e.play(),_n("play",this._callbacks),this._playingAudioElement=e}else{const e=await this._audioElement(this._file.blobUrl,!0);e.oncanplay=async r=>{e.play(),_n("play",this._callbacks),e.oncanplay=null},this._playingAudioElement=e}this._stopAudioTimeout=setTimeout(()=>{this._playingAudioElement!==void 0&&(this._stopAudio(this._playingAudioElement,!0),_n("pause",this._callbacks),this._playingAudioElement=void 0),this._stopAudioTimeout=void 0},(this._end-this._start)/this._playbackRate+100)}async clip(e){return this._stopClippingAudio(),this._clippingAudibly=e,this._blobPromise=new Promise(async(r,n)=>{try{const i=await this._audioElement(this._file.blobUrl,!0);i.oncanplay=async a=>{if(i.oncanplay=null,!e){const f=new AudioContext,g=f.createMediaStreamDestination();f.createMediaElementSource(i).connect(g)}await i.play(),e&&_n("play",this._callbacks);const s=this._captureStream(i),u=new MediaRecorder(s,{mimeType:this._recorderMimeType}),c=[];u.ondataavailable=f=>{c.push(f.data)};let h=!1;u.onstop=f=>{h&&(this._blob=new Blob(c,{type:this._recorderMimeType}),r(this._blob))},u.start(),this._clippingAudioReject=n,this._clippingAudioElement=i,this._stopClippingTimeout=setTimeout(()=>{this._stopAudio(i,!1),this._clippingAudioElement=void 0,this._stopClippingTimeout=void 0,this._clippingAudioReject=void 0,h=!0,u.stop();for(const f of s.getAudioTracks())f.stop()},(this._end-this._start)/this._playbackRate+100)}}catch(i){n(i)}}),this._blobPromise}stop(){this._playingAudioElement&&(this._stopPlayingAudio(),_n("pause",this._callbacks)),this._clippingAudioElement&&(this._stopClippingAudio(),_n("pause",this._callbacks))}_stopClippingAudio(){var e;this._clippingAudioElement&&(this._stopAudio(this._clippingAudioElement,!1),clearTimeout(this._stopClippingTimeout),(e=this._clippingAudioReject)==null||e.call(this,new AP),this._clippingAudioElement=void 0,this._stopClippingTimeout=void 0,this._clippingAudioReject=void 0,this._blobPromise=void 0)}_stopPlayingAudio(){this._playingAudioElement&&(this._stopAudio(this._playingAudioElement,!0),clearTimeout(this._stopAudioTimeout),this._playingAudioElement=void 0,this._stopAudioTimeout=void 0)}_audioElement(e,r){const n=new Audio;return n.preload="metadata",n.src=e,new Promise((i,a)=>{n.onloadedmetadata=()=>{if(r&&this._trackId&&n.audioTracks&&n.audioTracks.length>0)for(const s of n.audioTracks)s.enabled=this._trackId===s.id;n.currentTime=this._start/1e3,n.playbackRate=this._playbackRate,i(n)},n.onerror=()=>{var s;a(((s=n.error)==null?void 0:s.message)??"Could not load audio")}})}_stopAudio(e,r){e.pause();const n=e.src;e.removeAttribute("src"),e.load(),r&&URL.revokeObjectURL(n)}_captureStream(e){let r;if(typeof e.captureStream=="function"&&(r=e.captureStream()),typeof e.mozCaptureStream=="function"&&(r=e.mozCaptureStream()),r===void 0)throw new Error("Unable to capture stream from audio");const n=new MediaStream;for(const i of r.getVideoTracks())i.stop();for(const i of r.getAudioTracks())i.enabled&&n.addTrack(i);return n}}class w0{constructor(e,r,n,i,a,s,u){const[c,h]=nj();this._recorderMimeType=c,this._file=e,this._name=RP(e.name,r),this._start=r,this._end=n,this._playbackRate=i,this._recordAudibly=a,this._trackId=s,this._callbacks=u??{play:[],pause:[]},this._extension=h,this._blobClipper=new mS(e,r,n,i,c,this._callbacks,s)}get name(){return this._name}get extension(){return this._extension}get start(){return this._start}get end(){return this._end}async base64(){return new Promise(async(e,r)=>{var n=new FileReader;const i=await this.blob();n.readAsDataURL(i),n.onloadend=()=>{const a=n.result,s=a.substring(a.indexOf(",")+1);e(s)}})}get playing(){var e;return((e=this._playClipper)==null?void 0:e.isPlayingAudibly)??!1}onEvent(e,r){return this._callbacks[e].push(r),()=>{OP(this._callbacks[e],r)}}async play(){var e;this._blobClipper.isPlayingAudibly?(this._blobClipper.stop(),_n("pause",this._callbacks)):(e=this._playClipper)!=null&&e.isPlayingAudibly?(this._playClipper.stop(),_n("pause",this._callbacks)):this._blobClipper.isRecordingSilently?(this._playClipper=this._playClipper??new mS(this._file,this._start,this._end,this._playbackRate,this._recorderMimeType,this._callbacks,this._trackId),this._playClipper.play(),_n("play",this._callbacks)):this._blobClipper.finishedRecording?(this._blobClipper.play(),_n("play",this._callbacks),this._playClipper=void 0):(this._blobClipper.clip(!0).then(()=>{_n("pause",this._callbacks)}).catch(r=>{r instanceof AP||console.error(r)}),_n("play",this._callbacks))}stop(){var e;this._blobClipper.stop(),(e=this._playClipper)==null||e.stop(),_n("pause",this._callbacks)}async blob(){return this._blobClipper.latestBlobPromise()??this._blobClipper.clip(this._recordAudibly)}slice(e,r){return new w0(this._file,e,r,this._playbackRate,this._recordAudibly,this._trackId)}isSliceable(){return!0}get error(){if(this._file.blobUrl)return p2(this._file.blobUrl)?void 0:Wf.fileLinkLost}}class Yf{constructor(e,r){this.data=e,this.workerFactory=r}get name(){return this.data.name}get extension(){return"mp3"}get start(){return this.data.start}get end(){return this.data.end}async base64(){return TP(await this.blob())}async play(){await this.data.play()}get playing(){return this.data.playing}onEvent(e,r){return this.onEvent(e,r)}stop(){this.data.stop()}async blob(){return this._blob||(this._blob=await PP.encode(await this.data.blob(),this.workerFactory)),this._blob}slice(e,r){return new Yf(this.data.slice(e,r),this.workerFactory)}isSliceable(){return this.data.isSliceable()}get error(){return this.data.error}}class S0{constructor(e,r,n){this._data=e,this._encoder=r,this._extension=n}get name(){return this._data.name}get extension(){return"mp3"}get start(){return this._data.start}get end(){return this._data.end}async base64(){return TP(await this.blob())}async play(){await this._data.play()}get playing(){return this._data.playing}onEvent(e,r){return this._data.onEvent(e,r)}stop(){this._data.stop()}async blob(){return this._blob===void 0&&(this._blob=await this._encoder(await this._data.blob(),this._data.extension)),this._blob}slice(e,r){return new S0(this._data.slice(e,r),this._encoder,this._extension)}isSliceable(){return this._data.isSliceable()}get error(){return this._data.error}}class Oi{constructor(e){this.data=e}static fromCard(e,r,n,i){var a,s;if(e.audio){const u=e.audio.start??e.subtitle.start,c=e.audio.end??e.subtitle.end;return Oi.fromBase64(e.subtitleFileName,Math.max(0,u-(e.audio.paddingStart??0)),c+(e.audio.paddingEnd??0),e.audio.playbackRate??1,e.audio.base64,e.audio.extension,e.audio.error)}if(e.file)return Oi.fromFile(e.file,Math.max(0,e.subtitle.start-r),e.subtitle.end+n,((a=e.file)==null?void 0:a.playbackRate)??1,i,(s=e.file)==null?void 0:s.audioTrack)}static fromBase64(e,r,n,i,a,s,u){return new Oi(new ij(e.substring(0,e.lastIndexOf(".")),r,n,i,a,s,u))}static fromFile(e,r,n,i,a,s){return new Oi(new w0(e,r,n,i,a,s))}get start(){return this.data.start}get end(){return this.data.end}get name(){return this.data.name+"."+this.data.extension}get extension(){return this.data.extension}async play(){await this.data.play()}get playing(){return this.data.playing}onEvent(e,r){return this.data.onEvent(e,r)}stop(){this.data.stop()}async base64(){return await this.data.base64()}async blob(){return await this.data.blob()}async download(){const e=await this.data.blob();wc(e,this.name)}toMp3(e){return this.data instanceof Yf?this:this.data.extension==="mp3"?this:new Oi(new Yf(this.data,e))}toEncoded(e,r){return new Oi(new S0(this.data,e,r))}slice(e,r){return new Oi(this.data.slice(e,r))}isSliceable(){return this.data.isSliceable()}get error(){return this.data.error}get errorLocKey(){if(this.data.error!==void 0)switch(this.data.error){case Wf.drmProtected:return"audioCaptureFailed.message";case Wf.fileLinkLost:return"ankiDialog.audioFileLinkLost"}}}function aj(t){const e=t.toLowerCase().trim().split(/\s*;\s*/);return e[0]==="banner"?{name:e[0],delay:e[1]*1||0,leftToRight:e[2]*1||0,fadeAwayWidth:e[3]*1||0}:/^scroll\s/.test(e[0])?{name:e[0],y1:Math.min(e[1]*1,e[2]*1),y2:Math.max(e[1]*1,e[2]*1),delay:e[3]*1||0,fadeAwayHeight:e[4]*1||0}:null}function ly(t){return t?t.toLowerCase().replace(/([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)/g," $1 ").replace(/([mnlbspc])/g," $1 ").trim().replace(/\s+/g," ").split(/\s(?=[mnlbspc])/).map(e=>e.split(" ").filter((r,n)=>!(n&&Number.isNaN(r*1)))):[]}const oj=["b","i","u","s","fsp","k","K","kf","ko","kt","fe","q","p","pbo","a","an","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"],vS=oj.map(t=>({name:t,regex:new RegExp(`^${t}-?\\d`)}));function IP(t){const e={};for(let r=0;r<vS.length;r++){const{name:n,regex:i}=vS[r];if(i.test(t))return e[n]=t.slice(n.length)*1,e}if(/^fn/.test(t))e.fn=t.slice(2);else if(/^r/.test(t))e.r=t.slice(1);else if(/^fs[\d+-]/.test(t))e.fs=t.slice(2);else if(/^\d?c&?H?[0-9a-f]+|^\d?c$/i.test(t)){const[,r,n]=t.match(/^(\d?)c&?H?(\w*)/);e[`c${r||1}`]=n&&`000000${n}`.slice(-6)}else if(/^\da&?H?[0-9a-f]+/i.test(t)){const[,r,n]=t.match(/^(\d)a&?H?(\w\w)/);e[`a${r}`]=n}else if(/^alpha&?H?[0-9a-f]+/i.test(t))[,e.alpha]=t.match(/^alpha&?H?([0-9a-f]+)/i),e.alpha=`00${e.alpha}`.slice(-2);else if(/^(?:pos|org|move|fad|fade)\(/.test(t)){const[,r,n]=t.match(/^(\w+)\((.*?)\)?$/);e[r]=n.trim().split(/\s*,\s*/).map(Number)}else if(/^i?clip/.test(t)){const r=t.match(/^i?clip\((.*?)\)?$/)[1].trim().split(/\s*,\s*/);e.clip={inverse:/iclip/.test(t),scale:1,drawing:null,dots:null},r.length===1&&(e.clip.drawing=ly(r[0])),r.length===2&&(e.clip.scale=r[0]*1,e.clip.drawing=ly(r[1])),r.length===4&&(e.clip.dots=r.map(Number))}else if(/^t\(/.test(t)){const r=t.match(/^t\((.*?)\)?$/)[1].trim().replace(/\\.*/,n=>n.replace(/,/g,`
`)).split(/\s*,\s*/);if(!r[0])return e;e.t={t1:0,t2:0,accel:1,tags:r[r.length-1].replace(/\n/g,",").split("\\").slice(1).map(IP)},r.length===2&&(e.t.accel=r[0]*1),r.length===3&&(e.t.t1=r[0]*1,e.t.t2=r[1]*1),r.length===4&&(e.t.t1=r[0]*1,e.t.t2=r[1]*1,e.t.accel=r[2]*1)}return e}function sj(t){const e=[];let r=0,n="";for(let i=0;i<t.length;i++){const a=t[i];a==="("&&r++,a===")"&&r--,r<0&&(r=0),!r&&a==="\\"?(n&&e.push(n),n=""):n+=a}return e.push(n),e.map(IP)}function lj(t){const e=t.split(/{([^{}]*?)}/),r=[];e[0].length&&r.push({tags:[],text:e[0],drawing:[]});for(let n=1;n<e.length;n+=2){const i=sj(e[n]),a=i.reduce((s,u)=>u.p===void 0?s:!!u.p,!1);r.push({tags:i,text:a?"":e[n+1],drawing:a?ly(e[n+1]):[]})}return{raw:t,combined:r.map(n=>n.text).join(""),parsed:r}}function uj(t){const e=t.split(":");return e[0]*3600+e[1]*60+e[2]*1}function cj(t,e){let r=t.split(",");if(r.length>e.length){const i=r.slice(e.length-1).join();r=r.slice(0,e.length-1),r.push(i)}const n={};for(let i=0;i<r.length;i++){const a=e[i],s=r[i].trim();switch(a){case"Layer":case"MarginL":case"MarginR":case"MarginV":n[a]=s*1;break;case"Start":case"End":n[a]=uj(s);break;case"Effect":n[a]=aj(s);break;case"Text":n[a]=lj(s);break;default:n[a]=s}}return n}function yS(t){return t.match(/Format\s*:\s*(.*)/i)[1].split(/\s*,\s*/)}const Ja=Object.assign||function(e,...r){for(let n=0;n<r.length;n++){if(!r[n])continue;const i=Object.keys(r[n]);for(let a=0;a<i.length;a++)e[i[a]]=r[n][i[a]]}return e};function dj(t,e){const r=t.match(/Style\s*:\s*(.*)/i)[1].split(/\s*,\s*/);return Ja({},...e.map((n,i)=>({[n]:r[i]})))}function fj(t){const e={info:{},styles:{format:[],style:[]},events:{format:[],comment:[],dialogue:[]}},r=t.split(/\r?\n/);let n=0;for(let i=0;i<r.length;i++){const a=r[i].trim();if(!/^;/.test(a)&&(/^\[Script Info\]/i.test(a)?n=1:/^\[V4\+? Styles\]/i.test(a)?n=2:/^\[Events\]/i.test(a)?n=3:/^\[.*\]/.test(a)&&(n=0),n!==0)){if(n===1&&/:/.test(a)){const[,s,u]=a.match(/(.*?)\s*:\s*(.*)/);e.info[s]=u}if(n===2&&(/^Format\s*:/i.test(a)&&(e.styles.format=yS(a)),/^Style\s*:/i.test(a)&&e.styles.style.push(dj(a,e.styles.format))),n===3&&(/^Format\s*:/i.test(a)&&(e.events.format=yS(a)),/^(?:Comment|Dialogue)\s*:/i.test(a))){const[,s,u]=a.match(/^(\w+?)\s*:\s*(.*)/i);e.events[s.toLowerCase()].push(cj(u,e.events.format))}}}return e}function pj(t){const e={type:null,prev:null,next:null,points:[]};/[mnlbs]/.test(t[0])&&(e.type=t[0].toUpperCase().replace("N","L").replace("B","C"));for(let r=t.length-!(t.length&1),n=1;n<r;n+=2)e.points.push({x:t[n]*1,y:t[n+1]*1});return e}function hj(t){return!(!t.points.length||!t.type||/C|S/.test(t.type)&&t.points.length<3)}function gj(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;return[].concat(...t.map(({points:a})=>a)).forEach(({x:a,y:s})=>{e=Math.min(e,a),r=Math.min(r,s),n=Math.max(n,a),i=Math.max(i,s)}),{minX:e,minY:r,width:n-e,height:i-r}}function mj(t,e,r){const n=[],i=[0,.6666666666666666,.3333333333333333,0],a=[0,1/3,2/3,0],s=[0,1/6,2/3,1/6],u=(f,g)=>f[0]*g[0]+f[1]*g[1]+f[2]*g[2]+f[3]*g[3];let c=[t[t.length-1].x,t[0].x,t[1].x,t[2].x],h=[t[t.length-1].y,t[0].y,t[1].y,t[2].y];n.push({type:e==="M"?"M":"L",points:[{x:u(s,c),y:u(s,h)}]});for(let f=3;f<t.length;f++)c=[t[f-3].x,t[f-2].x,t[f-1].x,t[f].x],h=[t[f-3].y,t[f-2].y,t[f-1].y,t[f].y],n.push({type:"C",points:[{x:u(i,c),y:u(i,h)},{x:u(a,c),y:u(a,h)},{x:u(s,c),y:u(s,h)}]});if(r==="L"||r==="C"){const f=t[t.length-1];n.push({type:"L",points:[{x:f.x,y:f.y}]})}return n}function vj(t){return t.map(({type:e,points:r})=>e+r.map(({x:n,y:i})=>`${n},${i}`).join(",")).join("")}function NP(t){const e=[];let r=0;for(;r<t.length;){const i=t[r],a=pj(i);if(hj(a)){if(a.type==="S"){const{x:s,y:u}=(e[r-1]||{points:[{x:0,y:0}]}).points.slice(-1)[0];a.points.unshift({x:s,y:u})}r&&(a.prev=e[r-1].type,e[r-1].next=a.type),e.push(a),r++}else{if(r&&e[r-1].type==="S"){const s={p:a.points,c:e[r-1].points.slice(0,3)};e[r-1].points=e[r-1].points.concat((s[i[0]]||[]).map(({x:u,y:c})=>({x:u,y:c})))}t.splice(r,1)}}const n=[].concat(...e.map(({type:i,points:a,prev:s,next:u})=>i==="S"?mj(a,s,u):{type:i,points:a}));return Ja({instructions:n,d:vj(n)},gj(e))}const yj=["fs","clip","c1","c2","c3","c4","a1","a2","a3","a4","alpha","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"];function Ua(t,e,r={}){let n=t[e];if(n===void 0)return null;if(e==="pos"||e==="org")return n.length===2?{[e]:{x:n[0],y:n[1]}}:null;if(e==="move"){const[i,a,s,u,c=0,h=0]=n;return n.length===4||n.length===6?{move:{x1:i,y1:a,x2:s,y2:u,t1:c,t2:h}}:null}if(e==="fad"||e==="fade"){if(n.length===2){const[i,a]=n;return{fade:{type:"fad",t1:i,t2:a}}}if(n.length===7){const[i,a,s,u,c,h,f]=n;return{fade:{type:"fade",a1:i,a2:a,a3:s,t1:u,t2:c,t3:h,t4:f}}}return null}if(e==="clip"){const{inverse:i,scale:a,drawing:s,dots:u}=n;if(s)return{clip:{inverse:i,scale:a,drawing:NP(s),dots:u}};if(u){const[c,h,f,g]=u;return{clip:{inverse:i,scale:a,drawing:s,dots:{x1:c,y1:h,x2:f,y2:g}}}}return null}if(/^[xy]?(bord|shad)$/.test(e)&&(n=Math.max(n,0)),e==="bord")return{xbord:n,ybord:n};if(e==="shad")return{xshad:n,yshad:n};if(/^c\d$/.test(e))return{[e]:n||r[e]};if(e==="alpha")return{a1:n,a2:n,a3:n,a4:n};if(e==="fr")return{frz:n};if(e==="fs")return{fs:/^\+|-/.test(n)?(n*1>-10?1+n/10:1)*r.fs:n*1};if(e==="K")return{kf:n};if(e==="t"){const{t1:i,accel:a,tags:s}=n,u=n.t2||(r.end-r.start)*1e3,c={};return s.forEach(h=>{const f=Object.keys(h)[0];~yj.indexOf(f)&&!(f==="clip"&&!h[f].dots)&&Ja(c,Ua(h,f,r))}),{t:{t1:i,t2:u,accel:a,tag:c}}}return{[e]:n}}const bj=[null,1,2,3,null,7,8,9,null,4,5,6],xj=["r","a","an","pos","org","move","fade","fad","clip"];function wj(t){return JSON.parse(JSON.stringify(Ja({},t,{k:void 0,kf:void 0,ko:void 0,kt:void 0})))}function Sj({styles:t,style:e,parsed:r,start:n,end:i}){let a,s,u,c,h,f;const g=[];let p={style:e,fragments:[]},y={};for(let b=0;b<r.length;b++){const{tags:v,text:S,drawing:x}=r[b];let k;for(let R=0;R<v.length;R++){const _=v[R];k=_.r===void 0?k:_.r}const C={tag:k===void 0?wj(y):{},text:S,drawing:x.length?NP(x):null};for(let R=0;R<v.length;R++){const _=v[R];a=a||bj[_.a||0]||_.an,s=s||Ua(_,"pos"),u=u||Ua(_,"org"),c=c||Ua(_,"move"),h=h||Ua(_,"fade")||Ua(_,"fad"),f=Ua(_,"clip")||f;const T=Object.keys(_)[0];if(T&&!~xj.indexOf(T)){const O=t[e].tag,{c1:D,c2:j,c3:F,c4:M}=O,z=y.fs||O.fs,I=Ua(_,T,{start:n,end:i,c1:D,c2:j,c3:F,c4:M,fs:z});T==="t"?(C.tag.t=C.tag.t||[],C.tag.t.push(I.t)):Ja(C.tag,I)}}if(y=C.tag,k!==void 0&&(g.push(p),p={style:t[k]?k:e,fragments:[]}),C.text||C.drawing){const R=p.fragments[p.fragments.length-1]||{};R.text&&C.text&&!Object.keys(C.tag).length?R.text+=C.text:p.fragments.push(C)}}return g.push(p),Ja({alignment:a,slices:g},s,u,c,h,f)}function kj({styles:t,dialogues:e}){let r=1/0;const n=[];for(let i=0;i<e.length;i++){const a=e[i];if(a.Start>=a.End)continue;t[a.Style]||(a.Style="Default");const s=t[a.Style].style,u=Sj({styles:t,style:a.Style,parsed:a.Text.parsed,start:a.Start,end:a.End}),c=u.alignment||s.Alignment;r=Math.min(r,a.Layer),n.push(Ja({layer:a.Layer,start:a.Start,end:a.End,style:a.Style,name:a.Name,margin:{left:a.MarginL||s.MarginL,right:a.MarginR||s.MarginR,vertical:a.MarginV||s.MarginV},effect:a.Effect},u,{alignment:c}))}for(let i=0;i<n.length;i++)n[i].layer-=r;return n.sort((i,a)=>i.start-a.start||i.end-a.end)}const Cj={Name:"Default",Fontname:"Arial",Fontsize:"20",PrimaryColour:"&H00FFFFFF&",SecondaryColour:"&H000000FF&",OutlineColour:"&H00000000&",BackColour:"&H00000000&",Bold:"0",Italic:"0",Underline:"0",StrikeOut:"0",ScaleX:"100",ScaleY:"100",Spacing:"0",Angle:"0",BorderStyle:"1",Outline:"2",Shadow:"2",Alignment:"2",MarginL:"10",MarginR:"10",MarginV:"10",Encoding:"1"};function rf(t){if(/^(&|H|&H)[0-9a-f]{6,}/i.test(t)){const[,r,n]=t.match(/&?H?([0-9a-f]{2})?([0-9a-f]{6})/i);return[r||"00",n]}const e=parseInt(t,10);if(!Number.isNaN(e)){if(e<-2147483648)return["00","000000"];const i=-2147483648<=e&&e<=2147483647?`00000000${(e<0?e+4294967296:e).toString(16)}`.slice(-8):String(e).slice(0,8);return[i.slice(0,2),i.slice(2)]}return["00","000000"]}function Ej({info:t,style:e,defaultStyle:r}){const n={},i=[Ja({},Cj,r,{Name:"Default"})].concat(e);for(let a=0;a<i.length;a++){const s=i[a];/^(\*+)Default$/.test(s.Name)&&(s.Name="Default"),Object.keys(s).forEach(S=>{S!=="Name"&&S!=="Fontname"&&!/Colour/.test(S)&&(s[S]*=1)});const[u,c]=rf(s.PrimaryColour),[h,f]=rf(s.SecondaryColour),[g,p]=rf(s.OutlineColour),[y,b]=rf(s.BackColour),v={fn:s.Fontname,fs:s.Fontsize,c1:c,a1:u,c2:f,a2:h,c3:p,a3:g,c4:b,a4:y,b:Math.abs(s.Bold),i:Math.abs(s.Italic),u:Math.abs(s.Underline),s:Math.abs(s.StrikeOut),fscx:s.ScaleX,fscy:s.ScaleY,fsp:s.Spacing,frz:s.Angle,xbord:s.Outline,ybord:s.Outline,xshad:s.Shadow,yshad:s.Shadow,fe:s.Encoding,q:/^[0-3]$/.test(t.WrapStyle)?t.WrapStyle*1:2};n[s.Name]={style:s,tag:v}}return n}function _j(t,e={}){const r=fj(t),n=Ej({info:r.info,style:r.styles.style,defaultStyle:e.defaultStyle||{}});return{info:r.info,width:r.info.PlayResX*1||null,height:r.info.PlayResY*1||null,collisions:r.info.Collisions||"Normal",styles:n,dialogues:kj({styles:n,dialogues:r.events.dialogue})}}class bS{constructor(e){Il(this,"endOfLine",`\r
`);Il(this,"numericTimestamps",!1);e!=null&&(this.endOfLine=e.endOfLine??`\r
`,this.numericTimestamps=e.numericTimestamps??!1)}timestampToSeconds(e){const[r,n]=e.split(","),i=parseInt(n),[a,s,u]=r.split(":").map(h=>parseInt(h)),c=i*.001+u+60*s+3600*a;return Math.round(c*1e3)/1e3}secondsToTimestamp(e){const r=new Date(0,0,0,0,0,0,e),n=r.getHours(),i=r.getMinutes(),a=r.getSeconds(),s=Math.floor(e-(n*36e5+i*6e4+a*1e3));function u(c,h=2){return c.toString().padStart(h,"0")}return`${u(n)}:${u(i)}:${u(a)},${u(s,3)}`}correctFormat(e){const r=e.replace(".",","),[n,i]=r.split(","),a=this.fixedStrDigit(3,i),[s,u,c]=n.split(":"),h=this.fixedStrDigit(2,s,!1),f=this.fixedStrDigit(2,u,!1),g=this.fixedStrDigit(2,c,!1);return`${h}:${f}:${g},${a}`}fixedStrDigit(e,r,n=!0){return r.length===e?r:r.length>e?r.slice(0,e):n?r.padEnd(e,"0"):r.padStart(e,"0")}tryComma(e){e=e.replace(/\r/g,"");const r=/(\d+)\n(\d{1,2}:\d{2}:\d{2},\d{1,3}) --> (\d{1,2}:\d{2}:\d{2},\d{1,3})/g,n=e.split(r);return n.shift(),n}tryDot(e){e=e.replace(/\r/g,"");const r=/(\d+)\n(\d{1,2}:\d{2}:\d{2}\.\d{1,3}) --> (\d{1,2}:\d{2}:\d{2}\.\d{1,3})/g,n=e.split(r);return n.shift(),n}fromSrt(e){const r=e;let n=this.tryComma(r);n.length===0&&(n=this.tryDot(r));const i=[];for(let a=0;a<n.length;a+=4){let s=this.correctFormat(n[a+1].trim()),u=this.correctFormat(n[a+2].trim());this.numericTimestamps&&(s=this.timestampToSeconds(s),u=this.timestampToSeconds(u));const c={id:n[a].trim(),startTime:s,endTime:u,text:n[a+3].trim()};i.push(c)}return i}toSrt(e){const r=this.endOfLine;let n="";for(let i=0;i<e.length;i++){const a=e[i];let s=a.startTime,u=a.endTime;typeof s=="number"&&(s=this.secondsToTimestamp(s)),typeof u=="number"&&(u=this.secondsToTimestamp(u)),n+=a.id+r+s+" --> "+u+r+a.text.replace(`
`,r)+r+r}return n}}var Im={},xS;function Pj(){return xS||(xS=1,function(t){function e(I,$){return $===void 0&&($=1),"rgba("+[parseInt(I.substring(0,2),16),parseInt(I.substring(2,4),16),parseInt(I.substring(4,6),16),$].join(",")+")"}var r=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"],n=1;function i(I,$,K){switch(K){case"webvtt.font.color":case"webvtt.font.opacity":var U=Services.prefs.getCharPref("webvtt.font.color"),G=Services.prefs.getIntPref("webvtt.font.opacity")/100;a.fontSet=e(U,G);break;case"webvtt.font.scale":n=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var B=Services.prefs.getCharPref("webvtt.bg.color"),H=Services.prefs.getIntPref("webvtt.bg.opacity")/100;a.backgroundSet=e(B,H);break;case"webvtt.edge.color":case"webvtt.edge.type":var N=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "],L=Services.prefs.getIntPref("webvtt.edge.type"),W=Services.prefs.getCharPref("webvtt.edge.color");a.edgeSet=N[L]+e(W);break}}if(typeof Services<"u"){var a={};r.forEach(function(I){i(void 0,void 0,I),Services.prefs.addObserver(I,i,!1)})}var s=Object.create||function(){function I(){}return function($){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return I.prototype=$,new I}}();function u(I,$){this.name="ParsingError",this.code=I.code,this.message=$||I.message}u.prototype=s(Error.prototype),u.prototype.constructor=u,u.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function c(I){function $(U,G,B,H){return(U|0)*3600+(G|0)*60+(B|0)+(H|0)/1e3}var K=I.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return K?K[3]?$(K[1],K[2],K[3].replace(":",""),K[4]):K[1]>59?$(K[1],K[2],0,K[4]):$(0,K[1],K[2],K[4]):null}function h(){this.values=s(null)}h.prototype={set:function(I,$){!this.get(I)&&$!==""&&(this.values[I]=$)},get:function(I,$,K){return K?this.has(I)?this.values[I]:$[K]:this.has(I)?this.values[I]:$},has:function(I){return I in this.values},alt:function(I,$,K){for(var U=0;U<K.length;++U)if($===K[U]){this.set(I,$);break}},integer:function(I,$){/^-?\d+$/.test($)&&this.set(I,parseInt($,10))},percent:function(I,$){return $.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&($=parseFloat($),$>=0&&$<=100)?(this.set(I,$),!0):!1}};function f(I,$,K,U){var G=U?I.split(U):[I];for(var B in G)if(typeof G[B]=="string"){var H=G[B].split(K);if(H.length===2){var N=H[0],L=H[1];$(N,L)}}}function g(I,$,K){var U=I;function G(){var N=c(I);if(N===null)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+U);return I=I.replace(/^[^\sa-zA-Z-]+/,""),N}function B(N,L){var W=new h;f(N,function(X,Y){switch(X){case"region":for(var ce=K.length-1;ce>=0;ce--)if(K[ce].id===Y){W.set(X,K[ce].region);break}break;case"vertical":W.alt(X,Y,["rl","lr"]);break;case"line":var ee=Y.split(","),fe=ee[0];W.integer(X,fe),W.percent(X,fe)&&W.set("snapToLines",!1),W.alt(X,fe,["auto"]),ee.length===2&&W.alt("lineAlign",ee[1],["start","middle","end"]);break;case"position":ee=Y.split(","),W.percent(X,ee[0]),ee.length===2&&W.alt("positionAlign",ee[1],["start","middle","end"]);break;case"size":W.percent(X,Y);break;case"align":W.alt(X,Y,["start","middle","end","left","right"]);break}},/:/,/\s/),L.region=W.get("region",null),L.vertical=W.get("vertical",""),L.line=W.get("line","auto"),L.lineAlign=W.get("lineAlign","start"),L.snapToLines=W.get("snapToLines",!0),L.size=W.get("size",100),L.align=W.get("align","middle"),L.position=W.get("position","auto"),L.positionAlign=W.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},L.align)}function H(){I=I.replace(/^\s+/,"")}if(H(),$.startTime=G(),H(),I.substr(0,3)!=="-->")throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+U);I=I.substr(3),H(),$.endTime=G(),H(),B(I,$)}var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},y={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b={v:"title",lang:"lang"},v={rt:"ruby"};function S(I,$){function K(){if(!$)return null;function fe(de){return $=$.substr(de.length),de}var le=$.match(/^([^<]*)(<[^>]+>?)?/);return fe(le[1]?le[1]:le[2])}function U(fe){return p[fe]}function G(fe){for(;ee=fe.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)fe=fe.replace(ee[0],U);return fe}function B(fe,le){return!v[le.localName]||v[le.localName]===fe.localName}function H(fe,le){var de=y[fe];if(!de)return null;var pe=I.document.createElement(de);pe.localName=de;var he=b[fe];return he&&le&&(pe[he]=le.trim()),pe}for(var N=I.document.createElement("div"),L=N,W,X=[];(W=K())!==null;){if(W[0]==="<"){if(W[1]==="/"){X.length&&X[X.length-1]===W.substr(2).replace(">","")&&(X.pop(),L=L.parentNode);continue}var Y=c(W.substr(1,W.length-2)),ce;if(Y){ce=I.document.createProcessingInstruction("timestamp",Y),L.appendChild(ce);continue}var ee=W.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ee||(ce=H(ee[1],ee[3]),!ce)||!B(L,ce))continue;ee[2]&&(ce.className=ee[2].substr(1).replace("."," ")),X.push(ee[1]),L.appendChild(ce),L=ce;continue}L.appendChild(I.document.createTextNode(G(W)))}return N}var x=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function k(I){for(var $=0;$<x.length;$++){var K=x[$];if(I>=K[0]&&I<=K[1])return!0}return!1}function C(I){var $=[],K="",U;if(!I||!I.childNodes)return"ltr";function G(N,L){for(var W=L.childNodes.length-1;W>=0;W--)N.push(L.childNodes[W])}function B(N){if(!N||!N.length)return null;var L=N.pop(),W=L.textContent||L.innerText;if(W){var X=W.match(/^.*(\n|\r)/);return X?(N.length=0,X[0]):W}if(L.tagName==="ruby")return B(N);if(L.childNodes)return G(N,L),B(N)}for(G($,I);K=B($);)for(var H=0;H<K.length;H++)if(U=K.charCodeAt(H),k(U))return"rtl";return"ltr"}function R(I){if(typeof I.line=="number"&&(I.snapToLines||I.line>=0&&I.line<=100))return I.line;if(!I.track||!I.track.textTrackList||!I.track.textTrackList.mediaElement)return-1;for(var $=I.track,K=$.textTrackList,U=0,G=0;G<K.length&&K[G]!==$;G++)K[G].mode==="showing"&&U++;return++U*-1}function _(){}_.prototype.applyStyles=function(I,$){$=$||this.div;for(var K in I)I.hasOwnProperty(K)&&($.style[K]=I[K])},_.prototype.formatStyle=function(I,$){return I===0?0:I+$};function T(I,$,K){var U=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),G="rgba(255, 255, 255, 1)",B="rgba(0, 0, 0, 0.8)",H="";typeof a<"u"&&(G=a.fontSet,B=a.backgroundSet,H=a.edgeSet),U&&(G="rgb(255, 255, 255)",B="rgb(0, 0, 0)"),_.call(this),this.cue=$,this.cueDiv=S(I,$.text);var N={color:G,backgroundColor:B,textShadow:H,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};U||(N.writingMode=$.vertical===""?"horizontal-tb":$.vertical==="lr"?"vertical-lr":"vertical-rl",N.unicodeBidi="plaintext"),this.applyStyles(N,this.cueDiv),this.div=I.document.createElement("div"),N={textAlign:$.align==="middle"?"center":$.align,font:K.font,whiteSpace:"pre-line",position:"absolute"},U||(N.direction=C(this.cueDiv),N.writingMode=$.vertical===""?"horizontal-tb":$.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(N),this.div.appendChild(this.cueDiv);var L=0;switch($.positionAlign){case"start":L=$.position;break;case"middle":L=$.position-$.size/2;break;case"end":L=$.position-$.size;break}$.vertical===""?this.applyStyles({left:this.formatStyle(L,"%"),width:this.formatStyle($.size,"%")}):this.applyStyles({top:this.formatStyle(L,"%"),height:this.formatStyle($.size,"%")}),this.move=function(W){this.applyStyles({top:this.formatStyle(W.top,"px"),bottom:this.formatStyle(W.bottom,"px"),left:this.formatStyle(W.left,"px"),right:this.formatStyle(W.right,"px"),height:this.formatStyle(W.height,"px"),width:this.formatStyle(W.width,"px")})}}T.prototype=s(_.prototype),T.prototype.constructor=T;function O(I){var $=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),K,U,G,B;if(I.div){U=I.div.offsetHeight,G=I.div.offsetWidth,B=I.div.offsetTop;var H=(H=I.div.childNodes)&&(H=H[0])&&H.getClientRects&&H.getClientRects();I=I.div.getBoundingClientRect(),K=H?Math.max(H[0]&&H[0].height||0,I.height/H.length):0}this.left=I.left,this.right=I.right,this.top=I.top||B,this.height=I.height||U,this.bottom=I.bottom||B+(I.height||U),this.width=I.width||G,this.lineHeight=K!==void 0?K:I.lineHeight,$&&!this.lineHeight&&(this.lineHeight=13)}O.prototype.move=function(I,$){switch($=$!==void 0?$:this.lineHeight,I){case"+x":this.left+=$,this.right+=$;break;case"-x":this.left-=$,this.right-=$;break;case"+y":this.top+=$,this.bottom+=$;break;case"-y":this.top-=$,this.bottom-=$;break}},O.prototype.overlaps=function(I){return this.left<I.right&&this.right>I.left&&this.top<I.bottom&&this.bottom>I.top},O.prototype.overlapsAny=function(I){for(var $=0;$<I.length;$++)if(this.overlaps(I[$]))return!0;return!1},O.prototype.within=function(I){return this.top>=I.top&&this.bottom<=I.bottom&&this.left>=I.left&&this.right<=I.right},O.prototype.overlapsOppositeAxis=function(I,$){switch($){case"+x":return this.left<I.left;case"-x":return this.right>I.right;case"+y":return this.top<I.top;case"-y":return this.bottom>I.bottom}},O.prototype.intersectPercentage=function(I){var $=Math.max(0,Math.min(this.right,I.right)-Math.max(this.left,I.left)),K=Math.max(0,Math.min(this.bottom,I.bottom)-Math.max(this.top,I.top)),U=$*K;return U/(this.height*this.width)},O.prototype.toCSSCompatValues=function(I){return{top:this.top-I.top,bottom:I.bottom-this.bottom,left:this.left-I.left,right:I.right-this.right,height:this.height,width:this.width}},O.getSimpleBoxPosition=function(I){var $=I.div?I.div.offsetHeight:I.tagName?I.offsetHeight:0,K=I.div?I.div.offsetWidth:I.tagName?I.offsetWidth:0,U=I.div?I.div.offsetTop:I.tagName?I.offsetTop:0;I=I.div?I.div.getBoundingClientRect():I.tagName?I.getBoundingClientRect():I;var G={left:I.left,right:I.right,top:I.top||U,height:I.height||$,bottom:I.bottom||U+(I.height||$),width:I.width||K};return G};function D(I,$,K,U){function G(de,pe){for(var he,ke=new O(de),Re=1,_e=0;_e<pe.length;_e++){for(;de.overlapsOppositeAxis(K,pe[_e])||de.within(K)&&de.overlapsAny(U);)de.move(pe[_e]);if(de.within(K))return de;var et=de.intersectPercentage(K);Re>et&&(he=new O(de),Re=et),de=new O(ke)}return he||ke}var B=new O($),H=$.cue,N=R(H),L=[];if(H.snapToLines){var W;switch(H.vertical){case"":L=["+y","-y"],W="height";break;case"rl":L=["+x","-x"],W="width";break;case"lr":L=["-x","+x"],W="width";break}var X=B.lineHeight,Y=X*Math.round(N),ce=K[W]+X,ee=L[0];Math.abs(Y)>ce&&(Y=Y<0?-1:1,Y*=Math.ceil(ce/X)*X),N<0&&(Y+=H.vertical===""?K.height:K.width,L=L.reverse()),B.move(ee,Y)}else{var fe=B.lineHeight/K.height*100;switch(H.lineAlign){case"middle":N-=fe/2;break;case"end":N-=fe;break}switch(H.vertical){case"":$.applyStyles({top:$.formatStyle(N,"%")});break;case"rl":$.applyStyles({left:$.formatStyle(N,"%")});break;case"lr":$.applyStyles({right:$.formatStyle(N,"%")});break}L=["+y","-x","+x","-y"],B=new O($)}var le=G(B,L);$.move(le.toCSSCompatValues(K))}function j(){}j.StringDecoder=function(){return{decode:function(I){if(!I)return"";if(typeof I!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(I))}}},j.convertCueToDOMTree=function(I,$){return!I||!$?null:S(I,$)};var F=.05,M="sans-serif",z="1.5%";j.processCues=function(I,$,K){if(!I||!$||!K)return null;for(;K.firstChild;)K.removeChild(K.firstChild);var U=I.document.createElement("div");U.style.position="absolute",U.style.left="0",U.style.right="0",U.style.top="0",U.style.bottom="0",U.style.margin=z,K.appendChild(U);function G(X){for(var Y=0;Y<X.length;Y++)if(X[Y].hasBeenReset||!X[Y].displayState)return!0;return!1}if(!G($)){for(var B=0;B<$.length;B++)U.appendChild($[B].displayState);return}var H=[],N=O.getSimpleBoxPosition(U),L=Math.round(N.height*F*100)/100,W={font:L*n+"px "+M};(function(){for(var X,Y,ce=0;ce<$.length;ce++)Y=$[ce],X=new T(I,Y,W),U.appendChild(X.div),D(I,X,N,H),Y.displayState=X.div,H.push(O.getSimpleBoxPosition(X))})()},j.Parser=function(I,$){this.window=I,this.state="INITIAL",this.buffer="",this.decoder=$||new TextDecoder("utf8"),this.regionList=[]},j.Parser.prototype={reportOrThrowError:function(I){if(I instanceof u)this.onparsingerror&&this.onparsingerror(I);else throw I},parse:function(I){var $=this;I&&($.buffer+=$.decoder.decode(I,{stream:!0}));function K(){for(var W=$.buffer,X=0;X<W.length&&W[X]!=="\r"&&W[X]!==`
`;)++X;var Y=W.substr(0,X);return W[X]==="\r"&&++X,W[X]===`
`&&++X,$.buffer=W.substr(X),Y}function U(W){var X=new h;if(f(W,function(ce,ee){switch(ce){case"id":X.set(ce,ee);break;case"width":X.percent(ce,ee);break;case"lines":X.integer(ce,ee);break;case"regionanchor":case"viewportanchor":var fe=ee.split(",");if(fe.length!==2)break;var le=new h;if(le.percent("x",fe[0]),le.percent("y",fe[1]),!le.has("x")||!le.has("y"))break;X.set(ce+"X",le.get("x")),X.set(ce+"Y",le.get("y"));break;case"scroll":X.alt(ce,ee,["up"]);break}},/=/,/\s/),X.has("id")){var Y=new $.window.VTTRegion;Y.width=X.get("width",100),Y.lines=X.get("lines",3),Y.regionAnchorX=X.get("regionanchorX",0),Y.regionAnchorY=X.get("regionanchorY",100),Y.viewportAnchorX=X.get("viewportanchorX",0),Y.viewportAnchorY=X.get("viewportanchorY",100),Y.scroll=X.get("scroll",""),$.onregion&&$.onregion(Y),$.regionList.push({id:X.get("id"),region:Y})}}function G(W){f(W,function(X,Y){switch(X){case"Region":U(Y);break}},/:/)}try{var B;if($.state==="INITIAL"){if(!/\r\n|\n/.test($.buffer))return this;B=K();var H=B.match(/^WEBVTT([ \t].*)?$/);if(!H||!H[0])throw new u(u.Errors.BadSignature);$.state="HEADER"}for(var N=!1;$.buffer;){if(!/\r\n|\n/.test($.buffer))return this;switch(N?N=!1:B=K(),$.state){case"HEADER":/:/.test(B)?G(B):B||($.state="ID");continue;case"NOTE":B||($.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(B)){$.state="NOTE";break}if(!B)continue;if($.cue=new $.window.VTTCue(0,0,""),$.state="CUE",B.indexOf("-->")===-1){$.cue.id=B;continue}case"CUE":try{g(B,$.cue,$.regionList)}catch(W){$.reportOrThrowError(W),$.cue=null,$.state="BADCUE";continue}$.state="CUETEXT";continue;case"CUETEXT":var L=B.indexOf("-->")!==-1;if(!B||L&&(N=!0)){$.oncue&&$.oncue($.cue),$.cue=null,$.state="ID";continue}$.cue.text&&($.cue.text+=`
`),$.cue.text+=B;continue;case"BADCUE":B||($.state="ID");continue}}}catch(W){$.reportOrThrowError(W),$.state==="CUETEXT"&&$.cue&&$.oncue&&$.oncue($.cue),$.cue=null,$.state=$.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var I=this;try{if(I.buffer+=I.decoder.decode(),(I.cue||I.state==="HEADER")&&(I.buffer+=`

`,I.parse()),I.state==="INITIAL")throw new u(u.Errors.BadSignature)}catch($){I.reportOrThrowError($)}return I.onflush&&I.onflush(),this}},t.WebVTT=j}(Im)),Im}var Af={exports:{}},Nm={},wS;function Tj(){return wS||(wS=1,function(t){var e="auto",r={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(c){if(typeof c!="string")return!1;var h=r[c.toLowerCase()];return h?c.toLowerCase():!1}function a(c){if(typeof c!="string")return!1;var h=n[c.toLowerCase()];return h?c.toLowerCase():!1}function s(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var g in f)c[g]=f[g]}return c}function u(c,h,f){var g=this,p=/MSIE\s8\.0/.test(navigator.userAgent),y={};p?g=document.createElement("custom"):y.enumerable=!0,g.hasBeenReset=!1;var b="",v=!1,S=c,x=h,k=f,C=null,R="",_=!0,T="auto",O="start",D=50,j="middle",F=50,M="middle";if(Object.defineProperty(g,"id",s({},y,{get:function(){return b},set:function(z){b=""+z}})),Object.defineProperty(g,"pauseOnExit",s({},y,{get:function(){return v},set:function(z){v=!!z}})),Object.defineProperty(g,"startTime",s({},y,{get:function(){return S},set:function(z){if(typeof z!="number")throw new TypeError("Start time must be set to a number.");S=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"endTime",s({},y,{get:function(){return x},set:function(z){if(typeof z!="number")throw new TypeError("End time must be set to a number.");x=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"text",s({},y,{get:function(){return k},set:function(z){k=""+z,this.hasBeenReset=!0}})),Object.defineProperty(g,"region",s({},y,{get:function(){return C},set:function(z){C=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"vertical",s({},y,{get:function(){return R},set:function(z){var I=i(z);if(I===!1)throw new SyntaxError("An invalid or illegal string was specified.");R=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"snapToLines",s({},y,{get:function(){return _},set:function(z){_=!!z,this.hasBeenReset=!0}})),Object.defineProperty(g,"line",s({},y,{get:function(){return T},set:function(z){if(typeof z!="number"&&z!==e)throw new SyntaxError("An invalid number or illegal string was specified.");T=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"lineAlign",s({},y,{get:function(){return O},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");O=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"position",s({},y,{get:function(){return D},set:function(z){if(z<0||z>100)throw new Error("Position must be between 0 and 100.");D=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"positionAlign",s({},y,{get:function(){return j},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");j=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"size",s({},y,{get:function(){return F},set:function(z){if(z<0||z>100)throw new Error("Size must be between 0 and 100.");F=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"align",s({},y,{get:function(){return M},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");M=I,this.hasBeenReset=!0}})),g.displayState=void 0,p)return g}u.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||u}(Nm)),Nm}var Fm=Af.exports,SS;function Rj(){return SS||(SS=1,function(t){t.exports&&(Fm.VTTCue=Fm.VTTCue||Tj().VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var r={},n=this;return Object.keys(this).forEach(function(i){i!=="getCueAsHTML"&&i!=="hasBeenReset"&&i!=="displayState"&&(r[i]=n[i])}),r},e.VTTCue.create=function(r){if(!r.hasOwnProperty("startTime")||!r.hasOwnProperty("endTime")||!r.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(r.startTime,r.endTime,r.text);for(var i in r)n.hasOwnProperty(i)&&(n[i]=r[i]);return n},e.VTTCue.fromJSON=function(r){return this.create(JSON.parse(r))}}(Fm)}(Af)),Af.exports}var If={exports:{}},Mm={},kS;function Oj(){return kS||(kS=1,function(t){var e={"":!0,up:!0};function r(a){if(typeof a!="string")return!1;var s=e[a.toLowerCase()];return s?a.toLowerCase():!1}function n(a){return typeof a=="number"&&a>=0&&a<=100}function i(){var a=100,s=3,u=0,c=100,h=0,f=100,g="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(p){if(!n(p))throw new Error("Width must be between 0 and 100.");a=p}},lines:{enumerable:!0,get:function(){return s},set:function(p){if(typeof p!="number")throw new TypeError("Lines must be set to a number.");s=p}},regionAnchorY:{enumerable:!0,get:function(){return c},set:function(p){if(!n(p))throw new Error("RegionAnchorX must be between 0 and 100.");c=p}},regionAnchorX:{enumerable:!0,get:function(){return u},set:function(p){if(!n(p))throw new Error("RegionAnchorY must be between 0 and 100.");u=p}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(p){if(!n(p))throw new Error("ViewportAnchorY must be between 0 and 100.");f=p}},viewportAnchorX:{enumerable:!0,get:function(){return h},set:function(p){if(!n(p))throw new Error("ViewportAnchorX must be between 0 and 100.");h=p}},scroll:{enumerable:!0,get:function(){return g},set:function(p){var y=r(p);if(y===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=y}}})}t.VTTRegion=t.VTTRegion||i}(Mm)),Mm}var CS=If.exports,ES;function Aj(){return ES||(ES=1,function(t){t.exports&&(CS.VTTRegion=Oj().VTTRegion),function(e){e.VTTRegion.create=function(r){var n=new e.VTTRegion;for(var i in r)n.hasOwnProperty(i)&&(n[i]=r[i]);return n},e.VTTRegion.fromJSON=function(r){return this.create(JSON.parse(r))}}(CS)}(If)),If.exports}var jm,_S;function Ij(){return _S||(_S=1,jm={WebVTT:Pj().WebVTT,VTTCue:Rj().VTTCue,VTTRegion:Aj().VTTRegion}),jm}var PS=Ij(),$m={},Lm={},TS;function FP(){return TS||(TS=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",i=new RegExp("^"+n+"$"),a=function(u,c){const h=[];let f=c.exec(u);for(;f;){const g=[];g.startIndex=c.lastIndex-f[0].length;const p=f.length;for(let y=0;y<p;y++)g.push(f[y]);h.push(g),f=c.exec(u)}return h},s=function(u){const c=i.exec(u);return!(c===null||typeof c>"u")};t.isExist=function(u){return typeof u<"u"},t.isEmptyObject=function(u){return Object.keys(u).length===0},t.merge=function(u,c,h){if(c){const f=Object.keys(c),g=f.length;for(let p=0;p<g;p++)h==="strict"?u[f[p]]=[c[f[p]]]:u[f[p]]=c[f[p]]}},t.getValue=function(u){return t.isExist(u)?u:""},t.isName=s,t.getAllMatches=a,t.nameRegexp=n}(Lm)),Lm}var RS;function MP(){if(RS)return $m;RS=1;const t=FP(),e={allowBooleanAttributes:!1,unpairedTags:[]};$m.validate=function(x,k){k=Object.assign({},e,k);const C=[];let R=!1,_=!1;x[0]==="\uFEFF"&&(x=x.substr(1));for(let T=0;T<x.length;T++)if(x[T]==="<"&&x[T+1]==="?"){if(T+=2,T=n(x,T),T.err)return T}else if(x[T]==="<"){let O=T;if(T++,x[T]==="!"){T=i(x,T);continue}else{let D=!1;x[T]==="/"&&(D=!0,T++);let j="";for(;T<x.length&&x[T]!==">"&&x[T]!==" "&&x[T]!=="	"&&x[T]!==`
`&&x[T]!=="\r";T++)j+=x[T];if(j=j.trim(),j[j.length-1]==="/"&&(j=j.substring(0,j.length-1),T--),!b(j)){let z;return j.trim().length===0?z="Invalid space after '<'.":z="Tag '"+j+"' is an invalid name.",p("InvalidTag",z,v(x,T))}const F=u(x,T);if(F===!1)return p("InvalidAttr","Attributes for '"+j+"' have open quote.",v(x,T));let M=F.value;if(T=F.index,M[M.length-1]==="/"){const z=T-M.length;M=M.substring(0,M.length-1);const I=h(M,k);if(I===!0)R=!0;else return p(I.err.code,I.err.msg,v(x,z+I.err.line))}else if(D)if(F.tagClosed){if(M.trim().length>0)return p("InvalidTag","Closing tag '"+j+"' can't have attributes or invalid starting.",v(x,O));{const z=C.pop();if(j!==z.tagName){let I=v(x,z.tagStartPos);return p("InvalidTag","Expected closing tag '"+z.tagName+"' (opened in line "+I.line+", col "+I.col+") instead of closing tag '"+j+"'.",v(x,O))}C.length==0&&(_=!0)}}else return p("InvalidTag","Closing tag '"+j+"' doesn't have proper closing.",v(x,T));else{const z=h(M,k);if(z!==!0)return p(z.err.code,z.err.msg,v(x,T-M.length+z.err.line));if(_===!0)return p("InvalidXml","Multiple possible root nodes found.",v(x,T));k.unpairedTags.indexOf(j)!==-1||C.push({tagName:j,tagStartPos:O}),R=!0}for(T++;T<x.length;T++)if(x[T]==="<")if(x[T+1]==="!"){T++,T=i(x,T);continue}else if(x[T+1]==="?"){if(T=n(x,++T),T.err)return T}else break;else if(x[T]==="&"){const z=g(x,T);if(z==-1)return p("InvalidChar","char '&' is not expected.",v(x,T));T=z}else if(_===!0&&!r(x[T]))return p("InvalidXml","Extra text at the end",v(x,T));x[T]==="<"&&T--}}else{if(r(x[T]))continue;return p("InvalidChar","char '"+x[T]+"' is not expected.",v(x,T))}if(R){if(C.length==1)return p("InvalidTag","Unclosed tag '"+C[0].tagName+"'.",v(x,C[0].tagStartPos));if(C.length>0)return p("InvalidXml","Invalid '"+JSON.stringify(C.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return p("InvalidXml","Start tag expected.",1);return!0};function r(x){return x===" "||x==="	"||x===`
`||x==="\r"}function n(x,k){const C=k;for(;k<x.length;k++)if(x[k]=="?"||x[k]==" "){const R=x.substr(C,k-C);if(k>5&&R==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",v(x,k));if(x[k]=="?"&&x[k+1]==">"){k++;break}else continue}return k}function i(x,k){if(x.length>k+5&&x[k+1]==="-"&&x[k+2]==="-"){for(k+=3;k<x.length;k++)if(x[k]==="-"&&x[k+1]==="-"&&x[k+2]===">"){k+=2;break}}else if(x.length>k+8&&x[k+1]==="D"&&x[k+2]==="O"&&x[k+3]==="C"&&x[k+4]==="T"&&x[k+5]==="Y"&&x[k+6]==="P"&&x[k+7]==="E"){let C=1;for(k+=8;k<x.length;k++)if(x[k]==="<")C++;else if(x[k]===">"&&(C--,C===0))break}else if(x.length>k+9&&x[k+1]==="["&&x[k+2]==="C"&&x[k+3]==="D"&&x[k+4]==="A"&&x[k+5]==="T"&&x[k+6]==="A"&&x[k+7]==="["){for(k+=8;k<x.length;k++)if(x[k]==="]"&&x[k+1]==="]"&&x[k+2]===">"){k+=2;break}}return k}const a='"',s="'";function u(x,k){let C="",R="",_=!1;for(;k<x.length;k++){if(x[k]===a||x[k]===s)R===""?R=x[k]:R!==x[k]||(R="");else if(x[k]===">"&&R===""){_=!0;break}C+=x[k]}return R!==""?!1:{value:C,index:k,tagClosed:_}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function h(x,k){const C=t.getAllMatches(x,c),R={};for(let _=0;_<C.length;_++){if(C[_][1].length===0)return p("InvalidAttr","Attribute '"+C[_][2]+"' has no space in starting.",S(C[_]));if(C[_][3]!==void 0&&C[_][4]===void 0)return p("InvalidAttr","Attribute '"+C[_][2]+"' is without value.",S(C[_]));if(C[_][3]===void 0&&!k.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+C[_][2]+"' is not allowed.",S(C[_]));const T=C[_][2];if(!y(T))return p("InvalidAttr","Attribute '"+T+"' is an invalid name.",S(C[_]));if(!R.hasOwnProperty(T))R[T]=1;else return p("InvalidAttr","Attribute '"+T+"' is repeated.",S(C[_]))}return!0}function f(x,k){let C=/\d/;for(x[k]==="x"&&(k++,C=/[\da-fA-F]/);k<x.length;k++){if(x[k]===";")return k;if(!x[k].match(C))break}return-1}function g(x,k){if(k++,x[k]===";")return-1;if(x[k]==="#")return k++,f(x,k);let C=0;for(;k<x.length;k++,C++)if(!(x[k].match(/\w/)&&C<20)){if(x[k]===";")break;return-1}return k}function p(x,k,C){return{err:{code:x,msg:k,line:C.line||C,col:C.col}}}function y(x){return t.isName(x)}function b(x){return t.isName(x)}function v(x,k){const C=x.substring(0,k).split(/\r?\n/);return{line:C.length,col:C[C.length-1].length+1}}function S(x){return x.startIndex+x[1].length}return $m}var nf={},OS;function Nj(){if(OS)return nf;OS=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(r,n){return n},attributeValueProcessor:function(r,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1},e=function(r){return Object.assign({},t,r)};return nf.buildOptions=e,nf.defaultOptions=t,nf}var Dm,AS;function Fj(){if(AS)return Dm;AS=1;class t{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,n){this.child.push({[r]:n})}addChild(r){r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,":@":r[":@"]}):this.child.push({[r.tagname]:r.child})}}return Dm=t,Dm}var Bm,IS;function Mj(){if(IS)return Bm;IS=1;function t(n,i){const a={};if(n[i+3]==="O"&&n[i+4]==="C"&&n[i+5]==="T"&&n[i+6]==="Y"&&n[i+7]==="P"&&n[i+8]==="E"){i=i+9;let s=1,u=!1,c=!1,h=!1,f="";for(;i<n.length;i++)if(n[i]==="<"){if(u&&n[i+1]==="!"&&n[i+2]==="E"&&n[i+3]==="N"&&n[i+4]==="T"&&n[i+5]==="I"&&n[i+6]==="T"&&n[i+7]==="Y")i+=7,c=!0;else if(u&&n[i+1]==="!"&&n[i+2]==="E"&&n[i+3]==="L"&&n[i+4]==="E"&&n[i+5]==="M"&&n[i+6]==="E"&&n[i+7]==="N"&&n[i+8]==="T")i+=8;else if(n[i+1]==="!"&&n[i+2]==="-"&&n[i+3]==="-")h=!0;else throw new Error("Invalid DOCTYPE");s++,f=""}else if(n[i]===">"){if(h)if(n[i-1]==="-"&&n[i-2]==="-")h=!1;else throw new Error("Invalid XML comment in DOCTYPE");else c&&(r(f,a),c=!1);if(s--,s===0)break}else n[i]==="["?u=!0:f+=n[i];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:a,i}}const e=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function r(n,i){const a=e.exec(n);a&&(i[a[1]]={regx:RegExp(`&${a[1]};`,"g"),val:a[3]})}return Bm=t,Bm}var zm,NS;function jj(){if(NS)return zm;NS=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function n(a,s={}){if(s=Object.assign({},r,s),!a||typeof a!="string")return a;let u=a.trim();if(s.skipLike!==void 0&&s.skipLike.test(u))return a;if(s.hex&&t.test(u))return Number.parseInt(u,16);{const c=e.exec(u);if(c){const h=c[1],f=c[2];let g=i(c[3]);const p=c[4]||c[6];if(!s.leadingZeros&&f.length>0&&h&&u[2]!==".")return a;if(!s.leadingZeros&&f.length>0&&!h&&u[1]!==".")return a;{const y=Number(u),b=""+y;return b.search(/[eE]/)!==-1||p?s.eNotation?y:a:u.indexOf(".")!==-1?b==="0"&&g===""||b===g||h&&b==="-"+g?y:a:f?g===b||h+g===b?y:a:u===b||u===h+b?y:a}}else return a}}function i(a){return a&&a.indexOf(".")!==-1&&(a=a.replace(/0+$/,""),a==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a}return zm=n,zm}var Vm,FS;function $j(){if(FS)return Vm;FS=1;const t=FP(),e=Fj(),r=Mj(),n=jj();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,t.nameRegexp);class i{constructor(R){this.options=R,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=a,this.parseXml=f,this.parseTextData=s,this.resolveNameSpace=u,this.buildAttributesMap=h,this.isItStopNode=y,this.replaceEntitiesValue=g,this.readStopNodeData=x,this.saveTextToParentTag=p}}function a(C){const R=Object.keys(C);for(let _=0;_<R.length;_++){const T=R[_];this.lastEntities[T]={regex:new RegExp("&"+T+";","g"),val:C[T]}}}function s(C,R,_,T,O,D,j){if(C!==void 0&&(this.options.trimValues&&!T&&(C=C.trim()),C.length>0)){j||(C=this.replaceEntitiesValue(C));const F=this.options.tagValueProcessor(R,C,_,O,D);return F==null?C:typeof F!=typeof C||F!==C?F:this.options.trimValues?k(C,this.options.parseTagValue,this.options.numberParseOptions):C.trim()===C?k(C,this.options.parseTagValue,this.options.numberParseOptions):C}}function u(C){if(this.options.removeNSPrefix){const R=C.split(":"),_=C.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(C=_+R[1])}return C}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function h(C,R){if(!this.options.ignoreAttributes&&typeof C=="string"){const _=t.getAllMatches(C,c),T=_.length,O={};for(let D=0;D<T;D++){const j=this.resolveNameSpace(_[D][1]);let F=_[D][4];const M=this.options.attributeNamePrefix+j;if(j.length)if(F!==void 0){this.options.trimValues&&(F=F.trim()),F=this.replaceEntitiesValue(F);const z=this.options.attributeValueProcessor(j,F,R);z==null?O[M]=F:typeof z!=typeof F||z!==F?O[M]=z:O[M]=k(F,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(O[M]=!0)}if(!Object.keys(O).length)return;if(this.options.attributesGroupName){const D={};return D[this.options.attributesGroupName]=O,D}return O}}const f=function(C){C=C.replace(/\r\n?/g,`
`);const R=new e("!xml");let _=R,T="",O="";for(let D=0;D<C.length;D++)if(C[D]==="<")if(C[D+1]==="/"){const F=v(C,">",D,"Closing Tag is not closed.");let M=C.substring(D+2,F).trim();if(this.options.removeNSPrefix){const z=M.indexOf(":");z!==-1&&(M=M.substr(z+1))}_&&(T=this.saveTextToParentTag(T,_,O)),O=O.substr(0,O.lastIndexOf(".")),_=this.tagsNodeStack.pop(),T="",D=F}else if(C[D+1]==="?"){let F=S(C,D,!1,"?>");if(!F)throw new Error("Pi Tag is not closed.");if(T=this.saveTextToParentTag(T,_,O),!(this.options.ignoreDeclaration&&F.tagName==="?xml"||this.options.ignorePiTags)){const M=new e(F.tagName);M.add(this.options.textNodeName,""),F.tagName!==F.tagExp&&F.attrExpPresent&&(M[":@"]=this.buildAttributesMap(F.tagExp,O)),_.addChild(M)}D=F.closeIndex+1}else if(C.substr(D+1,3)==="!--"){const F=v(C,"-->",D+4,"Comment is not closed.");if(this.options.commentPropName){const M=C.substring(D+4,F-2);T=this.saveTextToParentTag(T,_,O),_.add(this.options.commentPropName,[{[this.options.textNodeName]:M}])}D=F}else if(C.substr(D+1,2)==="!D"){const F=r(C,D);this.docTypeEntities=F.entities,D=F.i}else if(C.substr(D+1,2)==="!["){const F=v(C,"]]>",D,"CDATA is not closed.")-2,M=C.substring(D+9,F);if(T=this.saveTextToParentTag(T,_,O),this.options.cdataPropName)_.add(this.options.cdataPropName,[{[this.options.textNodeName]:M}]);else{let z=this.parseTextData(M,_.tagname,O,!0,!1,!0);z||(z=""),_.add(this.options.textNodeName,z)}D=F+2}else{let F=S(C,D,this.options.removeNSPrefix),M=F.tagName,z=F.tagExp,I=F.attrExpPresent,$=F.closeIndex;_&&T&&_.tagname!=="!xml"&&(T=this.saveTextToParentTag(T,_,O,!1)),M!==R.tagname&&(O+=O?"."+M:M);const K=_;if(K&&this.options.unpairedTags.indexOf(K.tagname)!==-1&&(_=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,O,M)){let U="";if(z.length>0&&z.lastIndexOf("/")===z.length-1)D=F.closeIndex;else if(this.options.unpairedTags.indexOf(M)!==-1)D=F.closeIndex;else{const B=this.readStopNodeData(C,M,$+1);if(!B)throw new Error(`Unexpected end of ${M}`);D=B.i,U=B.tagContent}const G=new e(M);M!==z&&I&&(G[":@"]=this.buildAttributesMap(z,O)),U&&(U=this.parseTextData(U,M,O,!0,I,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),G.add(this.options.textNodeName,U),_.addChild(G)}else{if(z.length>0&&z.lastIndexOf("/")===z.length-1){M[M.length-1]==="/"?(M=M.substr(0,M.length-1),z=M):z=z.substr(0,z.length-1);const U=new e(M);M!==z&&I&&(U[":@"]=this.buildAttributesMap(z,O)),O=O.substr(0,O.lastIndexOf(".")),_.addChild(U)}else{const U=new e(M);this.tagsNodeStack.push(_),M!==z&&I&&(U[":@"]=this.buildAttributesMap(z,O)),_.addChild(U),_=U}T="",D=$}}else T+=C[D];return R.child},g=function(C){if(this.options.processEntities){for(let R in this.docTypeEntities){const _=this.docTypeEntities[R];C=C.replace(_.regx,_.val)}for(let R in this.lastEntities){const _=this.lastEntities[R];C=C.replace(_.regex,_.val)}if(this.options.htmlEntities)for(let R in this.htmlEntities){const _=this.htmlEntities[R];C=C.replace(_.regex,_.val)}}return C};function p(C,R,_,T){return C&&(T===void 0&&(T=Object.keys(R.child).length===0),C=this.parseTextData(C,R.tagname,_,!1,R[":@"]?Object.keys(R[":@"]).length!==0:!1,T),C!==void 0&&C!==""&&R.add(this.options.textNodeName,C),C=""),C}function y(C,R,_){const T="*."+_;for(const O in C){const D=C[O];if(T===D||R===D)return!0}return!1}function b(C,R,_=">"){let T,O="";for(let D=R;D<C.length;D++){let j=C[D];if(T)j===T&&(T="");else if(j==='"'||j==="'")T=j;else if(j===_[0])if(_[1]){if(C[D+1]===_[1])return{data:O,index:D}}else return{data:O,index:D};else j==="	"&&(j=" ");O+=j}}function v(C,R,_,T){const O=C.indexOf(R,_);if(O===-1)throw new Error(T);return O+R.length-1}function S(C,R,_,T=">"){const O=b(C,R+1,T);if(!O)return;let D=O.data;const j=O.index,F=D.search(/\s/);let M=D,z=!0;if(F!==-1&&(M=D.substr(0,F).replace(/\s\s*$/,""),D=D.substr(F+1)),_){const I=M.indexOf(":");I!==-1&&(M=M.substr(I+1),z=M!==O.data.substr(I+1))}return{tagName:M,tagExp:D,closeIndex:j,attrExpPresent:z}}function x(C,R,_){const T=_;for(;_<C.length;_++)if(C[_]==="<"&&C[_+1]==="/"){const O=v(C,">",_,`${R} is not closed`);if(C.substring(_+2,O).trim()===R)return{tagContent:C.substring(T,_),i:O};_=O}}function k(C,R,_){if(R&&typeof C=="string"){const T=C.trim();return T==="true"?!0:T==="false"?!1:n(C,_)}else return t.isExist(C)?C:""}return Vm=i,Vm}var Wm={},MS;function Lj(){if(MS)return Wm;MS=1;function t(a,s){return e(a,s)}function e(a,s,u){let c;const h={};for(let f=0;f<a.length;f++){const g=a[f],p=r(g);let y="";if(u===void 0?y=p:y=u+"."+p,p===s.textNodeName)c===void 0?c=g[p]:c+=""+g[p];else{if(p===void 0)continue;if(g[p]){let b=e(g[p],s,y);const v=i(b,s);g[":@"]?n(b,g[":@"],y,s):Object.keys(b).length===1&&b[s.textNodeName]!==void 0&&!s.alwaysCreateTextNode?b=b[s.textNodeName]:Object.keys(b).length===0&&(s.alwaysCreateTextNode?b[s.textNodeName]="":b=""),h[p]!==void 0?(Array.isArray(h[p])||(h[p]=[h[p]]),h[p].push(b)):s.isArray(p,y,v)?h[p]=[b]:h[p]=b}}}return typeof c=="string"?c.length>0&&(h[s.textNodeName]=c):c!==void 0&&(h[s.textNodeName]=c),h}function r(a){const s=Object.keys(a);for(let u=0;u<s.length;u++){const c=s[u];if(c!==":@")return c}}function n(a,s,u,c){if(s){const h=Object.keys(s),f=h.length;for(let g=0;g<f;g++){const p=h[g];c.isArray(p,u+"."+p,!0,!0)?a[p]=[s[p]]:a[p]=s[p]}}}function i(a,s){const u=Object.keys(a).length;return!!(u===0||u===1&&a[s.textNodeName])}return Wm.prettify=t,Wm}var qm,jS;function Dj(){if(jS)return qm;jS=1;const{buildOptions:t}=Nj(),e=$j(),{prettify:r}=Lj(),n=MP();class i{constructor(s){this.externalEntities={},this.options=t(s)}parse(s,u){if(typeof s!="string")if(s.toString)s=s.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(u){u===!0&&(u={});const f=n.validate(s,u);if(f!==!0)throw Error(`${f.err.msg}:${f.err.line}:${f.err.col}`)}const c=new e(this.options);c.addExternalEntities(this.externalEntities);const h=c.parseXml(s);return this.options.preserveOrder||h===void 0?h:r(h,this.options)}addEntity(s,u){if(u.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(s.indexOf("&")!==-1||s.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[s]=u}}return qm=i,qm}var Hm,$S;function Bj(){if($S)return Hm;$S=1;const t=`
`;function e(u,c){return r(u,c,"",0)}function r(u,c,h,f){let g="",p="";c.format&&c.indentBy.length>0&&(p=t+""+c.indentBy.repeat(f));for(let y=0;y<u.length;y++){const b=u[y],v=n(b);let S="";if(h.length===0?S=v:S=`${h}.${v}`,v===c.textNodeName){let R=b[v];a(S,c)||(R=c.tagValueProcessor(v,R),R=s(R,c)),g+=p+R;continue}else if(v===c.cdataPropName){g+=p+`<![CDATA[${b[v][0][c.textNodeName]}]]>`;continue}else if(v===c.commentPropName){g+=p+`<!--${b[v][0][c.textNodeName]}-->`;continue}else if(v[0]==="?"){const R=i(b[":@"],c),_=v==="?xml"?"":p;let T=b[v][0][c.textNodeName];T=T.length!==0?" "+T:"",g+=_+`<${v}${T}${R}?>`;continue}const x=i(b[":@"],c);let k=p+`<${v}${x}`,C=r(b[v],c,S,f+1);c.unpairedTags.indexOf(v)!==-1?c.suppressUnpairedNode?g+=k+">":g+=k+"/>":(!C||C.length===0)&&c.suppressEmptyNode?g+=k+"/>":g+=k+`>${C}${p}</${v}>`}return g}function n(u){const c=Object.keys(u);for(let h=0;h<c.length;h++){const f=c[h];if(f!==":@")return f}}function i(u,c){let h="";if(u&&!c.ignoreAttributes)for(let f in u){let g=c.attributeValueProcessor(f,u[f]);g=s(g,c),g===!0&&c.suppressBooleanAttributes?h+=` ${f.substr(c.attributeNamePrefix.length)}`:h+=` ${f.substr(c.attributeNamePrefix.length)}="${g}"`}return h}function a(u,c){u=u.substr(0,u.length-c.textNodeName.length-1);let h=u.substr(u.lastIndexOf(".")+1);for(let f in c.stopNodes)if(c.stopNodes[f]===u||c.stopNodes[f]==="*."+h)return!0;return!1}function s(u,c){if(u&&u.length>0&&c.processEntities)for(let h=0;h<c.entities.length;h++){const f=c.entities[h];u=u.replace(f.regex,f.val)}return u}return Hm=e,Hm}var Um,LS;function zj(){if(LS)return Um;LS=1;const t=Bj(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,y){return y},attributeValueProcessor:function(p,y){return y},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function r(p){this.options=Object.assign({},e,p),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.processTextOrObjNode=i,this.options.format?(this.indentate=f,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=h,this.buildObjNode=s):(this.buildTextNode=u,this.buildObjNode=a),this.buildTextValNode=u,this.buildObjectNode=a,this.replaceEntitiesValue=c,this.buildAttrPairStr=n}r.prototype.build=function(p){return this.options.preserveOrder?t(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0).val)},r.prototype.j2x=function(p,y){let b="",v="";for(let S in p)if(!(typeof p[S]>"u"))if(p[S]===null)S[0]==="?"?v+=this.indentate(y)+"<"+S+"?"+this.tagEndChar:v+=this.indentate(y)+"<"+S+"/"+this.tagEndChar;else if(p[S]instanceof Date)v+=this.buildTextNode(p[S],S,"",y);else if(typeof p[S]!="object"){const x=this.isAttribute(S);if(x)b+=this.buildAttrPairStr(x,""+p[S]);else if(S===this.options.textNodeName){let k=this.options.tagValueProcessor(S,""+p[S]);v+=this.replaceEntitiesValue(k)}else v+=this.buildTextNode(p[S],S,"",y)}else if(Array.isArray(p[S])){const x=p[S].length;for(let k=0;k<x;k++){const C=p[S][k];typeof C>"u"||(C===null?S[0]==="?"?v+=this.indentate(y)+"<"+S+"?"+this.tagEndChar:v+=this.indentate(y)+"<"+S+"/"+this.tagEndChar:typeof C=="object"?v+=this.processTextOrObjNode(C,S,y):v+=this.buildTextNode(C,S,"",y))}}else if(this.options.attributesGroupName&&S===this.options.attributesGroupName){const x=Object.keys(p[S]),k=x.length;for(let C=0;C<k;C++)b+=this.buildAttrPairStr(x[C],""+p[S][x[C]])}else v+=this.processTextOrObjNode(p[S],S,y);return{attrStr:b,val:v}};function n(p,y){return y=this.options.attributeValueProcessor(p,""+y),y=this.replaceEntitiesValue(y),this.options.suppressBooleanAttributes&&y==="true"?" "+p:" "+p+'="'+y+'"'}function i(p,y,b){const v=this.j2x(p,b+1);return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextNode(p[this.options.textNodeName],y,v.attrStr,b):this.buildObjNode(v.val,y,v.attrStr,b)}function a(p,y,b,v){let S="</"+y+this.tagEndChar,x="";return y[0]==="?"&&(x="?",S=""),b&&p.indexOf("<")===-1?this.indentate(v)+"<"+y+b+x+">"+p+S:this.options.commentPropName!==!1&&y===this.options.commentPropName&&x.length===0?this.indentate(v)+`<!--${p}-->`+this.newLine:this.indentate(v)+"<"+y+b+x+this.tagEndChar+p+this.indentate(v)+S}function s(p,y,b,v){return p!==""?this.buildObjectNode(p,y,b,v):y[0]==="?"?this.indentate(v)+"<"+y+b+"?"+this.tagEndChar:this.indentate(v)+"<"+y+b+"/"+this.tagEndChar}function u(p,y,b,v){if(this.options.cdataPropName!==!1&&y===this.options.cdataPropName)return this.indentate(v)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&y===this.options.commentPropName)return this.indentate(v)+`<!--${p}-->`+this.newLine;{let S=this.options.tagValueProcessor(y,p);return S=this.replaceEntitiesValue(S),S===""&&this.options.unpairedTags.indexOf(y)!==-1?this.options.suppressUnpairedNode?this.indentate(v)+"<"+y+this.tagEndChar:this.indentate(v)+"<"+y+"/"+this.tagEndChar:this.indentate(v)+"<"+y+b+">"+S+"</"+y+this.tagEndChar}}function c(p){if(p&&p.length>0&&this.options.processEntities)for(let y=0;y<this.options.entities.length;y++){const b=this.options.entities[y];p=p.replace(b.regex,b.val)}return p}function h(p,y,b,v){return p===""&&this.options.unpairedTags.indexOf(y)!==-1?this.options.suppressUnpairedNode?this.indentate(v)+"<"+y+this.tagEndChar:this.indentate(v)+"<"+y+"/"+this.tagEndChar:p!==""?this.buildTextValNode(p,y,b,v):y[0]==="?"?this.indentate(v)+"<"+y+b+"?"+this.tagEndChar:this.indentate(v)+"<"+y+b+"/"+this.tagEndChar}function f(p){return this.options.indentBy.repeat(p)}function g(p){return p.startsWith(this.options.attributeNamePrefix)?p.substr(this.attrPrefixLen):!1}return Um=r,Um}var Km,DS;function Vj(){if(DS)return Km;DS=1;const t=MP(),e=Dj(),r=zj();return Km={XMLParser:e,XMLValidator:t,XMLBuilder:r},Km}var Wj=Vj();const qj=/<(\/)?c(\.[^>]*)?>/g,Hj=RegExp(/\\[nN]/,"ig"),af=document.createElement("div"),Uj=(t,e)=>{if(typeof t.line=="number"&&typeof e.line=="number"){if(t.line<e.line)return-1;if(t.line>e.line)return 1;if(typeof t.position=="number"&&typeof e.position=="number")return t.position<e.position?-1:t.position>e.position?1:0}return 0},BS=t=>t.length<=1?t:t.sort(Uj);class Kj{constructor({regexFilter:e,regexFilterTextReplacement:r,pgsParserWorkerFactory:n}){let i;try{i=e.trim()===""?void 0:new RegExp(e,"gv")}catch{i=void 0}i===void 0?this._textFilter=void 0:this._textFilter={regex:i,replacement:r},this._pgsWorkerFactory=n}async subtitles(e,r){const n=(await Promise.all(e.map((i,a)=>this._subtitles(i,r===!0?0:a)))).flatMap(i=>i).filter(i=>i.textImage!==void 0||i.text!=="").sort((i,a)=>i.start-a.start);return r?this._deduplicate(n):n}_deduplicate(e){const r=[];for(const n of e)(r.length==0||!this._isSame(n,r[r.length-1]))&&r.push(n);return r}_isSame(e,r){return e.textImage||r.textImage?!1:e.start===r.start&&e.end===r.end&&e.text===r.text}async _subtitles(e,r){if(e.name.endsWith(".srt")||e.name.endsWith(".subrip"))return new bS({numericTimestamps:!0}).fromSrt(await e.text()).map(a=>({start:Math.floor(a.startTime*1e3),end:Math.floor(a.endTime*1e3),text:this._filterText(a.text,!0),track:r}));if(e.name.endsWith(".vtt")||e.name.endsWith(".nfvtt"))return new Promise(async(n,i)=>{const a=e.name.endsWith(".nfvtt"),s=new PS.WebVTT.Parser(window,PS.WebVTT.StringDecoder()),u=[];let c,h=[];s.oncue=f=>{if(f.text=this._filterText(f.text.replaceAll(qj,""),!0),a){const p=f.text.split(`
`),y=[];for(const b of p)y.push(this._fixRTL(b));f.text=y.join(`
`)}const g=Math.floor(f.startTime*1e3);c===void 0||c===g?h.push(f):(h=BS(h),u.push(h),h=[f]),c=g},s.onflush=()=>{h=BS(h),u.push(h);const f=[];for(const g of u)for(const p of g)f.push({start:Math.floor(p.startTime*1e3),end:Math.floor(p.endTime*1e3),text:p.text,track:r});n(f)},s.parse(await e.text()),s.flush()});if(e.name.endsWith(".ass"))return _j(await e.text(),{}).dialogues.map(i=>({start:Math.round(i.start*1e3),end:Math.round(i.end*1e3),text:this._filterText(i.slices.flatMap(a=>a.fragments.map(s=>s.text)).join(""),!1).replace(Hj,`
`),track:r}));if(e.name.endsWith(".ytxml")){const n=await e.text(),i=this._xmlParser().parse(n);if(Object.keys(i).length===0)return[];const a=i.transcript.text,s=[];let u=0,c;for(let f=0,g=a.length;f<g;f++){const p=a[f];if(!("#text"in p)||!("@_dur"in p)||!("@_start"in p))continue;const y=parseFloat(p["@_start"]),b={start:Math.floor(y*1e3),end:Math.floor((y+parseFloat(p["@_dur"]))*1e3),text:this._filterText(this._decodeHTML(String(p["#text"])),!0),track:r};c!==void 0&&c.end>b.start&&++u,s.push(b),c=b}return s.length>0&&u/s.length>.5?s.map((f,g)=>g<s.length-1?{...f,end:Math.max(f.start,Math.min(s[g+1].start-1,f.end))}:f):s}if(e.name.endsWith(".sup"))return await this._parsePgs(e,r);if(e.name.endsWith(".dfxp")||e.name.endsWith("ttml2")){const n=await e.text(),a=new DOMParser().parseFromString(n,"application/xml"),s=this._xmlNodePath(a.documentElement,["body","div"]),u=[];for(let c=0,h=s.length;c<h;c++){const f=s[c],g=f.getAttribute("begin"),p=f.getAttribute("end");if(g===null||p===null)continue;const y=this._decodeHTML(f.innerHTML.replaceAll(/<br(\s[^\s]+)?(\/)?>/g,`
`));u.push({text:this._filterText(y,!1),start:this._parseTtmlTimestamp(g),end:this._parseTtmlTimestamp(p),track:r})}return u}if(e.name.endsWith(".bbjson"))return JSON.parse(await e.text()).body.map(i=>({text:i.content,start:i.from*1e3,end:i.to*1e3,track:r}));throw new Error("Unsupported subtitle file format")}_parsePgs(e,r){const n=[];return new Promise(async(i,a)=>{const s=await this._pgsWorkerFactory();s.onmessage=async f=>{switch(f.data.command){case"subtitle":const g={...f.data.subtitle,track:r},p=f.data.imageBlob;g.textImage.dataUrl=await this._blobToDataUrl(p),n.push(g);break;case"finished":s.terminate(),i(n);break;case"error":s.terminate(),a(f.data.error);break}},s.onerror=f=>{const g=(f==null?void 0:f.error)??new Error("PGS decoding failed: "+(f==null?void 0:f.message));a(g),s.terminate()};const c=document.createElement("canvas").transferControlToOffscreen(),h=await e.stream();s.postMessage({fileStream:h,canvas:c},[h,c])})}_blobToDataUrl(e){return new Promise((r,n)=>{var i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{r(i.result)}})}_parseTtmlTimestamp(e){const r=e.split(":"),n=Math.floor(parseFloat(r[r.length-1])*1e3),i=r.length<2?0:Number(r[r.length-2]),a=r.length<3?0:Number(r[r.length-3]);return n+i*6e4+a*36e5}_xmlNodePath(e,r){if(r.length===0){const n=[];for(let i=0;i<e.children.length;++i){const a=e.children[i];n.push(a)}return n}for(let n=0;n<e.children.length;++n){const i=e.children[n];if(this._dropTagNamespace(i.tagName)===r[0])return this._xmlNodePath(i,r.slice(1))}throw new Error("Failied to parse XML path")}_dropTagNamespace(e){const r=e.lastIndexOf(":");return r!==-1?e.substring(r+1):e}_fixRTL(e){const r=e.indexOf("&lrm;"),n=e.indexOf("&rlm;");let i="";return r>-1?(i=e.substring(0,r)+"‪"+e.substring(r+5)+"‬",this._fixRTL(i)):n>-1?(i=e.substring(0,n)+"‫"+e.substring(n+5)+"‬",this._fixRTL(i)):e}_decodeHTML(e){af.innerHTML=e;const r=[...af.getElementsByTagName("rt")];for(const n of r)n.remove();return af.textContent??af.innerText}_xmlParser(){return this.xmlParser===void 0&&(this.xmlParser=new Wj.XMLParser({ignoreAttributes:!1})),this.xmlParser}_filterText(e,r){return e=this._textFilter===void 0?e:e.replace(this._textFilter.regex,this._textFilter.replacement).trim(),r&&(e=this._decodeHTML(e)),e}subtitlesToSrt(e){const r=new bS({numericTimestamps:!0}),n=e.map((i,a)=>({id:String(a),startTime:i.start,endTime:i.end,text:i.text}));return r.toSrt(n)}async filesToSrt(e){return this.subtitlesToSrt(await this.subtitles(e))}}var Gj=function(e){var r={};return e.shadows.forEach(function(n,i){r["elevation".concat(i)]={boxShadow:n}}),re({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},r)},Xj=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,u=e.square,c=u===void 0?!1:u,h=e.elevation,f=h===void 0?1:h,g=e.variant,p=g===void 0?"elevation":g,y=Qe(e,["classes","className","component","square","elevation","variant"]);return m.createElement(s,re({className:Le(n.root,i,p==="outlined"?n.outlined:n["elevation".concat(f)],!c&&n.rounded),ref:r},y))});const oi=Rt(Gj,{name:"MuiPaper"})(Xj);function Yt(t){if(typeof t!="string")throw new Error(Fo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function jo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(n,i){return i==null?n:function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];n.apply(this,u),i.apply(this,u)}},function(){})}var Yj=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},jP=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,u=s===void 0?"inherit":s,c=e.component,h=c===void 0?"svg":c,f=e.fontSize,g=f===void 0?"medium":f,p=e.htmlColor,y=e.titleAccess,b=e.viewBox,v=b===void 0?"0 0 24 24":b,S=Qe(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return m.createElement(h,re({className:Le(i.root,a,u!=="inherit"&&i["color".concat(Yt(u))],g!=="default"&&g!=="medium"&&i["fontSize".concat(Yt(g))]),focusable:"false",viewBox:v,color:p,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:r},S),n,y?m.createElement("title",null,y):null)});jP.muiName="SvgIcon";const Zf=Rt(Yj,{name:"MuiSvgIcon"})(jP);function yi(t,e){var r=function(i,a){return nr.createElement(Zf,re({ref:a},i),t)};return r.muiName=Zf.muiName,nr.memo(nr.forwardRef(r))}function $o(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,r;function n(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=this,c=function(){t.apply(u,a)};clearTimeout(r),r=setTimeout(c,e)}return n.clear=function(){clearTimeout(r)},n}function Zj(t,e){return function(){return null}}function cc(t,e){return m.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function ai(t){return t&&t.ownerDocument||document}function _p(t){var e=ai(t);return e.defaultView||window}function Jj(t){return function(){return null}}function Ea(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Qj(t,e,r,n,i){return null}function wa(t){var e=t.controlled,r=t.default;t.name,t.state;var n=m.useRef(e!==void 0),i=n.current,a=m.useState(r),s=a[0],u=a[1],c=i?e:s,h=m.useCallback(function(f){i||u(f)},[]);return[c,h]}var e$=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Zr(t){var e=m.useRef(t);return e$(function(){e.current=t}),m.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function Fr(t,e){return m.useMemo(function(){return t==null&&e==null?null:function(r){Ea(t,r),Ea(e,r)}},[t,e])}function Pp(t){var e=m.useState(t),r=e[0],n=e[1],i=t||r;return m.useEffect(function(){r==null&&n("mui-".concat(Math.round(Math.random()*1e5)))},[r]),i}var bi=u2();const Gm=zt(bi);var Tp=!0,uy=!1,zS=null,t$={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r$(t){var e=t.type,r=t.tagName;return!!(r==="INPUT"&&t$[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function n$(t){t.metaKey||t.altKey||t.ctrlKey||(Tp=!0)}function Xm(){Tp=!1}function i$(){this.visibilityState==="hidden"&&uy&&(Tp=!0)}function a$(t){t.addEventListener("keydown",n$,!0),t.addEventListener("mousedown",Xm,!0),t.addEventListener("pointerdown",Xm,!0),t.addEventListener("touchstart",Xm,!0),t.addEventListener("visibilitychange",i$,!0)}function o$(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return Tp||r$(e)}function s$(){uy=!0,window.clearTimeout(zS),zS=window.setTimeout(function(){uy=!1},100)}function Lc(){var t=m.useCallback(function(e){var r=bi.findDOMNode(e);r!=null&&a$(r.ownerDocument)},[]);return{isFocusVisible:o$,onBlurVisible:s$,ref:t}}const l$=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Yt,createChainedFunction:jo,createSvgIcon:yi,debounce:$o,deprecatedPropType:Zj,isMuiElement:cc,ownerDocument:ai,ownerWindow:_p,requirePropFactory:Jj,setRef:Ea,unstable_useId:Pp,unsupportedProp:Qj,useControlled:wa,useEventCallback:Zr,useForkRef:Fr,useIsFocusVisible:Lc},Symbol.toStringTag,{value:"Module"})),u$=yi(m.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),c$=yi(m.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),d$=yi(m.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),f$=yi(m.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),$P=yi(m.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),VS={disabled:!1},Jf=nr.createContext(null);var nc="unmounted",So="exited",ko="entering",Ts="entered",cy="exiting",Di=function(t){Sp(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var s=i,u=s&&!s.isMounting?n.enter:n.appear,c;return a.appearStatus=null,n.in?u?(c=So,a.appearStatus=ko):c=Ts:n.unmountOnExit||n.mountOnEnter?c=nc:c=So,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===nc?{status:So}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ko&&s!==Ts&&(a=ko):(s===ko||s===Ts)&&(a=cy)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,s,u;return a=s=u=i,i!=null&&typeof i!="number"&&(a=i.exit,s=i.enter,u=i.appear!==void 0?i.appear:s),{exit:a,enter:s,appear:u}},r.updateStatus=function(i,a){i===void 0&&(i=!1),a!==null?(this.cancelNextCallback(),a===ko?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===So&&this.setState({status:nc})},r.performEnter=function(i){var a=this,s=this.props.enter,u=this.context?this.context.isMounting:i,c=this.props.nodeRef?[u]:[Gm.findDOMNode(this),u],h=c[0],f=c[1],g=this.getTimeouts(),p=u?g.appear:g.enter;if(!i&&!s||VS.disabled){this.safeSetState({status:Ts},function(){a.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:ko},function(){a.props.onEntering(h,f),a.onTransitionEnd(p,function(){a.safeSetState({status:Ts},function(){a.props.onEntered(h,f)})})})},r.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Gm.findDOMNode(this);if(!a||VS.disabled){this.safeSetState({status:So},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:cy},function(){i.props.onExiting(u),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:So},function(){i.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,a.nextCallback=null,i(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:Gm.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===nc)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=bp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nr.createElement(Jf.Provider,{value:null},typeof s=="function"?s(i,u):nr.cloneElement(nr.Children.only(s),u))},e}(nr.Component);Di.contextType=Jf;Di.propTypes={};function vs(){}Di.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vs,onEntering:vs,onEntered:vs,onExit:vs,onExiting:vs,onExited:vs};Di.UNMOUNTED=nc;Di.EXITED=So;Di.ENTERING=ko;Di.ENTERED=Ts;Di.EXITING=cy;function k0(t,e){var r=function(a){return e&&m.isValidElement(a)?e(a):a},n=Object.create(null);return t&&m.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function p$(t,e){t=t||{},e=e||{};function r(f){return f in e?e[f]:t[f]}var n=Object.create(null),i=[];for(var a in t)a in e?i.length&&(n[a]=i,i=[]):i.push(a);var s,u={};for(var c in e){if(n[c])for(s=0;s<n[c].length;s++){var h=n[c][s];u[n[c][s]]=r(h)}u[c]=r(c)}for(s=0;s<i.length;s++)u[i[s]]=r(i[s]);return u}function To(t,e,r){return r[e]!=null?r[e]:t.props[e]}function h$(t,e){return k0(t.children,function(r){return m.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:To(r,"appear",t),enter:To(r,"enter",t),exit:To(r,"exit",t)})})}function g$(t,e,r){var n=k0(t.children),i=p$(e,n);return Object.keys(i).forEach(function(a){var s=i[a];if(m.isValidElement(s)){var u=a in e,c=a in n,h=e[a],f=m.isValidElement(h)&&!h.props.in;c&&(!u||f)?i[a]=m.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:To(s,"exit",t),enter:To(s,"enter",t)}):!c&&u&&!f?i[a]=m.cloneElement(s,{in:!1}):c&&u&&m.isValidElement(h)&&(i[a]=m.cloneElement(s,{onExited:r.bind(null,s),in:h.props.in,exit:To(s,"exit",t),enter:To(s,"enter",t)}))}}),i}var m$=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},v$={component:"div",childFactory:function(e){return e}},C0=function(t){Sp(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var s=a.handleExited.bind($i(a));return a.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},a}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var s=a.children,u=a.handleExited,c=a.firstRender;return{children:c?h$(i,u):g$(i,s,u),firstRender:!1}},r.handleExited=function(i,a){var s=k0(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(u){var c=re({},u.children);return delete c[i.key],{children:c}}))},r.render=function(){var i=this.props,a=i.component,s=i.childFactory,u=bp(i,["component","childFactory"]),c=this.state.contextValue,h=m$(this.state.children).map(s);return delete u.appear,delete u.enter,delete u.exit,a===null?nr.createElement(Jf.Provider,{value:c},h):nr.createElement(Jf.Provider,{value:c},nr.createElement(a,u,h))},e}(nr.Component);C0.propTypes={};C0.defaultProps=v$;var y$=typeof window>"u"?m.useEffect:m.useLayoutEffect;function b$(t){var e=t.classes,r=t.pulsate,n=r===void 0?!1:r,i=t.rippleX,a=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,h=c===void 0?function(){}:c,f=t.timeout,g=m.useState(!1),p=g[0],y=g[1],b=Le(e.ripple,e.rippleVisible,n&&e.ripplePulsate),v={width:s,height:s,top:-(s/2)+a,left:-(s/2)+i},S=Le(e.child,p&&e.childLeaving,n&&e.childPulsate),x=Zr(h);return y$(function(){if(!u){y(!0);var k=setTimeout(x,f);return function(){clearTimeout(k)}}},[x,u,f]),m.createElement("span",{className:b,style:v},m.createElement("span",{className:S}))}var dy=550,x$=80,w$=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(dy,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(dy,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},S$=m.forwardRef(function(e,r){var n=e.center,i=n===void 0?!1:n,a=e.classes,s=e.className,u=Qe(e,["center","classes","className"]),c=m.useState([]),h=c[0],f=c[1],g=m.useRef(0),p=m.useRef(null);m.useEffect(function(){p.current&&(p.current(),p.current=null)},[h]);var y=m.useRef(!1),b=m.useRef(null),v=m.useRef(null),S=m.useRef(null);m.useEffect(function(){return function(){clearTimeout(b.current)}},[]);var x=m.useCallback(function(_){var T=_.pulsate,O=_.rippleX,D=_.rippleY,j=_.rippleSize,F=_.cb;f(function(M){return[].concat(Ys(M),[m.createElement(b$,{key:g.current,classes:a,timeout:dy,pulsate:T,rippleX:O,rippleY:D,rippleSize:j})])}),g.current+=1,p.current=F},[a]),k=m.useCallback(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=arguments.length>2?arguments[2]:void 0,D=T.pulsate,j=D===void 0?!1:D,F=T.center,M=F===void 0?i||T.pulsate:F,z=T.fakeElement,I=z===void 0?!1:z;if(_.type==="mousedown"&&y.current){y.current=!1;return}_.type==="touchstart"&&(y.current=!0);var $=I?null:S.current,K=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0},U,G,B;if(M||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)U=Math.round(K.width/2),G=Math.round(K.height/2);else{var H=_.touches?_.touches[0]:_,N=H.clientX,L=H.clientY;U=Math.round(N-K.left),G=Math.round(L-K.top)}if(M)B=Math.sqrt((2*Math.pow(K.width,2)+Math.pow(K.height,2))/3),B%2===0&&(B+=1);else{var W=Math.max(Math.abs(($?$.clientWidth:0)-U),U)*2+2,X=Math.max(Math.abs(($?$.clientHeight:0)-G),G)*2+2;B=Math.sqrt(Math.pow(W,2)+Math.pow(X,2))}_.touches?v.current===null&&(v.current=function(){x({pulsate:j,rippleX:U,rippleY:G,rippleSize:B,cb:O})},b.current=setTimeout(function(){v.current&&(v.current(),v.current=null)},x$)):x({pulsate:j,rippleX:U,rippleY:G,rippleSize:B,cb:O})},[i,x]),C=m.useCallback(function(){k({},{pulsate:!0})},[k]),R=m.useCallback(function(_,T){if(clearTimeout(b.current),_.type==="touchend"&&v.current){_.persist(),v.current(),v.current=null,b.current=setTimeout(function(){R(_,T)});return}v.current=null,f(function(O){return O.length>0?O.slice(1):O}),p.current=T},[]);return m.useImperativeHandle(r,function(){return{pulsate:C,start:k,stop:R}},[C,k,R]),m.createElement("span",re({className:Le(a.root,s),ref:S},u),m.createElement(C0,{component:null,exit:!0},h))});const k$=Rt(w$,{flip:!1,name:"MuiTouchRipple"})(m.memo(S$));var C$={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},E$=m.forwardRef(function(e,r){var n=e.action,i=e.buttonRef,a=e.centerRipple,s=a===void 0?!1:a,u=e.children,c=e.classes,h=e.className,f=e.component,g=f===void 0?"button":f,p=e.disabled,y=p===void 0?!1:p,b=e.disableRipple,v=b===void 0?!1:b,S=e.disableTouchRipple,x=S===void 0?!1:S,k=e.focusRipple,C=k===void 0?!1:k,R=e.focusVisibleClassName,_=e.onBlur,T=e.onClick,O=e.onFocus,D=e.onFocusVisible,j=e.onKeyDown,F=e.onKeyUp,M=e.onMouseDown,z=e.onMouseLeave,I=e.onMouseUp,$=e.onTouchEnd,K=e.onTouchMove,U=e.onTouchStart,G=e.onDragLeave,B=e.tabIndex,H=B===void 0?0:B,N=e.TouchRippleProps,L=e.type,W=L===void 0?"button":L,X=Qe(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=m.useRef(null);function ce(){return bi.findDOMNode(Y.current)}var ee=m.useRef(null),fe=m.useState(!1),le=fe[0],de=fe[1];y&&le&&de(!1);var pe=Lc(),he=pe.isFocusVisible,ke=pe.onBlurVisible,Re=pe.ref;m.useImperativeHandle(n,function(){return{focusVisible:function(){de(!0),Y.current.focus()}}},[]),m.useEffect(function(){le&&C&&!v&&ee.current.pulsate()},[v,C,le]);function _e(te,me){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x;return Zr(function(xe){me&&me(xe);var ze=be;return!ze&&ee.current&&ee.current[te](xe),!0})}var et=_e("start",M),Me=_e("stop",G),De=_e("stop",I),gt=_e("stop",function(te){le&&te.preventDefault(),z&&z(te)}),Ge=_e("start",U),yt=_e("stop",$),ht=_e("stop",K),Oe=_e("stop",function(te){le&&(ke(te),de(!1)),_&&_(te)},!1),Ie=Zr(function(te){Y.current||(Y.current=te.currentTarget),he(te)&&(de(!0),D&&D(te)),O&&O(te)}),We=function(){var me=ce();return g&&g!=="button"&&!(me.tagName==="A"&&me.href)},mt=m.useRef(!1),Be=Zr(function(te){C&&!mt.current&&le&&ee.current&&te.key===" "&&(mt.current=!0,te.persist(),ee.current.stop(te,function(){ee.current.start(te)})),te.target===te.currentTarget&&We()&&te.key===" "&&te.preventDefault(),j&&j(te),te.target===te.currentTarget&&We()&&te.key==="Enter"&&!y&&(te.preventDefault(),T&&T(te))}),tt=Zr(function(te){C&&te.key===" "&&ee.current&&le&&!te.defaultPrevented&&(mt.current=!1,te.persist(),ee.current.stop(te,function(){ee.current.pulsate(te)})),F&&F(te),T&&te.target===te.currentTarget&&We()&&te.key===" "&&!te.defaultPrevented&&T(te)}),Pe=g;Pe==="button"&&X.href&&(Pe="a");var Q={};Pe==="button"?(Q.type=W,Q.disabled=y):((Pe!=="a"||!X.href)&&(Q.role="button"),Q["aria-disabled"]=y);var Et=Fr(i,r),Tt=Fr(Re,Y),st=Fr(Et,Tt),Z=m.useState(!1),ie=Z[0],rt=Z[1];m.useEffect(function(){rt(!0)},[]);var se=ie&&!v&&!y;return m.createElement(Pe,re({className:Le(c.root,h,le&&[c.focusVisible,R],y&&c.disabled),onBlur:Oe,onClick:T,onFocus:Ie,onKeyDown:Be,onKeyUp:tt,onMouseDown:et,onMouseLeave:gt,onMouseUp:De,onDragLeave:Me,onTouchEnd:yt,onTouchMove:ht,onTouchStart:Ge,ref:st,tabIndex:y?-1:H},Q,X),u,se?m.createElement(k$,re({ref:ee,center:s},N)):null)});const Lo=Rt(C$,{name:"MuiButtonBase"})(E$);var _$=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Tr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},P$=m.forwardRef(function(e,r){var n=e.edge,i=n===void 0?!1:n,a=e.children,s=e.classes,u=e.className,c=e.color,h=c===void 0?"default":c,f=e.disabled,g=f===void 0?!1:f,p=e.disableFocusRipple,y=p===void 0?!1:p,b=e.size,v=b===void 0?"medium":b,S=Qe(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return m.createElement(Lo,re({className:Le(s.root,u,h!=="default"&&s["color".concat(Yt(h))],g&&s.disabled,v==="small"&&s["size".concat(Yt(v))],{start:s.edgeStart,end:s.edgeEnd}[i]),centerRipple:!0,focusRipple:!y,disabled:g,ref:r},S),m.createElement("span",{className:s.label},a))});const Bt=Rt(_$,{name:"MuiIconButton"})(P$);var T$=function(e){var r=e.palette.type==="light"?Bs:zs,n=e.palette.type==="light"?zs:Bs;return{root:re({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:r(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:r(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:r(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:r(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:r(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:r(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:r(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:r(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},WS={success:m.createElement(u$,{fontSize:"inherit"}),warning:m.createElement(c$,{fontSize:"inherit"}),error:m.createElement(d$,{fontSize:"inherit"}),info:m.createElement(f$,{fontSize:"inherit"})},R$=m.createElement($P,{fontSize:"small"}),O$=m.forwardRef(function(e,r){var n=e.action,i=e.children,a=e.classes,s=e.className,u=e.closeText,c=u===void 0?"Close":u,h=e.color,f=e.icon,g=e.iconMapping,p=g===void 0?WS:g,y=e.onClose,b=e.role,v=b===void 0?"alert":b,S=e.severity,x=S===void 0?"success":S,k=e.variant,C=k===void 0?"standard":k,R=Qe(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return m.createElement(oi,re({role:v,square:!0,elevation:0,className:Le(a.root,a["".concat(C).concat(Yt(h||x))],s),ref:r},R),f!==!1?m.createElement("div",{className:a.icon},f||p[x]||WS[x]):null,m.createElement("div",{className:a.message},i),n!=null?m.createElement("div",{className:a.action},n):null,n==null&&y?m.createElement("div",{className:a.action},m.createElement(Bt,{size:"small","aria-label":c,title:c,color:"inherit",onClick:y},R$)):null)});const LP=Rt(T$,{name:"MuiAlert"})(O$);var E0=function(e){return e.scrollTop};function Vs(t,e){var r=t.timeout,n=t.style,i=n===void 0?{}:n;return{duration:i.transitionDuration||typeof r=="number"?r:r[e.mode]||0,delay:i.transitionDelay}}function fy(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var A$={entering:{opacity:1,transform:fy(1)},entered:{opacity:1,transform:"none"}},Rp=m.forwardRef(function(e,r){var n=e.children,i=e.disableStrictModeCompat,a=i===void 0?!1:i,s=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,f=e.onExit,g=e.onExited,p=e.onExiting,y=e.style,b=e.timeout,v=b===void 0?"auto":b,S=e.TransitionComponent,x=S===void 0?Di:S,k=Qe(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=m.useRef(),R=m.useRef(),_=si(),T=_.unstable_strictMode&&!a,O=m.useRef(null),D=Fr(n.ref,r),j=Fr(T?O:void 0,D),F=function(H){return function(N,L){if(H){var W=T?[O.current,N]:[N,L],X=Ni(W,2),Y=X[0],ce=X[1];ce===void 0?H(Y):H(Y,ce)}}},M=F(h),z=F(function(B,H){E0(B);var N=Vs({style:y,timeout:v},{mode:"enter"}),L=N.duration,W=N.delay,X;v==="auto"?(X=_.transitions.getAutoHeightDuration(B.clientHeight),R.current=X):X=L,B.style.transition=[_.transitions.create("opacity",{duration:X,delay:W}),_.transitions.create("transform",{duration:X*.666,delay:W})].join(","),u&&u(B,H)}),I=F(c),$=F(p),K=F(function(B){var H=Vs({style:y,timeout:v},{mode:"exit"}),N=H.duration,L=H.delay,W;v==="auto"?(W=_.transitions.getAutoHeightDuration(B.clientHeight),R.current=W):W=N,B.style.transition=[_.transitions.create("opacity",{duration:W,delay:L}),_.transitions.create("transform",{duration:W*.666,delay:L||W*.333})].join(","),B.style.opacity="0",B.style.transform=fy(.75),f&&f(B)}),U=F(g),G=function(H,N){var L=T?H:N;v==="auto"&&(C.current=setTimeout(L,R.current||0))};return m.useEffect(function(){return function(){clearTimeout(C.current)}},[]),m.createElement(x,re({appear:!0,in:s,nodeRef:T?O:void 0,onEnter:z,onEntered:I,onEntering:M,onExit:K,onExited:U,onExiting:$,addEndListener:G,timeout:v==="auto"?null:v},k),function(B,H){return m.cloneElement(n,re({style:re({opacity:0,transform:fy(.75),visibility:B==="exited"&&!s?"hidden":void 0},A$[B],y,n.props.style),ref:j},H))})});Rp.muiSupportAuto=!0;const I$=dn({root:{display:"flex",justifyContent:"center",position:"fixed",width:"100%",pointerEvents:"none",zIndex:2e3},bottom:{bottom:"10vh"},top:{top:"10vh"}});function DP(t){const e=I$();m.useEffect(()=>{if(t.open&&!t.disableAutoHide){const n=setTimeout(t.onClose,t.autoHideDuration);return()=>clearTimeout(n)}},[t.open,t.autoHideDuration,t.disableAutoHide,t.onClose]);const r=t.anchor==="bottom"?e.bottom:e.top;return E.jsx("div",{className:`${e.root} ${r}`,children:E.jsx(Rp,{in:t.open,children:E.jsx(LP,{severity:t.severity,children:t.children})})})}var Ym,qS;function N$(){return qS||(qS=1,Ym={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ym}var F$=N$();const M$=zt(F$);var j$=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function HS(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(M$[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(j$),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var s=a[1].trim(),u=[s,""];s.indexOf("=")>-1&&(u=s.split("=")),e.attrs[u[0]]=u[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var $$=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,L$=/^\s*$/,D$=Object.create(null);function BP(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(BP,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var B$={parse:function(t,e){e||(e={}),e.components||(e.components=D$);var r,n=[],i=[],a=-1,s=!1;if(t.indexOf("<")!==0){var u=t.indexOf("<");n.push({type:"text",content:u===-1?t:t.substring(0,u)})}return t.replace($$,function(c,h){if(s){if(c!=="</"+r.name+">")return;s=!1}var f,g=c.charAt(1)!=="/",p=c.startsWith("<!--"),y=h+c.length,b=t.charAt(y);if(p){var v=HS(c);return a<0?(n.push(v),n):((f=i[a]).children.push(v),n)}if(g&&(a++,(r=HS(c)).type==="tag"&&e.components[r.name]&&(r.type="component",s=!0),r.voidElement||s||!b||b==="<"||r.children.push({type:"text",content:t.slice(y,t.indexOf("<",y))}),a===0&&n.push(r),(f=i[a-1])&&f.children.push(r),i[a]=r),(!g||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!s&&b!=="<"&&b)){f=a===-1?n:i[a].children;var S=t.indexOf("<",y),x=t.slice(y,S===-1?void 0:S);L$.test(x)&&(x=" "),(S>-1&&a+f.length>=0||x!==" ")&&f.push({type:"text",content:x})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+BP("",r)},"")}};function Nf(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var US={};function Qf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&US[e[0]]||(typeof e[0]=="string"&&(US[e[0]]=new Date),Nf.apply(void 0,e))}function KS(t,e,r){t.loadNamespaces(e,function(){if(t.isInitialized)r();else{var n=function i(){setTimeout(function(){t.off("initialized",i)},0),r()};t.on("initialized",n)}})}function z$(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var s=function(c,h){var f=e.services.backendConnector.state["".concat(c,"|").concat(h)];return f===-1||f===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(n,t)&&(!i||s(a,t)))}function V$(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Qf("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{precheck:function(a,s){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,t))return!1}}):z$(t,e,r)}var W$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,q$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},H$=function(e){return q$[e]},U$=function(e){return e.replace(W$,H$)};function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var py={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:U$};function K$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};py=XS(XS({},py),t)}function zP(){return py}var VP;function G$(t){VP=t}function _0(){return VP}var X$=["format"],Y$=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zm(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function Jm(t){return t?t.props?t.props.children:t.children:[]}function Z$(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return m.isValidElement(e)})}function ic(t){return Array.isArray(t)?t:[t]}function J$(t,e){var r=yn({},e);return r.props=Object.assign(t.props,e.props),r}function WP(t,e){if(!t)return"";var r="",n=ic(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,s){if(typeof a=="string")r+="".concat(a);else if(m.isValidElement(a)){var u=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,h=a.props.children;if(!h&&c&&u===0)r+="<".concat(a.type,"/>");else if(!h&&(!c||u!==0))r+="<".concat(s,"></").concat(s,">");else if(a.props.i18nIsDynamicList)r+="<".concat(s,"></").concat(s,">");else if(c&&u===1&&typeof h=="string")r+="<".concat(a.type,">").concat(h,"</").concat(a.type,">");else{var f=WP(h,e);r+="<".concat(s,">").concat(f,"</").concat(s,">")}}else if(a===null)Nf("Trans: the passed in value is invalid - seems you passed in a null child.");else if(cn(a)==="object"){var g=a.format,p=Qe(a,X$),y=Object.keys(p);if(y.length===1){var b=g?"".concat(y[0],", ").concat(g):y[0];r+="{{".concat(b,"}}")}else Nf("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Nf("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function Q$(t,e,r,n,i,a){if(e==="")return[];var s=n.transKeepBasicHtmlNodesFor||[],u=e&&new RegExp(s.join("|")).test(e);if(!t&&!u)return[e];var c={};function h(S){var x=ic(S);x.forEach(function(k){typeof k!="string"&&(Zm(k)?h(Jm(k)):cn(k)==="object"&&!m.isValidElement(k)&&Object.assign(c,k))})}h(t);var f=B$.parse("<0>".concat(e,"</0>")),g=yn(yn({},c),i);function p(S,x,k){var C=Jm(S),R=b(C,x.children,k);return Z$(C)&&R.length===0?C:R}function y(S,x,k,C,R){S.dummy&&(S.children=x),k.push(m.cloneElement(S,yn(yn({},S.props),{},{key:C}),R?void 0:x))}function b(S,x,k){var C=ic(S),R=ic(x);return R.reduce(function(_,T,O){var D=T.children&&T.children[0]&&T.children[0].content&&r.services.interpolator.interpolate(T.children[0].content,g,r.language);if(T.type==="tag"){var j=C[parseInt(T.name,10)];!j&&k.length===1&&k[0][T.name]&&(j=k[0][T.name]),j||(j={});var F=Object.keys(T.attrs).length!==0?J$({props:T.attrs},j):j,M=m.isValidElement(F),z=M&&Zm(T,!0)&&!T.voidElement,I=u&&cn(F)==="object"&&F.dummy&&!M,$=cn(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,T.name);if(typeof F=="string"){var K=r.services.interpolator.interpolate(F,g,r.language);_.push(K)}else if(Zm(F)||z){var U=p(F,T,k);y(F,U,_,O)}else if(I){var G=b(C,T.children,k);_.push(m.cloneElement(F,yn(yn({},F.props),{},{key:O}),G))}else if(Number.isNaN(parseFloat(T.name)))if($){var B=p(F,T,k);y(F,B,_,O,T.voidElement)}else if(n.transSupportBasicHtmlNodes&&s.indexOf(T.name)>-1)if(T.voidElement)_.push(m.createElement(T.name,{key:"".concat(T.name,"-").concat(O)}));else{var H=b(C,T.children,k);_.push(m.createElement(T.name,{key:"".concat(T.name,"-").concat(O)},H))}else if(T.voidElement)_.push("<".concat(T.name," />"));else{var N=b(C,T.children,k);_.push("<".concat(T.name,">").concat(N,"</").concat(T.name,">"))}else if(cn(F)==="object"&&!M){var L=T.children[0]?D:null;L&&_.push(L)}else T.children.length===1&&D?_.push(m.cloneElement(F,yn(yn({},F.props),{},{key:O}),D)):_.push(m.cloneElement(F,yn(yn({},F.props),{},{key:O})))}else if(T.type==="text"){var W=n.transWrapTextNodes,X=a?n.unescape(r.services.interpolator.interpolate(T.content,g,r.language)):r.services.interpolator.interpolate(T.content,g,r.language);W?_.push(m.createElement(W,{key:"".concat(T.name,"-").concat(O)},X)):_.push(X)}return _},[])}var v=b([{dummy:!0,children:t||[]}],f,ic(t||[]));return Jm(v[0])}function eL(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,s=t.tOptions,u=s===void 0?{}:s,c=t.values,h=t.defaults,f=t.components,g=t.ns,p=t.i18n,y=t.t,b=t.shouldUnescape,v=Qe(t,Y$),S=p||_0();if(!S)return Qf("You will need to pass in an i18next instance by using i18nextReactModule"),e;var x=y||S.t.bind(S)||function(z){return z};a&&(u.context=a);var k=yn(yn({},zP()),S.options&&S.options.react),C=g||x.ns||S.options&&S.options.defaultNS;C=typeof C=="string"?[C]:C||["translation"];var R=h||WP(e,k)||k.transEmptyNodeValue||i,_=k.hashTransKey,T=i||(_?_(R):R),O=c?u.interpolation:{interpolation:yn(yn({},u.interpolation),{},{prefix:"#$?",suffix:"?$#"})},D=yn(yn(yn(yn({},u),{},{count:r},c),O),{},{defaultValue:R,ns:C}),j=T?x(T,D):R,F=Q$(f||e,j,S,k,D,b),M=n!==void 0?n:k.defaultTransParent;return M?m.createElement(M,v,F):F}var tL={type:"3rdParty",init:function(e){K$(e.options.react),G$(e)}},qP=m.createContext(),rL=function(){function t(){vi(this,t),this.usedNamespaces={}}return Xn(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),nL=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function ZS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ff(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,s=t.tOptions,u=s===void 0?{}:s,c=t.values,h=t.defaults,f=t.components,g=t.ns,p=t.i18n,y=t.t,b=t.shouldUnescape,v=Qe(t,nL),S=m.useContext(qP)||{},x=S.i18n,k=S.defaultNS,C=p||x||_0(),R=y||C&&C.t.bind(C);return eL(iL({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:u,values:c,defaults:h,components:f,ns:g||R&&R.ns||k||C&&C.options&&C.options.defaultNS,i18n:C,t:y,shouldUnescape:b},v))}function JS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aL=function(e,r){var n=m.useRef();return m.useEffect(function(){n.current=e},[e,r]),n.current};function Mr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=m.useContext(qP)||{},i=n.i18n,a=n.defaultNS,s=r||i||_0();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new rL),!s){Qf("You will need to pass in an i18next instance by using initReactI18next");var u=function(j,F){return typeof F=="string"?F:F&&cn(F)==="object"&&typeof F.defaultValue=="string"?F.defaultValue:Array.isArray(j)?j[j.length-1]:j},c=[u,{},!1];return c.t=u,c.i18n={},c.ready=!1,c}s.options.react&&s.options.react.wait!==void 0&&Qf("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var h=Qm(Qm(Qm({},zP()),s.options.react),e),f=h.useSuspense,g=h.keyPrefix,p=a||s.options&&s.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(p);var y=(s.isInitialized||s.initializedStoreOnce)&&p.every(function(D){return V$(D,s,h)});function b(){return s.getFixedT(null,h.nsMode==="fallback"?p:p[0],g)}var v=m.useState(b),S=Ni(v,2),x=S[0],k=S[1],C=p.join(),R=aL(C),_=m.useRef(!0);m.useEffect(function(){var D=h.bindI18n,j=h.bindI18nStore;_.current=!0,!y&&!f&&KS(s,p,function(){_.current&&k(b)}),y&&R&&R!==C&&_.current&&k(b);function F(){_.current&&k(b)}return D&&s&&s.on(D,F),j&&s&&s.store.on(j,F),function(){_.current=!1,D&&s&&D.split(" ").forEach(function(M){return s.off(M,F)}),j&&s&&j.split(" ").forEach(function(M){return s.store.off(M,F)})}},[s,C]);var T=m.useRef(!0);m.useEffect(function(){_.current&&!T.current&&k(b),T.current=!1},[s,g]);var O=[x,s,y];if(O.t=x,O.i18n=s,O.ready=y,y||!y&&!f)return O;throw new Promise(function(D){KS(s,p,function(){D()})})}var jl={},ev={exports:{}},QS;function Wt(){return QS||(QS=1,function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ev)),ev.exports}var tv={exports:{}},ek;function Js(){return ek||(ek=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(tv)),tv.exports}const HP=Nc(QM);var $l={},ys={},rv={exports:{}},nv={exports:{}},iv={exports:{}},tk;function P0(){return tk||(tk=1,function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(iv)),iv.exports}var av={exports:{}},rk;function oL(){return rk||(rk=1,function(t){var e=P0().default;function r(n,i){if(e(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,i||"default");if(e(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(av)),av.exports}var nk;function sL(){return nk||(nk=1,function(t){var e=P0().default,r=oL();function n(i){var a=r(i,"string");return e(a)==="symbol"?a:String(a)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(nv)),nv.exports}var ik;function UP(){return ik||(ik=1,function(t){var e=sL();function r(n,i,a){return i=e(i),i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(rv)),rv.exports}var ov={exports:{}},sv={exports:{}},ak;function lL(){return ak||(ak=1,function(t){function e(r,n){if(r==null)return{};var i={},a=Object.keys(r),s,u;for(u=0;u<a.length;u++)s=a[u],!(n.indexOf(s)>=0)&&(i[s]=r[s]);return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(sv)),sv.exports}var ok;function Dc(){return ok||(ok=1,function(t){var e=lL();function r(n,i){if(n==null)return{};var a=e(n,i),s,u;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(u=0;u<c.length;u++)s=c[u],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(a[s]=n[s])}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(ov)),ov.exports}const Op=Nc(vN);var bs={},sk;function uL(){if(sk)return bs;sk=1;var t=Wt();Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=i,bs.keys=void 0;var e=t(Js()),r=t(Dc()),n=["xs","sm","md","lg","xl"];bs.keys=n;function i(a){var s=a.values,u=s===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:s,c=a.unit,h=c===void 0?"px":c,f=a.step,g=f===void 0?5:f,p=(0,r.default)(a,["values","unit","step"]);function y(k){var C=typeof u[k]=="number"?u[k]:k;return"@media (min-width:".concat(C).concat(h,")")}function b(k){var C=n.indexOf(k)+1,R=u[n[C]];if(C===n.length)return y("xs");var _=typeof R=="number"&&C>0?R:k;return"@media (max-width:".concat(_-g/100).concat(h,")")}function v(k,C){var R=n.indexOf(C);return R===n.length-1?y(k):"@media (min-width:".concat(typeof u[k]=="number"?u[k]:k).concat(h,") and ")+"(max-width:".concat((R!==-1&&typeof u[n[R+1]]=="number"?u[n[R+1]]:C)-g/100).concat(h,")")}function S(k){return v(k,k)}function x(k){return u[k]}return(0,e.default)({keys:n,values:u,up:y,down:b,between:v,only:S,width:x},p)}return bs}var of={},lk;function cL(){if(lk)return of;lk=1;var t=Wt();Object.defineProperty(of,"__esModule",{value:!0}),of.default=n;var e=t(UP()),r=t(Js());function n(i,a,s){var u;return(0,r.default)({gutters:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),(0,r.default)({paddingLeft:a(2),paddingRight:a(2)},h,(0,e.default)({},i.up("sm"),(0,r.default)({paddingLeft:a(3),paddingRight:a(3)},h[i.up("sm")])))},toolbar:(u={minHeight:56},(0,e.default)(u,"".concat(i.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,e.default)(u,i.up("sm"),{minHeight:64}),u)},s)}return of}var Wa={},Ll={},uk;function dL(){if(uk)return Ll;uk=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.default=void 0;var t={black:"#000",white:"#fff"},e=t;return Ll.default=e,Ll}var Dl={},ck;function fL(){if(ck)return Dl;ck=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.default=void 0;var t={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},e=t;return Dl.default=e,Dl}var Bl={},dk;function pL(){if(dk)return Bl;dk=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.default=void 0;var t={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},e=t;return Bl.default=e,Bl}var zl={},fk;function hL(){if(fk)return zl;fk=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.default=void 0;var t={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},e=t;return zl.default=e,zl}var Vl={},pk;function gL(){if(pk)return Vl;pk=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=void 0;var t={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},e=t;return Vl.default=e,Vl}var Wl={},hk;function mL(){if(hk)return Wl;hk=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.default=void 0;var t={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},e=t;return Wl.default=e,Wl}var ql={},gk;function vL(){if(gk)return ql;gk=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.default=void 0;var t={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},e=t;return ql.default=e,ql}var Hl={},mk;function yL(){if(mk)return Hl;mk=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.default=void 0;var t={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},e=t;return Hl.default=e,Hl}var Hn={},vk;function bL(){if(vk)return Hn;vk=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.hexToRgb=r,Hn.rgbToHex=i,Hn.hslToRgb=a,Hn.decomposeColor=s,Hn.recomposeColor=u,Hn.getContrastRatio=c,Hn.getLuminance=h,Hn.emphasize=f,Hn.fade=g,Hn.alpha=p,Hn.darken=y,Hn.lighten=b;var t=Op;function e(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(S,v),x)}function r(v){v=v.substr(1);var S=new RegExp(".{1,".concat(v.length>=6?2:1,"}"),"g"),x=v.match(S);return x&&x[0].length===1&&(x=x.map(function(k){return k+k})),x?"rgb".concat(x.length===4?"a":"","(").concat(x.map(function(k,C){return C<3?parseInt(k,16):Math.round(parseInt(k,16)/255*1e3)/1e3}).join(", "),")"):""}function n(v){var S=v.toString(16);return S.length===1?"0".concat(S):S}function i(v){if(v.indexOf("#")===0)return v;var S=s(v),x=S.values;return"#".concat(x.map(function(k){return n(k)}).join(""))}function a(v){v=s(v);var S=v,x=S.values,k=x[0],C=x[1]/100,R=x[2]/100,_=C*Math.min(R,1-R),T=function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(F+k/30)%12;return R-_*Math.max(Math.min(M-3,9-M,1),-1)},O="rgb",D=[Math.round(T(0)*255),Math.round(T(8)*255),Math.round(T(4)*255)];return v.type==="hsla"&&(O+="a",D.push(x[3])),u({type:O,values:D})}function s(v){if(v.type)return v;if(v.charAt(0)==="#")return s(r(v));var S=v.indexOf("("),x=v.substring(0,S);if(["rgb","rgba","hsl","hsla"].indexOf(x)===-1)throw new Error((0,t.formatMuiErrorMessage)(3,v));var k=v.substring(S+1,v.length-1).split(",");return k=k.map(function(C){return parseFloat(C)}),{type:x,values:k}}function u(v){var S=v.type,x=v.values;return S.indexOf("rgb")!==-1?x=x.map(function(k,C){return C<3?parseInt(k,10):k}):S.indexOf("hsl")!==-1&&(x[1]="".concat(x[1],"%"),x[2]="".concat(x[2],"%")),"".concat(S,"(").concat(x.join(", "),")")}function c(v,S){var x=h(v),k=h(S);return(Math.max(x,k)+.05)/(Math.min(x,k)+.05)}function h(v){v=s(v);var S=v.type==="hsl"?s(a(v)).values:v.values;return S=S.map(function(x){return x/=255,x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4)}),Number((.2126*S[0]+.7152*S[1]+.0722*S[2]).toFixed(3))}function f(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return h(v)>.5?y(v,S):b(v,S)}function g(v,S){return p(v,S)}function p(v,S){return v=s(v),S=e(S),(v.type==="rgb"||v.type==="hsl")&&(v.type+="a"),v.values[3]=S,u(v)}function y(v,S){if(v=s(v),S=e(S),v.type.indexOf("hsl")!==-1)v.values[2]*=1-S;else if(v.type.indexOf("rgb")!==-1)for(var x=0;x<3;x+=1)v.values[x]*=1-S;return u(v)}function b(v,S){if(v=s(v),S=e(S),v.type.indexOf("hsl")!==-1)v.values[2]+=(100-v.values[2])*S;else if(v.type.indexOf("rgb")!==-1)for(var x=0;x<3;x+=1)v.values[x]+=(255-v.values[x])*S;return u(v)}return Hn}var yk;function xL(){if(yk)return Wa;yk=1;var t=Wt();Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=S,Wa.dark=Wa.light=void 0;var e=t(Js()),r=t(Dc()),n=Op,i=t(dL()),a=t(fL()),s=t(pL()),u=t(hL()),c=t(gL()),h=t(mL()),f=t(vL()),g=t(yL()),p=bL(),y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:i.default.white,default:a.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};Wa.light=y;var b={text:{primary:i.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:a.default[800],default:"#303030"},action:{active:i.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};Wa.dark=b;function v(x,k,C,R){var _=R.light||R,T=R.dark||R*1.5;x[k]||(x.hasOwnProperty(C)?x[k]=x[C]:k==="light"?x.light=(0,p.lighten)(x.main,_):k==="dark"&&(x.dark=(0,p.darken)(x.main,T)))}function S(x){var k=x.primary,C=k===void 0?{light:s.default[300],main:s.default[500],dark:s.default[700]}:k,R=x.secondary,_=R===void 0?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:R,T=x.error,O=T===void 0?{light:c.default[300],main:c.default[500],dark:c.default[700]}:T,D=x.warning,j=D===void 0?{light:h.default[300],main:h.default[500],dark:h.default[700]}:D,F=x.info,M=F===void 0?{light:f.default[300],main:f.default[500],dark:f.default[700]}:F,z=x.success,I=z===void 0?{light:g.default[300],main:g.default[500],dark:g.default[700]}:z,$=x.type,K=$===void 0?"light":$,U=x.contrastThreshold,G=U===void 0?3:U,B=x.tonalOffset,H=B===void 0?.2:B,N=(0,r.default)(x,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(ce){var ee=(0,p.getContrastRatio)(ce,b.text.primary)>=G?b.text.primary:y.text.primary;return ee}var W=function(ee){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ee=(0,e.default)({},ee),!ee.main&&ee[fe]&&(ee.main=ee[fe]),!ee.main)throw new Error((0,n.formatMuiErrorMessage)(4,fe));if(typeof ee.main!="string")throw new Error(_formatMuiErrorMessage(5,JSON.stringify(ee.main)));return v(ee,"light",le,H),v(ee,"dark",de,H),ee.contrastText||(ee.contrastText=L(ee.main)),ee},X={dark:b,light:y},Y=(0,n.deepmerge)((0,e.default)({common:i.default,type:K,primary:W(C),secondary:W(_,"A400","A200","A700"),error:W(O),warning:W(j),info:W(M),success:W(I),grey:a.default,contrastThreshold:G,getContrastText:L,augmentColor:W,tonalOffset:H},X[K]),N);return Y}return Wa}var sf={},bk;function wL(){if(bk)return sf;bk=1;var t=Wt();Object.defineProperty(sf,"__esModule",{value:!0}),sf.default=c;var e=t(Js()),r=t(Dc()),n=Op;function i(h){return Math.round(h*1e5)/1e5}function a(h){return i(h)}var s={textTransform:"uppercase"},u='"Roboto", "Helvetica", "Arial", sans-serif';function c(h,f){var g=typeof f=="function"?f(h):f,p=g.fontFamily,y=p===void 0?u:p,b=g.fontSize,v=b===void 0?14:b,S=g.fontWeightLight,x=S===void 0?300:S,k=g.fontWeightRegular,C=k===void 0?400:k,R=g.fontWeightMedium,_=R===void 0?500:R,T=g.fontWeightBold,O=T===void 0?700:T,D=g.htmlFontSize,j=D===void 0?16:D,F=g.allVariants,M=g.pxToRem,z=(0,r.default)(g,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),I=v/14,$=M||function(G){return"".concat(G/j*I,"rem")},K=function(B,H,N,L,W){return(0,e.default)({fontFamily:y,fontWeight:B,fontSize:$(H),lineHeight:N},y===u?{letterSpacing:"".concat(i(L/H),"em")}:{},W,F)},U={h1:K(x,96,1.167,-1.5),h2:K(x,60,1.2,-.5),h3:K(C,48,1.167,0),h4:K(C,34,1.235,.25),h5:K(C,24,1.334,0),h6:K(_,20,1.6,.15),subtitle1:K(C,16,1.75,.15),subtitle2:K(_,14,1.57,.1),body1:K(C,16,1.5,.15),body2:K(C,14,1.43,.15),button:K(_,14,1.75,.4,s),caption:K(C,12,1.66,.4),overline:K(C,12,2.66,1,s)};return(0,n.deepmerge)((0,e.default)({htmlFontSize:j,pxToRem:$,round:a,fontFamily:y,fontSize:v,fontWeightLight:x,fontWeightRegular:C,fontWeightMedium:_,fontWeightBold:O},U),z,{clone:!1})}return sf}var Ul={},xk;function SL(){if(xk)return Ul;xk=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.default=void 0;var t=.2,e=.14,r=.12;function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(t,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(e,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(r,")")].join(",")}var i=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)],a=i;return Ul.default=a,Ul}var Kl={},wk;function kL(){if(wk)return Kl;wk=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.default=void 0;var t={borderRadius:4},e=t;return Kl.default=e,Kl}var lf={};const CL=Nc(ZN);var Sk;function EL(){if(Sk)return lf;Sk=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=e;var t=CL;function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(r.mui)return r;var n=(0,t.createUnarySpacing)({spacing:r}),i=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return u.length===0?n(1):u.length===1?n(u[0]):u.map(function(h){if(typeof h=="string")return h;var f=n(h);return typeof f=="number"?"".concat(f,"px"):f}).join(" ")};return Object.defineProperty(i,"unit",{get:function(){return r}}),i.mui=!0,i}return lf}var fa={},kk;function _L(){if(kk)return fa;kk=1;var t=Wt();Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=fa.duration=fa.easing=void 0;var e=t(Dc()),r={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};fa.easing=r;var n={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};fa.duration=n;function i(s){return"".concat(Math.round(s),"ms")}var a={easing:r,duration:n,create:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.duration,f=h===void 0?n.standard:h,g=c.easing,p=g===void 0?r.easeInOut:g,y=c.delay,b=y===void 0?0:y;return(0,e.default)(c,["duration","easing","delay"]),(Array.isArray(u)?u:[u]).map(function(v){return"".concat(v," ").concat(typeof f=="string"?f:i(f)," ").concat(p," ").concat(typeof b=="string"?b:i(b))}).join(",")},getAutoHeightDuration:function(u){if(!u)return 0;var c=u/36;return Math.round((4+15*Math.pow(c,.25)+c/5)*10)}};return fa.default=a,fa}var Gl={},Ck;function PL(){if(Ck)return Gl;Ck=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.default=void 0;var t={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},e=t;return Gl.default=e,Gl}var Ek;function TL(){if(Ek)return ys;Ek=1;var t=Wt();Object.defineProperty(ys,"__esModule",{value:!0}),ys.createMuiTheme=y,ys.default=void 0,t(UP());var e=t(Dc()),r=Op,n=t(uL()),i=t(cL()),a=t(xL()),s=t(wL()),u=t(SL()),c=t(kL()),h=t(EL()),f=t(_L()),g=t(PL());function p(){for(var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=v.breakpoints,x=S===void 0?{}:S,k=v.mixins,C=k===void 0?{}:k,R=v.palette,_=R===void 0?{}:R,T=v.spacing,O=v.typography,D=O===void 0?{}:O,j=(0,e.default)(v,["breakpoints","mixins","palette","spacing","typography"]),F=(0,a.default)(_),M=(0,n.default)(x),z=(0,h.default)(T),I=(0,r.deepmerge)({breakpoints:M,direction:"ltr",mixins:(0,i.default)(M,z,C),overrides:{},palette:F,props:{},shadows:u.default,typography:(0,s.default)(F,D),spacing:z,shape:c.default,transitions:f.default,zIndex:g.default},j),$=arguments.length,K=new Array($>1?$-1:0),U=1;U<$;U++)K[U-1]=arguments[U];return I=K.reduce(function(G,B){return(0,r.deepmerge)(G,B)},I),I}function y(){return p.apply(void 0,arguments)}var b=p;return ys.default=b,ys}var _k;function KP(){if(_k)return $l;_k=1;var t=Wt();Object.defineProperty($l,"__esModule",{value:!0}),$l.default=void 0;var e=t(TL()),r=(0,e.default)(),n=r;return $l.default=n,$l}var Pk;function RL(){if(Pk)return jl;Pk=1;var t=Wt();Object.defineProperty(jl,"__esModule",{value:!0}),jl.default=void 0;var e=t(Js()),r=HP,n=t(KP());function i(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.makeStyles)(s,(0,e.default)({defaultTheme:n.default},u))}var a=i;return jl.default=a,jl}var OL=RL();const ao=zt(OL);var lv=10,uv=4,AL=function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:lv*2,lineHeight:1,padding:"0 6px",height:lv*2,borderRadius:lv,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:uv,height:uv*2,minWidth:uv*2,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}},IL=m.forwardRef(function(e,r){var n=e.anchorOrigin,i=n===void 0?{vertical:"top",horizontal:"right"}:n,a=e.badgeContent,s=e.children,u=e.classes,c=e.className,h=e.color,f=h===void 0?"default":h,g=e.component,p=g===void 0?"span":g,y=e.invisible,b=e.max,v=b===void 0?99:b,S=e.overlap,x=S===void 0?"rectangle":S,k=e.showZero,C=k===void 0?!1:k,R=e.variant,_=R===void 0?"standard":R,T=Qe(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),O=y;y==null&&(a===0&&!C||a==null&&_!=="dot")&&(O=!0);var D="";return _!=="dot"&&(D=a>v?"".concat(v,"+"):a),m.createElement(p,re({className:Le(u.root,c),ref:r},T),s,m.createElement("span",{className:Le(u.badge,u["".concat(i.horizontal).concat(Yt(i.vertical),"}")],u["anchorOrigin".concat(Yt(i.vertical)).concat(Yt(i.horizontal)).concat(Yt(x))],f!=="default"&&u["color".concat(Yt(f))],O&&u.invisible,_==="dot"&&u.dot)},D))});const GP=Rt(AL,{name:"MuiBadge"})(IL);var NL=function(e){return{root:re({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Tr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Tr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Tr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},FL=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,u=s===void 0?"default":s,c=e.component,h=c===void 0?"button":c,f=e.disabled,g=f===void 0?!1:f,p=e.disableElevation,y=p===void 0?!1:p,b=e.disableFocusRipple,v=b===void 0?!1:b,S=e.endIcon,x=e.focusVisibleClassName,k=e.fullWidth,C=k===void 0?!1:k,R=e.size,_=R===void 0?"medium":R,T=e.startIcon,O=e.type,D=O===void 0?"button":O,j=e.variant,F=j===void 0?"text":j,M=Qe(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),z=T&&m.createElement("span",{className:Le(i.startIcon,i["iconSize".concat(Yt(_))])},T),I=S&&m.createElement("span",{className:Le(i.endIcon,i["iconSize".concat(Yt(_))])},S);return m.createElement(Lo,re({className:Le(i.root,i[F],a,u==="inherit"?i.colorInherit:u!=="default"&&i["".concat(F).concat(Yt(u))],_!=="medium"&&[i["".concat(F,"Size").concat(Yt(_))],i["size".concat(Yt(_))]],y&&i.disableElevation,g&&i.disabled,C&&i.fullWidth),component:h,disabled:g,focusRipple:!v,focusVisibleClassName:Le(i.focusVisible,x),ref:r,type:D},M),m.createElement("span",{className:i.label},z,n,I))});const Ya=Rt(NL,{name:"MuiButton"})(FL);function Qs(t){var e=t.props,r=t.states,n=t.muiFormControl;return r.reduce(function(i,a){return i[a]=e[a],n&&typeof e[a]>"u"&&(i[a]=n[a]),i},{})}var Bc=m.createContext();function XP(){return m.useContext(Bc)}function uf(t,e){return parseInt(t[e],10)||0}var ML=typeof window<"u"?m.useLayoutEffect:m.useEffect,jL={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},$L=m.forwardRef(function(e,r){var n=e.onChange,i=e.rows,a=e.rowsMax,s=e.rowsMin,u=e.maxRows,c=e.minRows,h=c===void 0?1:c,f=e.style,g=e.value,p=Qe(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),y=u||a,b=i||s||h,v=m.useRef(g!=null),S=v.current,x=m.useRef(null),k=Fr(r,x),C=m.useRef(null),R=m.useRef(0),_=m.useState({}),T=_[0],O=_[1],D=m.useCallback(function(){var F=x.current,M=window.getComputedStyle(F),z=C.current;z.style.width=M.width,z.value=F.value||e.placeholder||"x",z.value.slice(-1)===`
`&&(z.value+=" ");var I=M["box-sizing"],$=uf(M,"padding-bottom")+uf(M,"padding-top"),K=uf(M,"border-bottom-width")+uf(M,"border-top-width"),U=z.scrollHeight-$;z.value="x";var G=z.scrollHeight-$,B=U;b&&(B=Math.max(Number(b)*G,B)),y&&(B=Math.min(Number(y)*G,B)),B=Math.max(B,G);var H=B+(I==="border-box"?$+K:0),N=Math.abs(B-U)<=1;O(function(L){return R.current<20&&(H>0&&Math.abs((L.outerHeightStyle||0)-H)>1||L.overflow!==N)?(R.current+=1,{overflow:N,outerHeightStyle:H}):L})},[y,b,e.placeholder]);m.useEffect(function(){var F=$o(function(){R.current=0,D()});return window.addEventListener("resize",F),function(){F.clear(),window.removeEventListener("resize",F)}},[D]),ML(function(){D()}),m.useEffect(function(){R.current=0},[g]);var j=function(M){R.current=0,S||D(),n&&n(M)};return m.createElement(m.Fragment,null,m.createElement("textarea",re({value:g,onChange:j,ref:k,rows:b,style:re({height:T.outerHeightStyle,overflow:T.overflow?"hidden":null},f)},p)),m.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:C,tabIndex:-1,style:re({},jL.shadow,f)}))});function Tk(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function T0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t&&(Tk(t.value)&&t.value!==""||e&&Tk(t.defaultValue)&&t.defaultValue!=="")}function LL(t){return t.startAdornment}var DL=function(e){var r=e.palette.type==="light",n={color:"currentColor",opacity:r?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:r?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:re({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},BL=typeof window>"u"?m.useEffect:m.useLayoutEffect,zL=m.forwardRef(function(e,r){var n=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,s=e.classes,u=e.className;e.color;var c=e.defaultValue,h=e.disabled,f=e.endAdornment;e.error;var g=e.fullWidth,p=g===void 0?!1:g,y=e.id,b=e.inputComponent,v=b===void 0?"input":b,S=e.inputProps,x=S===void 0?{}:S,k=e.inputRef;e.margin;var C=e.multiline,R=C===void 0?!1:C,_=e.name,T=e.onBlur,O=e.onChange,D=e.onClick,j=e.onFocus,F=e.onKeyDown,M=e.onKeyUp,z=e.placeholder,I=e.readOnly,$=e.renderSuffix,K=e.rows,U=e.rowsMax,G=e.rowsMin,B=e.maxRows,H=e.minRows,N=e.startAdornment,L=e.type,W=L===void 0?"text":L,X=e.value,Y=Qe(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),ce=x.value!=null?x.value:X,ee=m.useRef(ce!=null),fe=ee.current,le=m.useRef(),de=m.useCallback(function(Pe){},[]),pe=Fr(x.ref,de),he=Fr(k,pe),ke=Fr(le,he),Re=m.useState(!1),_e=Re[0],et=Re[1],Me=XP(),De=Qs({props:e,muiFormControl:Me,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});De.focused=Me?Me.focused:_e,m.useEffect(function(){!Me&&h&&_e&&(et(!1),T&&T())},[Me,h,_e,T]);var gt=Me&&Me.onFilled,Ge=Me&&Me.onEmpty,yt=m.useCallback(function(Pe){T0(Pe)?gt&&gt():Ge&&Ge()},[gt,Ge]);BL(function(){fe&&yt({value:ce})},[ce,yt,fe]);var ht=function(Q){if(De.disabled){Q.stopPropagation();return}j&&j(Q),x.onFocus&&x.onFocus(Q),Me&&Me.onFocus?Me.onFocus(Q):et(!0)},Oe=function(Q){T&&T(Q),x.onBlur&&x.onBlur(Q),Me&&Me.onBlur?Me.onBlur(Q):et(!1)},Ie=function(Q){if(!fe){var Et=Q.target||le.current;if(Et==null)throw new Error(Fo(1));yt({value:Et.value})}for(var Tt=arguments.length,st=new Array(Tt>1?Tt-1:0),Z=1;Z<Tt;Z++)st[Z-1]=arguments[Z];x.onChange&&x.onChange.apply(x,[Q].concat(st)),O&&O.apply(void 0,[Q].concat(st))};m.useEffect(function(){yt(le.current)},[]);var We=function(Q){le.current&&Q.currentTarget===Q.target&&le.current.focus(),D&&D(Q)},mt=v,Be=re({},x,{ref:ke});typeof mt!="string"?Be=re({inputRef:ke,type:W},Be,{ref:null}):R?K&&!B&&!H&&!U&&!G?mt="textarea":(Be=re({minRows:K||H,rowsMax:U,maxRows:B},Be),mt=$L):Be=re({type:W},Be);var tt=function(Q){yt(Q.animationName==="mui-auto-fill-cancel"?le.current:{value:"x"})};return m.useEffect(function(){Me&&Me.setAdornedStart(!!N)},[Me,N]),m.createElement("div",re({className:Le(s.root,s["color".concat(Yt(De.color||"primary"))],u,De.disabled&&s.disabled,De.error&&s.error,p&&s.fullWidth,De.focused&&s.focused,Me&&s.formControl,R&&s.multiline,N&&s.adornedStart,f&&s.adornedEnd,De.margin==="dense"&&s.marginDense),onClick:We,ref:r},Y),N,m.createElement(Bc.Provider,{value:null},m.createElement(mt,re({"aria-invalid":De.error,"aria-describedby":n,autoComplete:i,autoFocus:a,defaultValue:c,disabled:De.disabled,id:y,onAnimationStart:tt,name:_,placeholder:z,readOnly:I,required:De.required,rows:K,value:ce,onKeyDown:F,onKeyUp:M},Be,{className:Le(s.input,x.className,De.disabled&&s.disabled,R&&s.inputMultiline,De.hiddenLabel&&s.inputHiddenLabel,N&&s.inputAdornedStart,f&&s.inputAdornedEnd,W==="search"&&s.inputTypeSearch,De.margin==="dense"&&s.inputMarginDense),onBlur:Oe,onChange:Ie,onFocus:ht}))),f,$?$(re({},De,{startAdornment:N})):null)});const R0=Rt(DL,{name:"MuiInputBase"})(zL);var VL=function(e){var r=e.palette.type==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},YP=m.forwardRef(function(e,r){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,s=a===void 0?!1:a,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,g=e.type,p=g===void 0?"text":g,y=Qe(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return m.createElement(R0,re({classes:re({},i,{root:Le(i.root,!n&&i.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:r,type:p},y))});YP.muiName="Input";const Ap=Rt(VL,{name:"MuiInput"})(YP);var WL=function(e){var r=e.palette.type==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:r?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},ZP=m.forwardRef(function(e,r){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,s=a===void 0?!1:a,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,g=e.type,p=g===void 0?"text":g,y=Qe(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return m.createElement(R0,re({classes:re({},i,{root:Le(i.root,!n&&i.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:r,type:p},y))});ZP.muiName="Input";const JP=Rt(WL,{name:"MuiFilledInput"})(ZP);var qL=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},HL=m.forwardRef(function(e,r){e.children;var n=e.classes,i=e.className,a=e.label,s=e.labelWidth,u=e.notched,c=e.style,h=Qe(e,["children","classes","className","label","labelWidth","notched","style"]),f=si(),g=f.direction==="rtl"?"right":"left";if(a!==void 0)return m.createElement("fieldset",re({"aria-hidden":!0,className:Le(n.root,i),ref:r,style:c},h),m.createElement("legend",{className:Le(n.legendLabelled,u&&n.legendNotched)},a?m.createElement("span",null,a):m.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var p=s>0?s*.75+8:.01;return m.createElement("fieldset",re({"aria-hidden":!0,style:re(fr({},"padding".concat(Yt(g)),8),c),className:Le(n.root,i),ref:r},h),m.createElement("legend",{className:n.legend,style:{width:u?p:.01}},m.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const UL=Rt(qL,{name:"PrivateNotchedOutline"})(HL);var KL=function(e){var r=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:r}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:r},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},QP=m.forwardRef(function(e,r){var n=e.classes,i=e.fullWidth,a=i===void 0?!1:i,s=e.inputComponent,u=s===void 0?"input":s,c=e.label,h=e.labelWidth,f=h===void 0?0:h,g=e.multiline,p=g===void 0?!1:g,y=e.notched,b=e.type,v=b===void 0?"text":b,S=Qe(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return m.createElement(R0,re({renderSuffix:function(k){return m.createElement(UL,{className:n.notchedOutline,label:c,labelWidth:f,notched:typeof y<"u"?y:!!(k.startAdornment||k.filled||k.focused)})},classes:re({},n,{root:Le(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:u,multiline:p,ref:r,type:v},S))});QP.muiName="Input";const eT=Rt(KL,{name:"MuiOutlinedInput"})(QP);function Vo(){return m.useContext(Bc)}var GL=function(e){return{root:re({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},XL=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className;e.color;var s=e.component,u=s===void 0?"label":s;e.disabled,e.error,e.filled,e.focused,e.required;var c=Qe(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),h=Vo(),f=Qs({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return m.createElement(u,re({className:Le(i.root,i["color".concat(Yt(f.color||"primary"))],a,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required),ref:r},c),n,f.required&&m.createElement("span",{"aria-hidden":!0,className:Le(i.asterisk,f.error&&i.error)}," ","*"))});const Co=Rt(GL,{name:"MuiFormLabel"})(XL);var YL=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},ZL=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.disableAnimation,s=a===void 0?!1:a;e.margin;var u=e.shrink;e.variant;var c=Qe(e,["classes","className","disableAnimation","margin","shrink","variant"]),h=Vo(),f=u;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);var g=Qs({props:e,muiFormControl:h,states:["margin","variant"]});return m.createElement(Co,re({"data-shrink":f,className:Le(n.root,i,h&&n.formControl,!s&&n.animated,f&&n.shrink,g.margin==="dense"&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:r},c))});const tT=Rt(YL,{name:"MuiInputLabel"})(ZL);var JL={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},QL=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,u=s===void 0?"primary":s,c=e.component,h=c===void 0?"div":c,f=e.disabled,g=f===void 0?!1:f,p=e.error,y=p===void 0?!1:p,b=e.fullWidth,v=b===void 0?!1:b,S=e.focused,x=e.hiddenLabel,k=x===void 0?!1:x,C=e.margin,R=C===void 0?"none":C,_=e.required,T=_===void 0?!1:_,O=e.size,D=e.variant,j=D===void 0?"standard":D,F=Qe(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),M=m.useState(function(){var ce=!1;return n&&m.Children.forEach(n,function(ee){if(cc(ee,["Input","Select"])){var fe=cc(ee,["Select"])?ee.props.input:ee;fe&&LL(fe.props)&&(ce=!0)}}),ce}),z=M[0],I=M[1],$=m.useState(function(){var ce=!1;return n&&m.Children.forEach(n,function(ee){cc(ee,["Input","Select"])&&T0(ee.props,!0)&&(ce=!0)}),ce}),K=$[0],U=$[1],G=m.useState(!1),B=G[0],H=G[1],N=S!==void 0?S:B;g&&N&&H(!1);var L,W=m.useCallback(function(){U(!0)},[]),X=m.useCallback(function(){U(!1)},[]),Y={adornedStart:z,setAdornedStart:I,color:u,disabled:g,error:y,filled:K,focused:N,fullWidth:v,hiddenLabel:k,margin:(O==="small"?"dense":void 0)||R,onBlur:function(){H(!1)},onEmpty:X,onFilled:W,onFocus:function(){H(!0)},registerEffect:L,required:T,variant:j};return m.createElement(Bc.Provider,{value:Y},m.createElement(h,re({className:Le(i.root,a,R!=="none"&&i["margin".concat(Yt(R))],v&&i.fullWidth),ref:r},F),n))});const O0=Rt(JL,{name:"MuiFormControl"})(QL);var e3=function(e){return{root:re({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},t3=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,u=s===void 0?"p":s;e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant;var c=Qe(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),h=Vo(),f=Qs({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return m.createElement(u,re({className:Le(i.root,(f.variant==="filled"||f.variant==="outlined")&&i.contained,a,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required,f.margin==="dense"&&i.marginDense),ref:r},c),n===" "?m.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)});const rT=Rt(e3,{name:"MuiFormHelperText"})(t3);function r3(t){return t=typeof t=="function"?t():t,bi.findDOMNode(t)}var cv=typeof window<"u"?m.useLayoutEffect:m.useEffect,nT=m.forwardRef(function(e,r){var n=e.children,i=e.container,a=e.disablePortal,s=a===void 0?!1:a,u=e.onRendered,c=m.useState(null),h=c[0],f=c[1],g=Fr(m.isValidElement(n)?n.ref:null,r);return cv(function(){s||f(r3(i)||document.body)},[i,s]),cv(function(){if(h&&!s)return Ea(r,h),function(){Ea(r,null)}},[r,h,s]),cv(function(){u&&(h||s)&&u()},[u,h,s]),s?m.isValidElement(n)?m.cloneElement(n,{ref:g}):n:h&&bi.createPortal(n,h)});function iT(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function n3(t){var e=ai(t);return e.body===t?_p(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function dc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Rk(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function Ok(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[e,r].concat(Ys(n)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(u){u.nodeType===1&&a.indexOf(u)===-1&&s.indexOf(u.tagName)===-1&&dc(u,i)})}function dv(t,e){var r=-1;return t.some(function(n,i){return e(n)?(r=i,!0):!1}),r}function i3(t,e){var r=[],n=[],i=t.container,a;if(!e.disableScrollLock){if(n3(i)){var s=iT();r.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(Rk(i)+s,"px"),a=ai(i).querySelectorAll(".mui-fixed"),[].forEach.call(a,function(f){n.push(f.style.paddingRight),f.style.paddingRight="".concat(Rk(f)+s,"px")})}var u=i.parentElement,c=u.nodeName==="HTML"&&window.getComputedStyle(u)["overflow-y"]==="scroll"?u:i;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}var h=function(){a&&[].forEach.call(a,function(g,p){n[p]?g.style.paddingRight=n[p]:g.style.removeProperty("padding-right")}),r.forEach(function(g){var p=g.value,y=g.el,b=g.key;p?y.style.setProperty(b,p):y.style.removeProperty(b)})};return h}function a3(t){var e=[];return[].forEach.call(t.children,function(r){r.getAttribute&&r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}var o3=function(){function t(){vi(this,t),this.modals=[],this.containers=[]}return Xn(t,[{key:"add",value:function(r,n){var i=this.modals.indexOf(r);if(i!==-1)return i;i=this.modals.length,this.modals.push(r),r.modalRef&&dc(r.modalRef,!1);var a=a3(n);Ok(n,r.mountNode,r.modalRef,a,!0);var s=dv(this.containers,function(u){return u.container===n});return s!==-1?(this.containers[s].modals.push(r),i):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblingNodes:a}),i)}},{key:"mount",value:function(r,n){var i=dv(this.containers,function(s){return s.modals.indexOf(r)!==-1}),a=this.containers[i];a.restore||(a.restore=i3(a,n))}},{key:"remove",value:function(r){var n=this.modals.indexOf(r);if(n===-1)return n;var i=dv(this.containers,function(u){return u.modals.indexOf(r)!==-1}),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(r),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),r.modalRef&&dc(r.modalRef,!0),Ok(a.container,r.mountNode,r.modalRef,a.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var s=a.modals[a.modals.length-1];s.modalRef&&dc(s.modalRef,!1)}return n}},{key:"isTopModal",value:function(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}]),t}();function s3(t){var e=t.children,r=t.disableAutoFocus,n=r===void 0?!1:r,i=t.disableEnforceFocus,a=i===void 0?!1:i,s=t.disableRestoreFocus,u=s===void 0?!1:s,c=t.getDoc,h=t.isEnabled,f=t.open,g=m.useRef(),p=m.useRef(null),y=m.useRef(null),b=m.useRef(),v=m.useRef(null),S=m.useCallback(function(C){v.current=bi.findDOMNode(C)},[]),x=Fr(e.ref,S),k=m.useRef();return m.useEffect(function(){k.current=f},[f]),!k.current&&f&&typeof window<"u"&&(b.current=c().activeElement),m.useEffect(function(){if(f){var C=ai(v.current);!n&&v.current&&!v.current.contains(C.activeElement)&&(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var R=function(){var D=v.current;if(D!==null){if(!C.hasFocus()||a||!h()||g.current){g.current=!1;return}v.current&&!v.current.contains(C.activeElement)&&v.current.focus()}},_=function(D){a||!h()||D.keyCode!==9||C.activeElement===v.current&&(g.current=!0,D.shiftKey?y.current.focus():p.current.focus())};C.addEventListener("focus",R,!0),C.addEventListener("keydown",_,!0);var T=setInterval(function(){R()},50);return function(){clearInterval(T),C.removeEventListener("focus",R,!0),C.removeEventListener("keydown",_,!0),u||(b.current&&b.current.focus&&b.current.focus(),b.current=null)}}},[n,a,u,h,f]),m.createElement(m.Fragment,null,m.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),m.cloneElement(e,{ref:x}),m.createElement("div",{tabIndex:0,ref:y,"data-test":"sentinelEnd"}))}var Ak={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},l3=m.forwardRef(function(e,r){var n=e.invisible,i=n===void 0?!1:n,a=e.open,s=Qe(e,["invisible","open"]);return a?m.createElement("div",re({"aria-hidden":!0,ref:r},s,{style:re({},Ak.root,i?Ak.invisible:{},s.style)})):null});function u3(t){return t=typeof t=="function"?t():t,bi.findDOMNode(t)}function c3(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var d3=new o3,f3=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},Ip=m.forwardRef(function(e,r){var n=Pa(),i=wp({name:"MuiModal",props:re({},e),theme:n}),a=i.BackdropComponent,s=a===void 0?l3:a,u=i.BackdropProps,c=i.children,h=i.closeAfterTransition,f=h===void 0?!1:h,g=i.container,p=i.disableAutoFocus,y=p===void 0?!1:p,b=i.disableBackdropClick,v=b===void 0?!1:b,S=i.disableEnforceFocus,x=S===void 0?!1:S,k=i.disableEscapeKeyDown,C=k===void 0?!1:k,R=i.disablePortal,_=R===void 0?!1:R,T=i.disableRestoreFocus,O=T===void 0?!1:T,D=i.disableScrollLock,j=D===void 0?!1:D,F=i.hideBackdrop,M=F===void 0?!1:F,z=i.keepMounted,I=z===void 0?!1:z,$=i.manager,K=$===void 0?d3:$,U=i.onBackdropClick,G=i.onClose,B=i.onEscapeKeyDown,H=i.onRendered,N=i.open,L=Qe(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),W=m.useState(!0),X=W[0],Y=W[1],ce=m.useRef({}),ee=m.useRef(null),fe=m.useRef(null),le=Fr(fe,r),de=c3(i),pe=function(){return ai(ee.current)},he=function(){return ce.current.modalRef=fe.current,ce.current.mountNode=ee.current,ce.current},ke=function(){K.mount(he(),{disableScrollLock:j}),fe.current.scrollTop=0},Re=Zr(function(){var Ie=u3(g)||pe().body;K.add(he(),Ie),fe.current&&ke()}),_e=m.useCallback(function(){return K.isTopModal(he())},[K]),et=Zr(function(Ie){ee.current=Ie,Ie&&(H&&H(),N&&_e()?ke():dc(fe.current,!0))}),Me=m.useCallback(function(){K.remove(he())},[K]);if(m.useEffect(function(){return function(){Me()}},[Me]),m.useEffect(function(){N?Re():(!de||!f)&&Me()},[N,Me,de,f,Re]),!I&&!N&&(!de||X))return null;var De=function(){Y(!1)},gt=function(){Y(!0),f&&Me()},Ge=function(We){We.target===We.currentTarget&&(U&&U(We),!v&&G&&G(We,"backdropClick"))},yt=function(We){We.key!=="Escape"||!_e()||(B&&B(We),C||(We.stopPropagation(),G&&G(We,"escapeKeyDown")))},ht=f3(n||{zIndex:rP}),Oe={};return c.props.tabIndex===void 0&&(Oe.tabIndex=c.props.tabIndex||"-1"),de&&(Oe.onEnter=jo(De,c.props.onEnter),Oe.onExited=jo(gt,c.props.onExited)),m.createElement(nT,{ref:et,container:g,disablePortal:_},m.createElement("div",re({ref:le,onKeyDown:yt,role:"presentation"},L,{style:re({},ht.root,!N&&X?ht.hidden:{},L.style)}),M?null:m.createElement(s,re({open:N,onClick:Ge},u)),m.createElement(s3,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:O,getDoc:pe,isEnabled:_e,open:N},m.cloneElement(c,Oe))))});function Ik(t,e){var r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function Nk(t,e){var r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function Fk(t){return[t.horizontal,t.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function p3(t,e){for(var r=e,n=0;r&&r!==t;)r=r.parentElement,n+=r.scrollTop;return n}function fv(t){return typeof t=="function"?t():t}var h3={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},g3=m.forwardRef(function(e,r){var n=e.action,i=e.anchorEl,a=e.anchorOrigin,s=a===void 0?{vertical:"top",horizontal:"left"}:a,u=e.anchorPosition,c=e.anchorReference,h=c===void 0?"anchorEl":c,f=e.children,g=e.classes,p=e.className,y=e.container,b=e.elevation,v=b===void 0?8:b,S=e.getContentAnchorEl,x=e.marginThreshold,k=x===void 0?16:x,C=e.onEnter,R=e.onEntered,_=e.onEntering,T=e.onExit,O=e.onExited,D=e.onExiting,j=e.open,F=e.PaperProps,M=F===void 0?{}:F,z=e.transformOrigin,I=z===void 0?{vertical:"top",horizontal:"left"}:z,$=e.TransitionComponent,K=$===void 0?Rp:$,U=e.transitionDuration,G=U===void 0?"auto":U,B=e.TransitionProps,H=B===void 0?{}:B,N=Qe(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),L=m.useRef(),W=m.useCallback(function(he){if(h==="anchorPosition")return u;var ke=fv(i),Re=ke&&ke.nodeType===1?ke:ai(L.current).body,_e=Re.getBoundingClientRect(),et=he===0?s.vertical:"center";return{top:_e.top+Ik(_e,et),left:_e.left+Nk(_e,s.horizontal)}},[i,s.horizontal,s.vertical,u,h]),X=m.useCallback(function(he){var ke=0;if(S&&h==="anchorEl"){var Re=S(he);if(Re&&he.contains(Re)){var _e=p3(he,Re);ke=Re.offsetTop+Re.clientHeight/2-_e||0}}return ke},[s.vertical,h,S]),Y=m.useCallback(function(he){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:Ik(he,I.vertical)+ke,horizontal:Nk(he,I.horizontal)}},[I.horizontal,I.vertical]),ce=m.useCallback(function(he){var ke=X(he),Re={width:he.offsetWidth,height:he.offsetHeight},_e=Y(Re,ke);if(h==="none")return{top:null,left:null,transformOrigin:Fk(_e)};var et=W(ke),Me=et.top-_e.vertical,De=et.left-_e.horizontal,gt=Me+Re.height,Ge=De+Re.width,yt=_p(fv(i)),ht=yt.innerHeight-k,Oe=yt.innerWidth-k;if(Me<k){var Ie=Me-k;Me-=Ie,_e.vertical+=Ie}else if(gt>ht){var We=gt-ht;Me-=We,_e.vertical+=We}if(De<k){var mt=De-k;De-=mt,_e.horizontal+=mt}else if(Ge>Oe){var Be=Ge-Oe;De-=Be,_e.horizontal+=Be}return{top:"".concat(Math.round(Me),"px"),left:"".concat(Math.round(De),"px"),transformOrigin:Fk(_e)}},[i,h,W,X,Y,k]),ee=m.useCallback(function(){var he=L.current;if(he){var ke=ce(he);ke.top!==null&&(he.style.top=ke.top),ke.left!==null&&(he.style.left=ke.left),he.style.transformOrigin=ke.transformOrigin}},[ce]),fe=function(ke,Re){_&&_(ke,Re),ee()},le=m.useCallback(function(he){L.current=bi.findDOMNode(he)},[]);m.useEffect(function(){j&&ee()}),m.useImperativeHandle(n,function(){return j?{updatePosition:function(){ee()}}:null},[j,ee]),m.useEffect(function(){if(j){var he=$o(function(){ee()});return window.addEventListener("resize",he),function(){he.clear(),window.removeEventListener("resize",he)}}},[j,ee]);var de=G;G==="auto"&&!K.muiSupportAuto&&(de=void 0);var pe=y||(i?ai(fv(i)).body:void 0);return m.createElement(Ip,re({container:pe,open:j,ref:r,BackdropProps:{invisible:!0},className:Le(g.root,p)},N),m.createElement(K,re({appear:!0,in:j,onEnter:C,onEntered:R,onExit:T,onExited:O,onExiting:D,timeout:de},H,{onEntering:jo(fe,H.onEntering)}),m.createElement(oi,re({elevation:v,ref:le},M,{className:Le(g.paper,M.className)}),f)))});const Ta=Rt(h3,{name:"MuiPopover"})(g3);var Ns=m.createContext({}),m3={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},v3=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,u=s===void 0?"ul":s,c=e.dense,h=c===void 0?!1:c,f=e.disablePadding,g=f===void 0?!1:f,p=e.subheader,y=Qe(e,["children","classes","className","component","dense","disablePadding","subheader"]),b=m.useMemo(function(){return{dense:h}},[h]);return m.createElement(Ns.Provider,{value:b},m.createElement(u,re({className:Le(i.root,a,h&&i.dense,!g&&i.padding,p&&i.subheader),ref:r},y),p,n))});const ra=Rt(m3,{name:"MuiList"})(v3);function pv(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function Mk(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function aT(t,e){if(e===void 0)return!0;var r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function Xl(t,e,r,n,i,a){for(var s=!1,u=i(t,e,e?r:!1);u;){if(u===t.firstChild){if(s)return;s=!0}var c=n?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!aT(u,a)||c)u=i(t,u,r);else{u.focus();return}}}var y3=typeof window>"u"?m.useEffect:m.useLayoutEffect,b3=m.forwardRef(function(e,r){var n=e.actions,i=e.autoFocus,a=i===void 0?!1:i,s=e.autoFocusItem,u=s===void 0?!1:s,c=e.children,h=e.className,f=e.disabledItemsFocusable,g=f===void 0?!1:f,p=e.disableListWrap,y=p===void 0?!1:p,b=e.onKeyDown,v=e.variant,S=v===void 0?"selectedMenu":v,x=Qe(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=m.useRef(null),C=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});y3(function(){a&&k.current.focus()},[a]),m.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(F,M){var z=!k.current.style.width;if(F.clientHeight<k.current.clientHeight&&z){var I="".concat(iT(),"px");k.current.style[M.direction==="rtl"?"paddingLeft":"paddingRight"]=I,k.current.style.width="calc(100% + ".concat(I,")")}return k.current}}},[]);var R=function(F){var M=k.current,z=F.key,I=ai(M).activeElement;if(z==="ArrowDown")F.preventDefault(),Xl(M,I,y,g,pv);else if(z==="ArrowUp")F.preventDefault(),Xl(M,I,y,g,Mk);else if(z==="Home")F.preventDefault(),Xl(M,null,y,g,pv);else if(z==="End")F.preventDefault(),Xl(M,null,y,g,Mk);else if(z.length===1){var $=C.current,K=z.toLowerCase(),U=performance.now();$.keys.length>0&&(U-$.lastTime>500?($.keys=[],$.repeating=!0,$.previousKeyMatched=!0):$.repeating&&K!==$.keys[0]&&($.repeating=!1)),$.lastTime=U,$.keys.push(K);var G=I&&!$.repeating&&aT(I,$);$.previousKeyMatched&&(G||Xl(M,I,!1,g,pv,$))?F.preventDefault():$.previousKeyMatched=!1}b&&b(F)},_=m.useCallback(function(j){k.current=bi.findDOMNode(j)},[]),T=Fr(_,r),O=-1;m.Children.forEach(c,function(j,F){m.isValidElement(j)&&(j.props.disabled||(S==="selectedMenu"&&j.props.selected||O===-1)&&(O=F))});var D=m.Children.map(c,function(j,F){if(F===O){var M={};return u&&(M.autoFocus=!0),j.props.tabIndex===void 0&&S==="selectedMenu"&&(M.tabIndex=0),m.cloneElement(j,M)}return j});return m.createElement(ra,re({role:"menu",ref:T,className:h,onKeyDown:R,tabIndex:a?0:-1},x),D)}),jk={vertical:"top",horizontal:"right"},$k={vertical:"top",horizontal:"left"},x3={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},w3=m.forwardRef(function(e,r){var n=e.autoFocus,i=n===void 0?!0:n,a=e.children,s=e.classes,u=e.disableAutoFocusItem,c=u===void 0?!1:u,h=e.MenuListProps,f=h===void 0?{}:h,g=e.onClose,p=e.onEntering,y=e.open,b=e.PaperProps,v=b===void 0?{}:b,S=e.PopoverClasses,x=e.transitionDuration,k=x===void 0?"auto":x,C=e.TransitionProps;C=C===void 0?{}:C;var R=C.onEntering,_=Qe(C,["onEntering"]),T=e.variant,O=T===void 0?"selectedMenu":T,D=Qe(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),j=si(),F=i&&!c&&y,M=m.useRef(null),z=m.useRef(null),I=function(){return z.current},$=function(H,N){M.current&&M.current.adjustStyleForScrollbar(H,j),p&&p(H,N),R&&R(H,N)},K=function(H){H.key==="Tab"&&(H.preventDefault(),g&&g(H,"tabKeyDown"))},U=-1;m.Children.map(a,function(B,H){m.isValidElement(B)&&(B.props.disabled||(O!=="menu"&&B.props.selected||U===-1)&&(U=H))});var G=m.Children.map(a,function(B,H){return H===U?m.cloneElement(B,{ref:function(L){z.current=bi.findDOMNode(L),Ea(B.ref,L)}}):B});return m.createElement(Ta,re({getContentAnchorEl:I,classes:S,onClose:g,TransitionProps:re({onEntering:$},_),anchorOrigin:j.direction==="rtl"?jk:$k,transformOrigin:j.direction==="rtl"?jk:$k,PaperProps:re({},v,{classes:re({},v.classes,{root:s.paper})}),open:y,ref:r,transitionDuration:k},D),m.createElement(b3,re({onKeyDown:K,actions:M,autoFocus:i&&(U===-1||c),autoFocusItem:F,variant:O},f,{className:Le(s.list,f.className)}),G))});const oT=Rt(x3,{name:"MuiMenu"})(w3);function Lk(t,e){return cn(e)==="object"&&e!==null?t===e:String(t)===String(e)}function S3(t){return t==null||typeof t=="string"&&!t.trim()}var k3=m.forwardRef(function(e,r){var n=e["aria-label"],i=e.autoFocus,a=e.autoWidth,s=e.children,u=e.classes,c=e.className,h=e.defaultValue,f=e.disabled,g=e.displayEmpty,p=e.IconComponent,y=e.inputRef,b=e.labelId,v=e.MenuProps,S=v===void 0?{}:v,x=e.multiple,k=e.name,C=e.onBlur,R=e.onChange,_=e.onClose,T=e.onFocus,O=e.onOpen,D=e.open,j=e.readOnly,F=e.renderValue,M=e.SelectDisplayProps,z=M===void 0?{}:M,I=e.tabIndex;e.type;var $=e.value,K=e.variant,U=K===void 0?"standard":K,G=Qe(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),B=wa({controlled:$,default:h,name:"Select"}),H=Ni(B,2),N=H[0],L=H[1],W=m.useRef(null),X=m.useState(null),Y=X[0],ce=X[1],ee=m.useRef(D!=null),fe=ee.current,le=m.useState(),de=le[0],pe=le[1],he=m.useState(!1),ke=he[0],Re=he[1],_e=Fr(r,y);m.useImperativeHandle(_e,function(){return{focus:function(){Y.focus()},node:W.current,value:N}},[Y,N]),m.useEffect(function(){i&&Y&&Y.focus()},[i,Y]),m.useEffect(function(){if(Y){var st=ai(Y).getElementById(b);if(st){var Z=function(){getSelection().isCollapsed&&Y.focus()};return st.addEventListener("click",Z),function(){st.removeEventListener("click",Z)}}}},[b,Y]);var et=function(Z,ie){Z?O&&O(ie):_&&_(ie),fe||(pe(a?null:Y.clientWidth),Re(Z))},Me=function(Z){Z.button===0&&(Z.preventDefault(),Y.focus(),et(!0,Z))},De=function(Z){et(!1,Z)},gt=m.Children.toArray(s),Ge=function(Z){var ie=gt.map(function(se){return se.props.value}).indexOf(Z.target.value);if(ie!==-1){var rt=gt[ie];L(rt.props.value),R&&R(Z,rt)}},yt=function(Z){return function(ie){x||et(!1,ie);var rt;if(x){rt=Array.isArray(N)?N.slice():[];var se=N.indexOf(Z.props.value);se===-1?rt.push(Z.props.value):rt.splice(se,1)}else rt=Z.props.value;Z.props.onClick&&Z.props.onClick(ie),N!==rt&&(L(rt),R&&(ie.persist(),Object.defineProperty(ie,"target",{writable:!0,value:{value:rt,name:k}}),R(ie,Z)))}},ht=function(Z){if(!j){var ie=[" ","ArrowUp","ArrowDown","Enter"];ie.indexOf(Z.key)!==-1&&(Z.preventDefault(),et(!0,Z))}},Oe=Y!==null&&(fe?D:ke),Ie=function(Z){!Oe&&C&&(Z.persist(),Object.defineProperty(Z,"target",{writable:!0,value:{value:N,name:k}}),C(Z))};delete G["aria-invalid"];var We,mt,Be=[],tt=!1;(T0({value:N})||g)&&(F?We=F(N):tt=!0);var Pe=gt.map(function(st){if(!m.isValidElement(st))return null;var Z;if(x){if(!Array.isArray(N))throw new Error(Fo(2));Z=N.some(function(ie){return Lk(ie,st.props.value)}),Z&&tt&&Be.push(st.props.children)}else Z=Lk(N,st.props.value),Z&&tt&&(mt=st.props.children);return m.cloneElement(st,{"aria-selected":Z?"true":void 0,onClick:yt(st),onKeyUp:function(rt){rt.key===" "&&rt.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(rt)},role:"option",selected:Z,value:void 0,"data-value":st.props.value})});tt&&(We=x?Be.join(", "):mt);var Q=de;!a&&fe&&Y&&(Q=Y.clientWidth);var Et;typeof I<"u"?Et=I:Et=f?null:0;var Tt=z.id||(k?"mui-component-select-".concat(k):void 0);return m.createElement(m.Fragment,null,m.createElement("div",re({className:Le(u.root,u.select,u.selectMenu,u[U],c,f&&u.disabled),ref:ce,tabIndex:Et,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":Oe?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[b,Tt].filter(Boolean).join(" ")||void 0,onKeyDown:ht,onMouseDown:f||j?null:Me,onBlur:Ie,onFocus:T},z,{id:Tt}),S3(We)?m.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):We),m.createElement("input",re({value:Array.isArray(N)?N.join(","):N,name:k,ref:W,"aria-hidden":!0,onChange:Ge,tabIndex:-1,className:u.nativeInput,autoFocus:i},G)),m.createElement(p,{className:Le(u.icon,u["icon".concat(Yt(U))],Oe&&u.iconOpen,f&&u.disabled)}),m.createElement(oT,re({id:"menu-".concat(k||""),anchorEl:Y,open:Oe,onClose:De},S,{MenuListProps:re({"aria-labelledby":b,role:"listbox",disableListWrap:!0},S.MenuListProps),PaperProps:re({},S.PaperProps,{style:re({minWidth:Q},S.PaperProps!=null?S.PaperProps.style:null)})}),Pe))});const sT=yi(m.createElement("path",{d:"M7 10l5 5 5-5z"}));var lT=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.disabled,s=e.IconComponent,u=e.inputRef,c=e.variant,h=c===void 0?"standard":c,f=Qe(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return m.createElement(m.Fragment,null,m.createElement("select",re({className:Le(n.root,n.select,n[h],i,a&&n.disabled),disabled:a,ref:u||r},f)),e.multiple?null:m.createElement(s,{className:Le(n.icon,n["icon".concat(Yt(h))],a&&n.disabled)}))}),uT=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},C3=m.createElement(Ap,null),cT=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.IconComponent,s=a===void 0?sT:a,u=e.input,c=u===void 0?C3:u,h=e.inputProps;e.variant;var f=Qe(e,["children","classes","IconComponent","input","inputProps","variant"]),g=Vo(),p=Qs({props:e,muiFormControl:g,states:["variant"]});return m.cloneElement(c,re({inputComponent:lT,inputProps:re({children:n,classes:i,IconComponent:s,variant:p.variant,type:void 0},h,c?c.props.inputProps:{}),ref:r},f))});cT.muiName="Select";Rt(uT,{name:"MuiNativeSelect"})(cT);var E3=uT,_3=m.createElement(Ap,null),P3=m.createElement(JP,null),dT=m.forwardRef(function t(e,r){var n=e.autoWidth,i=n===void 0?!1:n,a=e.children,s=e.classes,u=e.displayEmpty,c=u===void 0?!1:u,h=e.IconComponent,f=h===void 0?sT:h,g=e.id,p=e.input,y=e.inputProps,b=e.label,v=e.labelId,S=e.labelWidth,x=S===void 0?0:S,k=e.MenuProps,C=e.multiple,R=C===void 0?!1:C,_=e.native,T=_===void 0?!1:_,O=e.onClose,D=e.onOpen,j=e.open,F=e.renderValue,M=e.SelectDisplayProps,z=e.variant,I=z===void 0?"standard":z,$=Qe(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),K=T?lT:k3,U=Vo(),G=Qs({props:e,muiFormControl:U,states:["variant"]}),B=G.variant||I,H=p||{standard:_3,outlined:m.createElement(eT,{label:b,labelWidth:x}),filled:P3}[B];return m.cloneElement(H,re({inputComponent:K,inputProps:re({children:a,IconComponent:f,variant:B,type:void 0,multiple:R},T?{id:g}:{autoWidth:i,displayEmpty:c,labelId:v,MenuProps:k,onClose:O,onOpen:D,open:j,renderValue:F,SelectDisplayProps:re({id:g},M)},y,{classes:y?Cp({baseClasses:s,newClasses:y.classes,Component:t}):s},p?p.props.inputProps:{}),ref:r},$))});dT.muiName="Select";const fT=Rt(E3,{name:"MuiSelect"})(dT);var T3={standard:Ap,filled:JP,outlined:eT},R3={root:{}},O3=m.forwardRef(function(e,r){var n=e.autoComplete,i=e.autoFocus,a=i===void 0?!1:i,s=e.children,u=e.classes,c=e.className,h=e.color,f=h===void 0?"primary":h,g=e.defaultValue,p=e.disabled,y=p===void 0?!1:p,b=e.error,v=b===void 0?!1:b,S=e.FormHelperTextProps,x=e.fullWidth,k=x===void 0?!1:x,C=e.helperText,R=e.hiddenLabel,_=e.id,T=e.InputLabelProps,O=e.inputProps,D=e.InputProps,j=e.inputRef,F=e.label,M=e.multiline,z=M===void 0?!1:M,I=e.name,$=e.onBlur,K=e.onChange,U=e.onFocus,G=e.placeholder,B=e.required,H=B===void 0?!1:B,N=e.rows,L=e.rowsMax,W=e.maxRows,X=e.minRows,Y=e.select,ce=Y===void 0?!1:Y,ee=e.SelectProps,fe=e.type,le=e.value,de=e.variant,pe=de===void 0?"standard":de,he=Qe(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),ke={};if(pe==="outlined"&&(T&&typeof T.shrink<"u"&&(ke.notched=T.shrink),F)){var Re,_e=(Re=T==null?void 0:T.required)!==null&&Re!==void 0?Re:H;ke.label=m.createElement(m.Fragment,null,F,_e&&" *")}ce&&((!ee||!ee.native)&&(ke.id=void 0),ke["aria-describedby"]=void 0);var et=C&&_?"".concat(_,"-helper-text"):void 0,Me=F&&_?"".concat(_,"-label"):void 0,De=T3[pe],gt=m.createElement(De,re({"aria-describedby":et,autoComplete:n,autoFocus:a,defaultValue:g,fullWidth:k,multiline:z,name:I,rows:N,rowsMax:L,maxRows:W,minRows:X,type:fe,value:le,id:_,inputRef:j,onBlur:$,onChange:K,onFocus:U,placeholder:G,inputProps:O},ke,D));return m.createElement(O0,re({className:Le(u.root,c),disabled:y,error:v,fullWidth:k,hiddenLabel:R,ref:r,required:H,color:f,variant:pe},he),F&&m.createElement(tT,re({htmlFor:_,id:Me},T),F),ce?m.createElement(fT,re({"aria-describedby":et,id:_,labelId:Me,value:le,input:gt},ee),s):gt,C&&m.createElement(rT,re({id:et},S),C))});const tr=Rt(R3,{name:"MuiTextField"})(O3);var A3={entering:{opacity:1},entered:{opacity:1}},I3={enter:Zi.enteringScreen,exit:Zi.leavingScreen},Ws=m.forwardRef(function(e,r){var n=e.children,i=e.disableStrictModeCompat,a=i===void 0?!1:i,s=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,f=e.onExit,g=e.onExited,p=e.onExiting,y=e.style,b=e.TransitionComponent,v=b===void 0?Di:b,S=e.timeout,x=S===void 0?I3:S,k=Qe(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),C=si(),R=C.unstable_strictMode&&!a,_=m.useRef(null),T=Fr(n.ref,r),O=Fr(R?_:void 0,T),D=function(U){return function(G,B){if(U){var H=R?[_.current,G]:[G,B],N=Ni(H,2),L=N[0],W=N[1];W===void 0?U(L):U(L,W)}}},j=D(h),F=D(function(K,U){E0(K);var G=Vs({style:y,timeout:x},{mode:"enter"});K.style.webkitTransition=C.transitions.create("opacity",G),K.style.transition=C.transitions.create("opacity",G),u&&u(K,U)}),M=D(c),z=D(p),I=D(function(K){var U=Vs({style:y,timeout:x},{mode:"exit"});K.style.webkitTransition=C.transitions.create("opacity",U),K.style.transition=C.transitions.create("opacity",U),f&&f(K)}),$=D(g);return m.createElement(v,re({appear:!0,in:s,nodeRef:R?_:void 0,onEnter:F,onEntered:M,onEntering:j,onExit:I,onExited:$,onExiting:z,timeout:x},k),function(K,U){return m.cloneElement(n,re({style:re({opacity:0,visibility:K==="exited"&&!s?"hidden":void 0},A3[K],y,n.props.style),ref:O},U))})}),N3={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},F3=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.invisible,u=s===void 0?!1:s,c=e.open,h=e.transitionDuration,f=e.TransitionComponent,g=f===void 0?Ws:f,p=Qe(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return m.createElement(g,re({in:c,timeout:h},p),m.createElement("div",{className:Le(i.root,a,u&&i.invisible),"aria-hidden":!0,ref:r},n))});const pT=Rt(N3,{name:"MuiBackdrop"})(F3);var M3=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":fr({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":fr({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":fr({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":fr({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":fr({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},j3={enter:Zi.enteringScreen,exit:Zi.leavingScreen},$3=m.forwardRef(function(e,r){var n=e.BackdropProps,i=e.children,a=e.classes,s=e.className,u=e.disableBackdropClick,c=u===void 0?!1:u,h=e.disableEscapeKeyDown,f=h===void 0?!1:h,g=e.fullScreen,p=g===void 0?!1:g,y=e.fullWidth,b=y===void 0?!1:y,v=e.maxWidth,S=v===void 0?"sm":v,x=e.onBackdropClick,k=e.onClose,C=e.onEnter,R=e.onEntered,_=e.onEntering,T=e.onEscapeKeyDown,O=e.onExit,D=e.onExited,j=e.onExiting,F=e.open,M=e.PaperComponent,z=M===void 0?oi:M,I=e.PaperProps,$=I===void 0?{}:I,K=e.scroll,U=K===void 0?"paper":K,G=e.TransitionComponent,B=G===void 0?Ws:G,H=e.transitionDuration,N=H===void 0?j3:H,L=e.TransitionProps,W=e["aria-describedby"],X=e["aria-labelledby"],Y=Qe(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),ce=m.useRef(),ee=function(de){ce.current=de.target},fe=function(de){de.target===de.currentTarget&&de.target===ce.current&&(ce.current=null,x&&x(de),!c&&k&&k(de,"backdropClick"))};return m.createElement(Ip,re({className:Le(a.root,s),BackdropComponent:pT,BackdropProps:re({transitionDuration:N},n),closeAfterTransition:!0},c?{disableBackdropClick:c}:{},{disableEscapeKeyDown:f,onEscapeKeyDown:T,onClose:k,open:F,ref:r},Y),m.createElement(B,re({appear:!0,in:F,timeout:N,onEnter:C,onEntering:_,onEntered:R,onExit:O,onExiting:j,onExited:D,role:"none presentation"},L),m.createElement("div",{className:Le(a.container,a["scroll".concat(Yt(U))]),onMouseUp:fe,onMouseDown:ee},m.createElement(z,re({elevation:24,role:"dialog","aria-describedby":W,"aria-labelledby":X},$,{className:Le(a.paper,a["paperScroll".concat(Yt(U))],a["paperWidth".concat(Yt(String(S)))],$.className,p&&a.paperFullScreen,b&&a.paperFullWidth)}),i))))});const hT=Rt(M3,{name:"MuiDialog"})($3);var L3={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},D3=m.forwardRef(function(e,r){var n=e.disableSpacing,i=n===void 0?!1:n,a=e.classes,s=e.className,u=Qe(e,["disableSpacing","classes","className"]);return m.createElement("div",re({className:Le(a.root,s,!i&&a.spacing),ref:r},u))});const B3=Rt(L3,{name:"MuiDialogActions"})(D3);var z3=function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},V3=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.dividers,s=a===void 0?!1:a,u=Qe(e,["classes","className","dividers"]);return m.createElement("div",re({className:Le(n.root,i,s&&n.dividers),ref:r},u))});const gT=Rt(z3,{name:"MuiDialogContent"})(V3);var W3=[0,1,2,3,4,5,6,7,8,9,10],q3=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function H3(t,e,r){var n={};q3.forEach(function(i){var a="grid-".concat(r,"-").concat(i);if(i===!0){n[a]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(i==="auto"){n[a]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var s="".concat(Math.round(i/12*1e8)/1e6,"%");n[a]={flexBasis:s,flexGrow:0,maxWidth:s}}),r==="xs"?re(t,n):t[e.breakpoints.up(r)]=n}function hv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=parseFloat(t);return"".concat(r/e).concat(String(t).replace(String(r),"")||"px")}function U3(t,e){var r={};return W3.forEach(function(n){var i=t.spacing(n);i!==0&&(r["spacing-".concat(e,"-").concat(n)]={margin:"-".concat(hv(i,2)),width:"calc(100% + ".concat(hv(i),")"),"& > $item":{padding:hv(i,2)}})}),r}var K3=function(e){return re({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},U3(e,"xs"),e.breakpoints.keys.reduce(function(r,n){return H3(r,e,n),r},{}))},G3=m.forwardRef(function(e,r){var n=e.alignContent,i=n===void 0?"stretch":n,a=e.alignItems,s=a===void 0?"stretch":a,u=e.classes,c=e.className,h=e.component,f=h===void 0?"div":h,g=e.container,p=g===void 0?!1:g,y=e.direction,b=y===void 0?"row":y,v=e.item,S=v===void 0?!1:v,x=e.justify,k=e.justifyContent,C=k===void 0?"flex-start":k,R=e.lg,_=R===void 0?!1:R,T=e.md,O=T===void 0?!1:T,D=e.sm,j=D===void 0?!1:D,F=e.spacing,M=F===void 0?0:F,z=e.wrap,I=z===void 0?"wrap":z,$=e.xl,K=$===void 0?!1:$,U=e.xs,G=U===void 0?!1:U,B=e.zeroMinWidth,H=B===void 0?!1:B,N=Qe(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=Le(u.root,c,p&&[u.container,M!==0&&u["spacing-xs-".concat(String(M))]],S&&u.item,H&&u.zeroMinWidth,b!=="row"&&u["direction-xs-".concat(String(b))],I!=="wrap"&&u["wrap-xs-".concat(String(I))],s!=="stretch"&&u["align-items-xs-".concat(String(s))],i!=="stretch"&&u["align-content-xs-".concat(String(i))],(x||C)!=="flex-start"&&u["justify-content-xs-".concat(String(x||C))],G!==!1&&u["grid-xs-".concat(String(G))],j!==!1&&u["grid-sm-".concat(String(j))],O!==!1&&u["grid-md-".concat(String(O))],_!==!1&&u["grid-lg-".concat(String(_))],K!==!1&&u["grid-xl-".concat(String(K))]);return m.createElement(f,re({className:L,ref:r},N))}),Mt=Rt(K3,{name:"MuiGrid"})(G3),Yl={},gv={exports:{}},Dk;function Qt(){return Dk||(Dk=1,function(t){var e=P0().default;function r(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(r=function(c){return c?s:a})(i)}function n(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||e(i)!="object"&&typeof i!="function")return{default:i};var s=r(a);if(s&&s.has(i))return s.get(i);var u={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in i)if(h!=="default"&&Object.prototype.hasOwnProperty.call(i,h)){var f=c?Object.getOwnPropertyDescriptor(i,h):null;f&&(f.get||f.set)?Object.defineProperty(u,h,f):u[h]=i[h]}return u.default=i,s&&s.set(i,u),u}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(gv)),gv.exports}var mv={};const X3=Nc(l$);var Bk;function er(){return Bk||(Bk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=X3}(mv)),mv}var zk;function Y3(){if(zk)return Yl;zk=1;var t=Wt(),e=Qt();Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");return Yl.default=i,Yl}var Z3=Y3();const J3=zt(Z3);var Zl={},Vk;function Q3(){if(Vk)return Zl;Vk=1;var t=Wt(),e=Qt();Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");return Zl.default=i,Zl}var e5=Q3();const mT=zt(e5);var Jl={},Wk;function t5(){if(Wk)return Jl;Wk=1;var t=Wt(),e=Qt();Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");return Jl.default=i,Jl}var r5=t5();const A0=zt(r5);var n5=function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:re({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}};function i5(t){var e=t.children,r=t.classes,n=t.className,i=t.open,a=t.value,s=t.valueLabelDisplay;return s==="off"?e:m.cloneElement(e,{className:Le(e.props.className,(i||s==="on")&&r.open,r.thumb)},m.createElement("span",{className:Le(r.offset,n)},m.createElement("span",{className:r.circle},m.createElement("span",{className:r.label},a))))}const a5=Rt(n5,{name:"PrivateValueLabel"})(i5);function vv(t,e){return t-e}function yv(t,e,r){return Math.min(Math.max(e,t),r)}function qk(t,e){var r=t.reduce(function(i,a,s){var u=Math.abs(e-a);return i===null||u<i.distance||u===i.distance?{distance:u,index:s}:i},null),n=r.index;return n}function cf(t,e){if(e.current!==void 0&&t.changedTouches){for(var r=0;r<t.changedTouches.length;r+=1){var n=t.changedTouches[r];if(n.identifier===e.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function df(t,e,r){return(t-e)*100/(r-e)}function o5(t,e,r){return(r-e)*t+e}function s5(t){if(Math.abs(t)<1){var e=t.toExponential().split("e-"),r=e[0].split(".")[1];return(r?r.length:0)+parseInt(e[1],10)}var n=t.toString().split(".")[1];return n?n.length:0}function Hk(t,e,r){var n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(s5(e)))}function Uk(t){var e=t.values,r=t.source,n=t.newValue,i=t.index;if(e[i]===n)return r;var a=e.slice();return a[i]=n,a}function ff(t){var e=t.sliderRef,r=t.activeIndex,n=t.setActive;(!e.current.contains(document.activeElement)||Number(document.activeElement.getAttribute("data-index"))!==r)&&e.current.querySelector('[role="slider"][data-index="'.concat(r,'"]')).focus(),n&&n(r)}var pf={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Kk=function(e){return e},l5=function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:e.palette.type==="light"?zs(e.palette.primary.main,.62):Bs(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Tr(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Tr(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Tr(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Tr(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:re({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}},u5=m.forwardRef(function(e,r){var n=e["aria-label"],i=e["aria-labelledby"],a=e["aria-valuetext"],s=e.classes,u=e.className,c=e.color,h=c===void 0?"primary":c,f=e.component,g=f===void 0?"span":f,p=e.defaultValue,y=e.disabled,b=y===void 0?!1:y,v=e.getAriaLabel,S=e.getAriaValueText,x=e.marks,k=x===void 0?!1:x,C=e.max,R=C===void 0?100:C,_=e.min,T=_===void 0?0:_,O=e.name,D=e.onChange,j=e.onChangeCommitted,F=e.onMouseDown,M=e.orientation,z=M===void 0?"horizontal":M,I=e.scale,$=I===void 0?Kk:I,K=e.step,U=K===void 0?1:K,G=e.ThumbComponent,B=G===void 0?"span":G,H=e.track,N=H===void 0?"normal":H,L=e.value,W=e.ValueLabelComponent,X=W===void 0?a5:W,Y=e.valueLabelDisplay,ce=Y===void 0?"off":Y,ee=e.valueLabelFormat,fe=ee===void 0?Kk:ee,le=Qe(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),de=si(),pe=m.useRef(),he=m.useState(-1),ke=he[0],Re=he[1],_e=m.useState(-1),et=_e[0],Me=_e[1],De=wa({controlled:L,default:p,name:"Slider"}),gt=Ni(De,2),Ge=gt[0],yt=gt[1],ht=Array.isArray(Ge),Oe=ht?Ge.slice().sort(vv):[Ge];Oe=Oe.map(function(Xe){return yv(Xe,T,R)});var Ie=k===!0&&U!==null?Ys(Array(Math.floor((R-T)/U)+1)).map(function(Xe,Ce){return{value:T+U*Ce}}):k||[],We=Lc(),mt=We.isFocusVisible,Be=We.onBlurVisible,tt=We.ref,Pe=m.useState(-1),Q=Pe[0],Et=Pe[1],Tt=m.useRef(),st=Fr(tt,Tt),Z=Fr(r,st),ie=Zr(function(Xe){var Ce=Number(Xe.currentTarget.getAttribute("data-index"));mt(Xe)&&Et(Ce),Me(Ce)}),rt=Zr(function(){Q!==-1&&(Et(-1),Be()),Me(-1)}),se=Zr(function(Xe){var Ce=Number(Xe.currentTarget.getAttribute("data-index"));Me(Ce)}),te=Zr(function(){Me(-1)}),me=de.direction==="rtl",be=Zr(function(Xe){var Ce=Number(Xe.currentTarget.getAttribute("data-index")),Ot=Oe[Ce],jt=(R-T)/10,Ze=Ie.map(function(Br){return Br.value}),wt=Ze.indexOf(Ot),Nt,lr=me?"ArrowLeft":"ArrowRight",pr=me?"ArrowRight":"ArrowLeft";switch(Xe.key){case"Home":Nt=T;break;case"End":Nt=R;break;case"PageUp":U&&(Nt=Ot+jt);break;case"PageDown":U&&(Nt=Ot-jt);break;case lr:case"ArrowUp":U?Nt=Ot+U:Nt=Ze[wt+1]||Ze[Ze.length-1];break;case pr:case"ArrowDown":U?Nt=Ot-U:Nt=Ze[wt-1]||Ze[0];break;default:return}if(Xe.preventDefault(),U&&(Nt=Hk(Nt,U,T)),Nt=yv(Nt,T,R),ht){var wr=Nt;Nt=Uk({values:Oe,source:Ge,newValue:Nt,index:Ce}).sort(vv),ff({sliderRef:Tt,activeIndex:Nt.indexOf(wr)})}yt(Nt),Et(Ce),D&&D(Xe,Nt),j&&j(Xe,Nt)}),xe=m.useRef(),ze=z;me&&z!=="vertical"&&(ze+="-reverse");var ot=function(Ce){var Ot=Ce.finger,jt=Ce.move,Ze=jt===void 0?!1:jt,wt=Ce.values,Nt=Ce.source,lr=Tt.current,pr=lr.getBoundingClientRect(),wr=pr.width,Br=pr.height,_r=pr.bottom,yr=pr.left,br;ze.indexOf("vertical")===0?br=(_r-Ot.y)/Br:br=(Ot.x-yr)/wr,ze.indexOf("-reverse")!==-1&&(br=1-br);var mr;if(mr=o5(br,T,R),U)mr=Hk(mr,U,T);else{var Rr=Ie.map(function(Hr){return Hr.value}),Pr=qk(Rr,mr);mr=Rr[Pr]}mr=yv(mr,T,R);var vr=0;if(ht){Ze?vr=xe.current:vr=qk(wt,mr);var jr=mr;mr=Uk({values:wt,source:Nt,newValue:mr,index:vr}).sort(vv),vr=mr.indexOf(jr),xe.current=vr}return{newValue:mr,activeIndex:vr}},Ue=Zr(function(Xe){var Ce=cf(Xe,pe);if(Ce){var Ot=ot({finger:Ce,move:!0,values:Oe,source:Ge}),jt=Ot.newValue,Ze=Ot.activeIndex;ff({sliderRef:Tt,activeIndex:Ze,setActive:Re}),yt(jt),D&&D(Xe,jt)}}),ct=Zr(function(Xe){var Ce=cf(Xe,pe);if(Ce){var Ot=ot({finger:Ce,values:Oe,source:Ge}),jt=Ot.newValue;Re(-1),Xe.type==="touchend"&&Me(-1),j&&j(Xe,jt),pe.current=void 0;var Ze=ai(Tt.current);Ze.removeEventListener("mousemove",Ue),Ze.removeEventListener("mouseup",ct),Ze.removeEventListener("touchmove",Ue),Ze.removeEventListener("touchend",ct)}}),_t=Zr(function(Xe){Xe.preventDefault();var Ce=Xe.changedTouches[0];Ce!=null&&(pe.current=Ce.identifier);var Ot=cf(Xe,pe),jt=ot({finger:Ot,values:Oe,source:Ge}),Ze=jt.newValue,wt=jt.activeIndex;ff({sliderRef:Tt,activeIndex:wt,setActive:Re}),yt(Ze),D&&D(Xe,Ze);var Nt=ai(Tt.current);Nt.addEventListener("touchmove",Ue),Nt.addEventListener("touchend",ct)});m.useEffect(function(){var Xe=Tt.current;Xe.addEventListener("touchstart",_t);var Ce=ai(Xe);return function(){Xe.removeEventListener("touchstart",_t),Ce.removeEventListener("mousemove",Ue),Ce.removeEventListener("mouseup",ct),Ce.removeEventListener("touchmove",Ue),Ce.removeEventListener("touchend",ct)}},[ct,Ue,_t]);var Vt=Zr(function(Xe){F&&F(Xe),Xe.preventDefault();var Ce=cf(Xe,pe),Ot=ot({finger:Ce,values:Oe,source:Ge}),jt=Ot.newValue,Ze=Ot.activeIndex;ff({sliderRef:Tt,activeIndex:Ze,setActive:Re}),yt(jt),D&&D(Xe,jt);var wt=ai(Tt.current);wt.addEventListener("mousemove",Ue),wt.addEventListener("mouseup",ct)}),He=df(ht?Oe[0]:T,T,R),Zt=df(Oe[Oe.length-1],T,R)-He,gr=re({},pf[ze].offset(He),pf[ze].leap(Zt));return m.createElement(g,re({ref:Z,className:Le(s.root,s["color".concat(Yt(h))],u,b&&s.disabled,Ie.length>0&&Ie.some(function(Xe){return Xe.label})&&s.marked,N===!1&&s.trackFalse,z==="vertical"&&s.vertical,N==="inverted"&&s.trackInverted),onMouseDown:Vt},le),m.createElement("span",{className:s.rail}),m.createElement("span",{className:s.track,style:gr}),m.createElement("input",{value:Oe.join(","),name:O,type:"hidden"}),Ie.map(function(Xe,Ce){var Ot=df(Xe.value,T,R),jt=pf[ze].offset(Ot),Ze;return N===!1?Ze=Oe.indexOf(Xe.value)!==-1:Ze=N==="normal"&&(ht?Xe.value>=Oe[0]&&Xe.value<=Oe[Oe.length-1]:Xe.value<=Oe[0])||N==="inverted"&&(ht?Xe.value<=Oe[0]||Xe.value>=Oe[Oe.length-1]:Xe.value>=Oe[0]),m.createElement(m.Fragment,{key:Xe.value},m.createElement("span",{style:jt,"data-index":Ce,className:Le(s.mark,Ze&&s.markActive)}),Xe.label!=null?m.createElement("span",{"aria-hidden":!0,"data-index":Ce,style:jt,className:Le(s.markLabel,Ze&&s.markLabelActive)},Xe.label):null)}),Oe.map(function(Xe,Ce){var Ot=df(Xe,T,R),jt=pf[ze].offset(Ot);return m.createElement(X,{key:Ce,valueLabelFormat:fe,valueLabelDisplay:ce,className:s.valueLabel,value:typeof fe=="function"?fe($(Xe),Ce):fe,index:Ce,open:et===Ce||ke===Ce||ce==="on",disabled:b},m.createElement(B,{className:Le(s.thumb,s["thumbColor".concat(Yt(h))],ke===Ce&&s.active,b&&s.disabled,Q===Ce&&s.focusVisible),tabIndex:b?null:0,role:"slider",style:jt,"data-index":Ce,"aria-label":v?v(Ce):n,"aria-labelledby":i,"aria-orientation":z,"aria-valuemax":$(R),"aria-valuemin":$(T),"aria-valuenow":$(Xe),"aria-valuetext":S?S($(Xe),Ce):a,onKeyDown:be,onFocus:ie,onBlur:rt,onMouseOver:se,onMouseLeave:te}))}))});const Np=Rt(l5,{name:"MuiSlider"})(u5);var c5=function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:fr({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}},d5=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,u=e.disableGutters,c=u===void 0?!1:u,h=e.variant,f=h===void 0?"regular":h,g=Qe(e,["classes","className","component","disableGutters","variant"]);return m.createElement(s,re({className:Le(n.root,n[f],i,!c&&n.gutters),ref:r},g))});const I0=Rt(c5,{name:"MuiToolbar"})(d5);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var zc=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",f5=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(zc&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function p5(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function h5(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},f5))}}var g5=zc&&window.Promise,m5=g5?p5:h5;function vT(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Wo(t,e){if(t.nodeType!==1)return[];var r=t.ownerDocument.defaultView,n=r.getComputedStyle(t,null);return e?n[e]:n}function N0(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Vc(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Wo(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?t:Vc(N0(t))}function yT(t){return t&&t.referenceNode?t.referenceNode:t}var Gk=zc&&!!(window.MSInputMethodContext&&document.documentMode),Xk=zc&&/MSIE 10/.test(navigator.userAgent);function el(t){return t===11?Gk:t===10?Xk:Gk||Xk}function qs(t){if(!t)return document.documentElement;for(var e=el(10)?document.body:null,r=t.offsetParent||null;r===e&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&Wo(r,"position")==="static"?qs(r):r}function v5(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||qs(t.firstElementChild)===t}function hy(t){return t.parentNode!==null?hy(t.parentNode):t}function ep(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?t:e,i=r?e:t,a=document.createRange();a.setStart(n,0),a.setEnd(i,0);var s=a.commonAncestorContainer;if(t!==s&&e!==s||n.contains(i))return v5(s)?s:qs(s);var u=hy(t);return u.host?ep(u.host,e):ep(t,hy(e).host)}function Hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=e==="top"?"scrollTop":"scrollLeft",n=t.nodeName;if(n==="BODY"||n==="HTML"){var i=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||i;return a[r]}return t[r]}function y5(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Hs(e,"top"),i=Hs(e,"left"),a=r?-1:1;return t.top+=n*a,t.bottom+=n*a,t.left+=i*a,t.right+=i*a,t}function Yk(t,e){var r=e==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return parseFloat(t["border"+r+"Width"])+parseFloat(t["border"+n+"Width"])}function Zk(t,e,r,n){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],el(10)?parseInt(r["offset"+t])+parseInt(n["margin"+(t==="Height"?"Top":"Left")])+parseInt(n["margin"+(t==="Height"?"Bottom":"Right")]):0)}function bT(t){var e=t.body,r=t.documentElement,n=el(10)&&getComputedStyle(r);return{height:Zk("Height",e,r,n),width:Zk("Width",e,r,n)}}var b5=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x5=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Us=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},Ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Qa(t){return Ii({},t,{right:t.left+t.width,bottom:t.top+t.height})}function gy(t){var e={};try{if(el(10)){e=t.getBoundingClientRect();var r=Hs(t,"top"),n=Hs(t,"left");e.top+=r,e.left+=n,e.bottom+=r,e.right+=n}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a=t.nodeName==="HTML"?bT(t.ownerDocument):{},s=a.width||t.clientWidth||i.width,u=a.height||t.clientHeight||i.height,c=t.offsetWidth-s,h=t.offsetHeight-u;if(c||h){var f=Wo(t);c-=Yk(f,"x"),h-=Yk(f,"y"),i.width-=c,i.height-=h}return Qa(i)}function F0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=el(10),i=e.nodeName==="HTML",a=gy(t),s=gy(e),u=Vc(t),c=Wo(e),h=parseFloat(c.borderTopWidth),f=parseFloat(c.borderLeftWidth);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var g=Qa({top:a.top-s.top-h,left:a.left-s.left-f,width:a.width,height:a.height});if(g.marginTop=0,g.marginLeft=0,!n&&i){var p=parseFloat(c.marginTop),y=parseFloat(c.marginLeft);g.top-=h-p,g.bottom-=h-p,g.left-=f-y,g.right-=f-y,g.marginTop=p,g.marginLeft=y}return(n&&!r?e.contains(u):e===u&&u.nodeName!=="BODY")&&(g=y5(g,e)),g}function w5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t.ownerDocument.documentElement,n=F0(t,r),i=Math.max(r.clientWidth,window.innerWidth||0),a=Math.max(r.clientHeight,window.innerHeight||0),s=e?0:Hs(r),u=e?0:Hs(r,"left"),c={top:s-n.top+n.marginTop,left:u-n.left+n.marginLeft,width:i,height:a};return Qa(c)}function xT(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Wo(t,"position")==="fixed")return!0;var r=N0(t);return r?xT(r):!1}function wT(t){if(!t||!t.parentElement||el())return document.documentElement;for(var e=t.parentElement;e&&Wo(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function M0(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},s=i?wT(t):ep(t,yT(e));if(n==="viewport")a=w5(s,i);else{var u=void 0;n==="scrollParent"?(u=Vc(N0(e)),u.nodeName==="BODY"&&(u=t.ownerDocument.documentElement)):n==="window"?u=t.ownerDocument.documentElement:u=n;var c=F0(u,s,i);if(u.nodeName==="HTML"&&!xT(s)){var h=bT(t.ownerDocument),f=h.height,g=h.width;a.top+=c.top-c.marginTop,a.bottom=f+c.top,a.left+=c.left-c.marginLeft,a.right=g+c.left}else a=c}r=r||0;var p=typeof r=="number";return a.left+=p?r:r.left||0,a.top+=p?r:r.top||0,a.right-=p?r:r.right||0,a.bottom-=p?r:r.bottom||0,a}function S5(t){var e=t.width,r=t.height;return e*r}function ST(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=M0(r,n,a,i),u={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},c=Object.keys(u).map(function(p){return Ii({key:p},u[p],{area:S5(u[p])})}).sort(function(p,y){return y.area-p.area}),h=c.filter(function(p){var y=p.width,b=p.height;return y>=r.clientWidth&&b>=r.clientHeight}),f=h.length>0?h[0].key:c[0].key,g=t.split("-")[1];return f+(g?"-"+g:"")}function kT(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=n?wT(e):ep(e,yT(r));return F0(r,i,n)}function CT(t){var e=t.ownerDocument.defaultView,r=e.getComputedStyle(t),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),a={width:t.offsetWidth+i,height:t.offsetHeight+n};return a}function tp(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(r){return e[r]})}function ET(t,e,r){r=r.split("-")[0];var n=CT(t),i={width:n.width,height:n.height},a=["right","left"].indexOf(r)!==-1,s=a?"top":"left",u=a?"left":"top",c=a?"height":"width",h=a?"width":"height";return i[s]=e[s]+e[c]/2-n[c]/2,r===u?i[u]=e[u]-n[h]:i[u]=e[tp(u)],i}function Wc(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function k5(t,e,r){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===r});var n=Wc(t,function(i){return i[e]===r});return t.indexOf(n)}function _T(t,e,r){var n=r===void 0?t:t.slice(0,k5(t,"name",r));return n.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=i.function||i.fn;i.enabled&&vT(a)&&(e.offsets.popper=Qa(e.offsets.popper),e.offsets.reference=Qa(e.offsets.reference),e=a(e,i))}),e}function C5(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=kT(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ST(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=ET(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=_T(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function PT(t,e){return t.some(function(r){var n=r.name,i=r.enabled;return i&&n===e})}function j0(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var i=e[n],a=i?""+i+r:t;if(typeof document.body.style[a]<"u")return a}return null}function E5(){return this.state.isDestroyed=!0,PT(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j0("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function TT(t){var e=t.ownerDocument;return e?e.defaultView:window}function RT(t,e,r,n){var i=t.nodeName==="BODY",a=i?t.ownerDocument.defaultView:t;a.addEventListener(e,r,{passive:!0}),i||RT(Vc(a.parentNode),e,r,n),n.push(a)}function _5(t,e,r,n){r.updateBound=n,TT(t).addEventListener("resize",r.updateBound,{passive:!0});var i=Vc(t);return RT(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function P5(){this.state.eventsEnabled||(this.state=_5(this.reference,this.options,this.state,this.scheduleUpdate))}function T5(t,e){return TT(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(r){r.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function R5(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=T5(this.reference,this.state))}function $0(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function my(t,e){Object.keys(e).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&$0(e[r])&&(n="px"),t.style[r]=e[r]+n})}function O5(t,e){Object.keys(e).forEach(function(r){var n=e[r];n!==!1?t.setAttribute(r,e[r]):t.removeAttribute(r)})}function A5(t){return my(t.instance.popper,t.styles),O5(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&my(t.arrowElement,t.arrowStyles),t}function I5(t,e,r,n,i){var a=kT(i,e,t,r.positionFixed),s=ST(r.placement,a,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",s),my(e,{position:r.positionFixed?"fixed":"absolute"}),r}function N5(t,e){var r=t.offsets,n=r.popper,i=r.reference,a=Math.round,s=Math.floor,u=function(x){return x},c=a(i.width),h=a(n.width),f=["left","right"].indexOf(t.placement)!==-1,g=t.placement.indexOf("-")!==-1,p=c%2===h%2,y=c%2===1&&h%2===1,b=e?f||g||p?a:s:u,v=e?a:u;return{left:b(y&&!g&&e?n.left-1:n.left),top:v(n.top),bottom:v(n.bottom),right:b(n.right)}}var F5=zc&&/Firefox/i.test(navigator.userAgent);function M5(t,e){var r=e.x,n=e.y,i=t.offsets.popper,a=Wc(t.instance.modifiers,function(C){return C.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=a!==void 0?a:e.gpuAcceleration,u=qs(t.instance.popper),c=gy(u),h={position:i.position},f=N5(t,window.devicePixelRatio<2||!F5),g=r==="bottom"?"top":"bottom",p=n==="right"?"left":"right",y=j0("transform"),b=void 0,v=void 0;if(g==="bottom"?u.nodeName==="HTML"?v=-u.clientHeight+f.bottom:v=-c.height+f.bottom:v=f.top,p==="right"?u.nodeName==="HTML"?b=-u.clientWidth+f.right:b=-c.width+f.right:b=f.left,s&&y)h[y]="translate3d("+b+"px, "+v+"px, 0)",h[g]=0,h[p]=0,h.willChange="transform";else{var S=g==="bottom"?-1:1,x=p==="right"?-1:1;h[g]=v*S,h[p]=b*x,h.willChange=g+", "+p}var k={"x-placement":t.placement};return t.attributes=Ii({},k,t.attributes),t.styles=Ii({},h,t.styles),t.arrowStyles=Ii({},t.offsets.arrow,t.arrowStyles),t}function OT(t,e,r){var n=Wc(t,function(u){var c=u.name;return c===e}),i=!!n&&t.some(function(u){return u.name===r&&u.enabled&&u.order<n.order});if(!i){var a="`"+e+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function j5(t,e){var r;if(!OT(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if(typeof n=="string"){if(n=t.instance.popper.querySelector(n),!n)return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],a=t.offsets,s=a.popper,u=a.reference,c=["left","right"].indexOf(i)!==-1,h=c?"height":"width",f=c?"Top":"Left",g=f.toLowerCase(),p=c?"left":"top",y=c?"bottom":"right",b=CT(n)[h];u[y]-b<s[g]&&(t.offsets.popper[g]-=s[g]-(u[y]-b)),u[g]+b>s[y]&&(t.offsets.popper[g]+=u[g]+b-s[y]),t.offsets.popper=Qa(t.offsets.popper);var v=u[g]+u[h]/2-b/2,S=Wo(t.instance.popper),x=parseFloat(S["margin"+f]),k=parseFloat(S["border"+f+"Width"]),C=v-t.offsets.popper[g]-x-k;return C=Math.max(Math.min(s[h]-b,C),0),t.arrowElement=n,t.offsets.arrow=(r={},Us(r,g,Math.round(C)),Us(r,p,""),r),t}function $5(t){return t==="end"?"start":t==="start"?"end":t}var AT=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bv=AT.slice(3);function Jk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=bv.indexOf(t),n=bv.slice(r+1).concat(bv.slice(0,r));return e?n.reverse():n}var xv={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function L5(t,e){if(PT(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var r=M0(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],i=tp(n),a=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case xv.FLIP:s=[n,i];break;case xv.CLOCKWISE:s=Jk(n);break;case xv.COUNTERCLOCKWISE:s=Jk(n,!0);break;default:s=e.behavior}return s.forEach(function(u,c){if(n!==u||s.length===c+1)return t;n=t.placement.split("-")[0],i=tp(n);var h=t.offsets.popper,f=t.offsets.reference,g=Math.floor,p=n==="left"&&g(h.right)>g(f.left)||n==="right"&&g(h.left)<g(f.right)||n==="top"&&g(h.bottom)>g(f.top)||n==="bottom"&&g(h.top)<g(f.bottom),y=g(h.left)<g(r.left),b=g(h.right)>g(r.right),v=g(h.top)<g(r.top),S=g(h.bottom)>g(r.bottom),x=n==="left"&&y||n==="right"&&b||n==="top"&&v||n==="bottom"&&S,k=["top","bottom"].indexOf(n)!==-1,C=!!e.flipVariations&&(k&&a==="start"&&y||k&&a==="end"&&b||!k&&a==="start"&&v||!k&&a==="end"&&S),R=!!e.flipVariationsByContent&&(k&&a==="start"&&b||k&&a==="end"&&y||!k&&a==="start"&&S||!k&&a==="end"&&v),_=C||R;(p||x||_)&&(t.flipped=!0,(p||x)&&(n=s[c+1]),_&&(a=$5(a)),t.placement=n+(a?"-"+a:""),t.offsets.popper=Ii({},t.offsets.popper,ET(t.instance.popper,t.offsets.reference,t.placement)),t=_T(t.instance.modifiers,t,"flip"))}),t}function D5(t){var e=t.offsets,r=e.popper,n=e.reference,i=t.placement.split("-")[0],a=Math.floor,s=["top","bottom"].indexOf(i)!==-1,u=s?"right":"bottom",c=s?"left":"top",h=s?"width":"height";return r[u]<a(n[c])&&(t.offsets.popper[c]=a(n[c])-r[h]),r[c]>a(n[u])&&(t.offsets.popper[c]=a(n[u])),t}function B5(t,e,r,n){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],s=i[2];if(!a)return t;if(s.indexOf("%")===0){var u=void 0;switch(s){case"%p":u=r;break;case"%":case"%r":default:u=n}var c=Qa(u);return c[e]/100*a}else if(s==="vh"||s==="vw"){var h=void 0;return s==="vh"?h=Math.max(document.documentElement.clientHeight,window.innerHeight||0):h=Math.max(document.documentElement.clientWidth,window.innerWidth||0),h/100*a}else return a}function z5(t,e,r,n){var i=[0,0],a=["right","left"].indexOf(n)!==-1,s=t.split(/(\+|\-)/).map(function(f){return f.trim()}),u=s.indexOf(Wc(s,function(f){return f.search(/,|\s/)!==-1}));s[u]&&s[u].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,h=u!==-1?[s.slice(0,u).concat([s[u].split(c)[0]]),[s[u].split(c)[1]].concat(s.slice(u+1))]:[s];return h=h.map(function(f,g){var p=(g===1?!a:a)?"height":"width",y=!1;return f.reduce(function(b,v){return b[b.length-1]===""&&["+","-"].indexOf(v)!==-1?(b[b.length-1]=v,y=!0,b):y?(b[b.length-1]+=v,y=!1,b):b.concat(v)},[]).map(function(b){return B5(b,p,e,r)})}),h.forEach(function(f,g){f.forEach(function(p,y){$0(p)&&(i[g]+=p*(f[y-1]==="-"?-1:1))})}),i}function V5(t,e){var r=e.offset,n=t.placement,i=t.offsets,a=i.popper,s=i.reference,u=n.split("-")[0],c=void 0;return $0(+r)?c=[+r,0]:c=z5(r,a,s,u),u==="left"?(a.top+=c[0],a.left-=c[1]):u==="right"?(a.top+=c[0],a.left+=c[1]):u==="top"?(a.left+=c[0],a.top-=c[1]):u==="bottom"&&(a.left+=c[0],a.top+=c[1]),t.popper=a,t}function W5(t,e){var r=e.boundariesElement||qs(t.instance.popper);t.instance.reference===r&&(r=qs(r));var n=j0("transform"),i=t.instance.popper.style,a=i.top,s=i.left,u=i[n];i.top="",i.left="",i[n]="";var c=M0(t.instance.popper,t.instance.reference,e.padding,r,t.positionFixed);i.top=a,i.left=s,i[n]=u,e.boundaries=c;var h=e.priority,f=t.offsets.popper,g={primary:function(y){var b=f[y];return f[y]<c[y]&&!e.escapeWithReference&&(b=Math.max(f[y],c[y])),Us({},y,b)},secondary:function(y){var b=y==="right"?"left":"top",v=f[b];return f[y]>c[y]&&!e.escapeWithReference&&(v=Math.min(f[b],c[y]-(y==="right"?f.width:f.height))),Us({},b,v)}};return h.forEach(function(p){var y=["left","top"].indexOf(p)!==-1?"primary":"secondary";f=Ii({},f,g[y](p))}),t.offsets.popper=f,t}function q5(t){var e=t.placement,r=e.split("-")[0],n=e.split("-")[1];if(n){var i=t.offsets,a=i.reference,s=i.popper,u=["bottom","top"].indexOf(r)!==-1,c=u?"left":"top",h=u?"width":"height",f={start:Us({},c,a[c]),end:Us({},c,a[c]+a[h]-s[h])};t.offsets.popper=Ii({},s,f[n])}return t}function H5(t){if(!OT(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=Wc(t.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function U5(t){var e=t.placement,r=e.split("-")[0],n=t.offsets,i=n.popper,a=n.reference,s=["left","right"].indexOf(r)!==-1,u=["top","left"].indexOf(r)===-1;return i[s?"left":"top"]=a[r]-(u?i[s?"width":"height"]:0),t.placement=tp(e),t.offsets.popper=Qa(i),t}var K5={shift:{order:100,enabled:!0,fn:q5},offset:{order:200,enabled:!0,fn:V5,offset:0},preventOverflow:{order:300,enabled:!0,fn:W5,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:D5},arrow:{order:500,enabled:!0,fn:j5,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:L5,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:U5},hide:{order:800,enabled:!0,fn:H5},computeStyle:{order:850,enabled:!0,fn:M5,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:A5,onLoad:I5,gpuAcceleration:void 0}},G5={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:K5},Fp=function(){function t(e,r){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b5(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=m5(this.update.bind(this)),this.options=Ii({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(Ii({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){n.options.modifiers[s]=Ii({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return Ii({name:s},n.options.modifiers[s])}).sort(function(s,u){return s.order-u.order}),this.modifiers.forEach(function(s){s.enabled&&vT(s.onLoad)&&s.onLoad(n.reference,n.popper,n.options,s,n.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x5(t,[{key:"update",value:function(){return C5.call(this)}},{key:"destroy",value:function(){return E5.call(this)}},{key:"enableEventListeners",value:function(){return P5.call(this)}},{key:"disableEventListeners",value:function(){return R5.call(this)}}]),t}();Fp.Utils=(typeof window<"u"?window:global).PopperUtils;Fp.placements=AT;Fp.Defaults=G5;function X5(t,e){var r=e&&e.direction||"ltr";if(r==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Qk(t){return typeof t=="function"?t():t}var Y5=typeof window<"u"?m.useLayoutEffect:m.useEffect,Z5={},IT=m.forwardRef(function(e,r){var n=e.anchorEl,i=e.children,a=e.container,s=e.disablePortal,u=s===void 0?!1:s,c=e.keepMounted,h=c===void 0?!1:c,f=e.modifiers,g=e.open,p=e.placement,y=p===void 0?"bottom":p,b=e.popperOptions,v=b===void 0?Z5:b,S=e.popperRef,x=e.style,k=e.transition,C=k===void 0?!1:k,R=Qe(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),_=m.useRef(null),T=Fr(_,r),O=m.useRef(null),D=Fr(O,S),j=m.useRef(D);Y5(function(){j.current=D},[D]),m.useImperativeHandle(S,function(){return O.current},[]);var F=m.useState(!0),M=F[0],z=F[1],I=Pa(),$=X5(y,I),K=m.useState($),U=K[0],G=K[1];m.useEffect(function(){O.current&&O.current.update()});var B=m.useCallback(function(){if(!(!_.current||!n||!g)){O.current&&(O.current.destroy(),j.current(null));var Y=function(fe){G(fe.placement)};Qk(n);var ce=new Fp(Qk(n),_.current,re({placement:$},v,{modifiers:re({},u?{}:{preventOverflow:{boundariesElement:"window"}},f,v.modifiers),onCreate:jo(Y,v.onCreate),onUpdate:jo(Y,v.onUpdate)}));j.current(ce)}},[n,u,f,g,$,v]),H=m.useCallback(function(Y){Ea(T,Y),B()},[T,B]),N=function(){z(!1)},L=function(){O.current&&(O.current.destroy(),j.current(null))},W=function(){z(!0),L()};if(m.useEffect(function(){return function(){L()}},[]),m.useEffect(function(){!g&&!C&&L()},[g,C]),!h&&!g&&(!C||M))return null;var X={placement:U};return C&&(X.TransitionProps={in:g,onEnter:N,onExited:W}),m.createElement(nT,{disablePortal:u,container:a},m.createElement("div",re({ref:H,role:"tooltip"},R,{style:re({position:"fixed",top:0,left:0,display:!g&&h&&!C?"none":null},x)}),typeof i=="function"?i(X):i))});function eC(t){return Math.round(t*1e5)/1e5}function J5(){return{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}}}var Q5=function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:J5(),tooltip:{backgroundColor:Tr(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(eC(14/10),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Tr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(eC(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:fr({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:fr({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:fr({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:fr({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}},hf=!1,wv=null,e4=m.forwardRef(function(e,r){var n=e.arrow,i=n===void 0?!1:n,a=e.children,s=e.classes,u=e.disableFocusListener,c=u===void 0?!1:u,h=e.disableHoverListener,f=h===void 0?!1:h,g=e.disableTouchListener,p=g===void 0?!1:g,y=e.enterDelay,b=y===void 0?100:y,v=e.enterNextDelay,S=v===void 0?0:v,x=e.enterTouchDelay,k=x===void 0?700:x,C=e.id,R=e.interactive,_=R===void 0?!1:R,T=e.leaveDelay,O=T===void 0?0:T,D=e.leaveTouchDelay,j=D===void 0?1500:D,F=e.onClose,M=e.onOpen,z=e.open,I=e.placement,$=I===void 0?"bottom":I,K=e.PopperComponent,U=K===void 0?IT:K,G=e.PopperProps,B=e.title,H=e.TransitionComponent,N=H===void 0?Rp:H,L=e.TransitionProps,W=Qe(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),X=si(),Y=m.useState(),ce=Y[0],ee=Y[1],fe=m.useState(null),le=fe[0],de=fe[1],pe=m.useRef(!1),he=m.useRef(),ke=m.useRef(),Re=m.useRef(),_e=m.useRef(),et=wa({controlled:z,default:!1,name:"Tooltip",state:"open"}),Me=Ni(et,2),De=Me[0],gt=Me[1],Ge=De,yt=Pp(C);m.useEffect(function(){return function(){clearTimeout(he.current),clearTimeout(ke.current),clearTimeout(Re.current),clearTimeout(_e.current)}},[]);var ht=function(Vt){clearTimeout(wv),hf=!0,gt(!0),M&&M(Vt)},Oe=function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(He){var Zt=a.props;He.type==="mouseover"&&Zt.onMouseOver&&Vt&&Zt.onMouseOver(He),!(pe.current&&He.type!=="touchstart")&&(ce&&ce.removeAttribute("title"),clearTimeout(ke.current),clearTimeout(Re.current),b||hf&&S?(He.persist(),ke.current=setTimeout(function(){ht(He)},hf?S:b)):ht(He))}},Ie=Lc(),We=Ie.isFocusVisible,mt=Ie.onBlurVisible,Be=Ie.ref,tt=m.useState(!1),Pe=tt[0],Q=tt[1],Et=function(){Pe&&(Q(!1),mt())},Tt=function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(He){ce||ee(He.currentTarget),We(He)&&(Q(!0),Oe()(He));var Zt=a.props;Zt.onFocus&&Vt&&Zt.onFocus(He)}},st=function(Vt){clearTimeout(wv),wv=setTimeout(function(){hf=!1},800+O),gt(!1),F&&F(Vt),clearTimeout(he.current),he.current=setTimeout(function(){pe.current=!1},X.transitions.duration.shortest)},Z=function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(He){var Zt=a.props;He.type==="blur"&&(Zt.onBlur&&Vt&&Zt.onBlur(He),Et()),He.type==="mouseleave"&&Zt.onMouseLeave&&He.currentTarget===ce&&Zt.onMouseLeave(He),clearTimeout(ke.current),clearTimeout(Re.current),He.persist(),Re.current=setTimeout(function(){st(He)},O)}},ie=function(Vt){pe.current=!0;var He=a.props;He.onTouchStart&&He.onTouchStart(Vt)},rt=function(Vt){ie(Vt),clearTimeout(Re.current),clearTimeout(he.current),clearTimeout(_e.current),Vt.persist(),_e.current=setTimeout(function(){Oe()(Vt)},k)},se=function(Vt){a.props.onTouchEnd&&a.props.onTouchEnd(Vt),clearTimeout(_e.current),clearTimeout(Re.current),Vt.persist(),Re.current=setTimeout(function(){st(Vt)},j)},te=Fr(ee,r),me=Fr(Be,te),be=m.useCallback(function(_t){Ea(me,bi.findDOMNode(_t))},[me]),xe=Fr(a.ref,be);B===""&&(Ge=!1);var ze=!Ge&&!f,ot=re({"aria-describedby":Ge?yt:null,title:ze&&typeof B=="string"?B:null},W,a.props,{className:Le(W.className,a.props.className),onTouchStart:ie,ref:xe}),Ue={};p||(ot.onTouchStart=rt,ot.onTouchEnd=se),f||(ot.onMouseOver=Oe(),ot.onMouseLeave=Z(),_&&(Ue.onMouseOver=Oe(!1),Ue.onMouseLeave=Z(!1))),c||(ot.onFocus=Tt(),ot.onBlur=Z(),_&&(Ue.onFocus=Tt(!1),Ue.onBlur=Z(!1)));var ct=m.useMemo(function(){return Ca({popperOptions:{modifiers:{arrow:{enabled:!!le,element:le}}}},G)},[le,G]);return m.createElement(m.Fragment,null,m.cloneElement(a,ot),m.createElement(U,re({className:Le(s.popper,_&&s.popperInteractive,i&&s.popperArrow),placement:$,anchorEl:ce,open:ce?Ge:!1,id:ot["aria-describedby"],transition:!0},Ue,ct),function(_t){var Vt=_t.placement,He=_t.TransitionProps;return m.createElement(N,re({timeout:X.transitions.duration.shorter},He,L),m.createElement("div",{className:Le(s.tooltip,s["tooltipPlacement".concat(Yt(Vt.split("-")[0]))],pe.current&&s.touch,i&&s.tooltipArrow)},B,i?m.createElement("span",{className:s.arrow,ref:de}):null))}))});const Er=Rt(Q5,{name:"MuiTooltip",flip:!1})(e4);var t4=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},tC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},r4=m.forwardRef(function(e,r){var n=e.align,i=n===void 0?"inherit":n,a=e.classes,s=e.className,u=e.color,c=u===void 0?"initial":u,h=e.component,f=e.display,g=f===void 0?"initial":f,p=e.gutterBottom,y=p===void 0?!1:p,b=e.noWrap,v=b===void 0?!1:b,S=e.paragraph,x=S===void 0?!1:S,k=e.variant,C=k===void 0?"body1":k,R=e.variantMapping,_=R===void 0?tC:R,T=Qe(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),O=h||(x?"p":_[C]||tC[C])||"span";return m.createElement(O,re({className:Le(a.root,s,C!=="inherit"&&a[C],c!=="initial"&&a["color".concat(Yt(c))],v&&a.noWrap,y&&a.gutterBottom,x&&a.paragraph,i!=="inherit"&&a["align".concat(Yt(i))],g!=="initial"&&a["display".concat(Yt(g))]),ref:r},T))});const un=Rt(t4,{name:"MuiTypography"})(r4);var Ql={},rC;function n4(){if(rC)return Ql;rC=1;var t=Wt(),e=Qt();Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement(r.Fragment,null,r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})),"ZoomIn");return Ql.default=i,Ql}var i4=n4();const a4=zt(i4);var eu={},nC;function o4(){if(nC)return eu;nC=1;var t=Wt(),e=Qt();Object.defineProperty(eu,"__esModule",{value:!0}),eu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");return eu.default=i,eu}var s4=o4();const l4=zt(s4);var tu={},iC;function u4(){if(iC)return tu;iC=1;var t=Wt(),e=Qt();Object.defineProperty(tu,"__esModule",{value:!0}),tu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");return tu.default=i,tu}var c4=u4();const d4=zt(c4);function f4(t){const e=t.split(" ").join("").split(","),r=[];for(const n of e)r.push(n.trim());return r}function NT({tags:t,onTagsChange:e,...r}){const[n,i]=m.useState("");m.useEffect(()=>{t.join(", ")!==n&&i(t.join(", "))},[n,t]);const a=m.useCallback(s=>{let u=s.target.value;n.length>u.length&&n.includes(u)&&u.endsWith(",")&&(u=u.substring(0,u.length-1));const c=f4(u);i(c.join(", ")),e(c)},[n,e]);return E.jsx(tr,{...r,value:n,onChange:a})}function L0({subtitle:t,availableWidth:e,scale:r}){if(t.textImage===void 0)return null;const i=r*e/t.textImage.screen.width*t.textImage.image.width;return E.jsx("div",{style:{maxWidth:i,margin:"auto"},children:E.jsx("img",{style:{width:"100%"},alt:"subtitle",src:t.textImage.dataUrl})})}const p4=ao(t=>({root:{marginBottom:t.spacing(1),padding:t.spacing(1),backgroundColor:t.palette.action.disabledBackground}})),h4=({selectedSubtitles:t,width:e})=>{const r=p4();return t.length===0||e<=0?null:E.jsx(oi,{elevation:0,className:r.root,children:t.map((n,i)=>E.jsx(L0,{availableWidth:e,subtitle:n,scale:1},i))})};function gf({width:t,text:e,label:r,onChangeText:n,selectedSubtitles:i}){const{t:a}=Mr();return E.jsxs(E.Fragment,{children:[E.jsx(h4,{selectedSubtitles:i.filter(s=>s.textImage!==void 0),width:t}),E.jsx(tr,{variant:"filled",color:"secondary",multiline:!0,fullWidth:!0,maxRows:8,label:r,value:e,onChange:s=>n(s.target.value)})]})}function g4({text:t,onTextChange:e}){const{t:r}=Mr();return E.jsx(tr,{variant:"filled",color:"secondary",multiline:!0,maxRows:8,fullWidth:!0,label:r("ankiDialog.definition"),value:t,onChange:n=>e(n.target.value)})}var m4={root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},v4=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,u=s===void 0?"div":s,c=e.disablePointerEvents,h=c===void 0?!1:c,f=e.disableTypography,g=f===void 0?!1:f,p=e.position,y=e.variant,b=Qe(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),v=XP()||{},S=y;return y&&v.variant,v&&!S&&(S=v.variant),m.createElement(Bc.Provider,{value:null},m.createElement(u,re({className:Le(i.root,a,p==="end"?i.positionEnd:i.positionStart,h&&i.disablePointerEvents,v.hiddenLabel&&i.hiddenLabel,S==="filled"&&i.filled,v.margin==="dense"&&i.marginDense),ref:r},b),typeof n=="string"&&!g?m.createElement(un,{color:"textSecondary"},n):n))});const bn=Rt(m4,{name:"MuiInputAdornment"})(v4);var ru={},aC;function y4(){if(aC)return ru;aC=1;var t=Wt(),e=Qt();Object.defineProperty(ru,"__esModule",{value:!0}),ru.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");return ru.default=i,ru}var b4=y4();const x4=zt(b4);function w4({anki:t,disabled:e,text:r,onText:n,wordField:i}){const{t:a}=Mr(),[s,u]=m.useState(),[c,h]=m.useState([]),[f,g]=m.useState(0);m.useEffect(()=>{g(Date.now())},[r]),m.useEffect(()=>{if(!r||!i)return;const y=r.trim();if(y===""||y===s)return;const b=setTimeout(async()=>{try{h(await t.findNotesWithWord(y)),u(y)}catch(v){console.error(v)}},500);return()=>clearTimeout(b)},[r,f,s,t,i]);let p;return r&&r.trim()===s&&i?p=c.length>0?a("ankiDialog.foundDuplicateNotes",{count:c.length,word:r,field:i}):a("ankiDialog.foundNoDuplicateNote",{word:r,field:i}):p="",E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,label:a("ankiDialog.word"),value:r,onChange:y=>n(y.target.value),helperText:p,InputProps:{endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Er,{title:a("ankiDialog.searchInAnki"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:e||!i||!r||r.trim()==="",onClick:()=>t.findNotesWithWordGui(r.trim()),edge:"end",children:E.jsx(x4,{})})})})})}})}function S4({name:t,text:e,onTextChange:r}){return E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,multiline:!0,maxRows:8,label:t,value:e,onChange:n=>r(t,n.target.value)},t)}var nu={},oC;function k4(){if(oC)return nu;oC=1;var t=Wt(),e=Qt();Object.defineProperty(nu,"__esModule",{value:!0}),nu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");return nu.default=i,nu}var C4=k4();const FT=zt(C4);var iu={},sC;function E4(){if(sC)return iu;sC=1;var t=Wt(),e=Qt();Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");return iu.default=i,iu}var _4=E4();const MT=zt(_4);var au={},lC;function P4(){if(lC)return au;lC=1;var t=Wt(),e=Qt();Object.defineProperty(au,"__esModule",{value:!0}),au.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause");return au.default=i,au}var T4=P4();const jT=zt(T4),R4=ao(t=>({root:{cursor:"pointer","& input":{cursor:"pointer"}}})),O4=(t,e)=>{const{t:r}=Mr(),[n,i]=m.useState(),[a,s]=m.useState();return m.useEffect(()=>{if(t){const u=t.error===void 0;s(u),u?e===void 0&&!t.isSliceable()?i(r("ankiDialog.cannotUpdateAudio")):i(void 0):i(r(t.errorLocKey))}},[t,e,r]),{audioHelperText:n,audioClipPlayable:a}};function A4({audioClip:t,timestampIntervalSelectionNotApplied:e,onPlayAudio:r,onRerecord:n}){const i=R4(),{t:a}=Mr(),[s,u]=m.useState(!1);let c;m.useEffect(()=>u(t.playing),[t]),m.useEffect(()=>t.onEvent("play",()=>u(!0)),[t]),m.useEffect(()=>t.onEvent("pause",()=>u(!1)),[t]),c=E.jsxs(E.Fragment,{children:[E.jsxs(Bt,{disabled:(t==null?void 0:t.error)!==void 0,onClick:()=>{},edge:"end",children:[s&&E.jsx(jT,{}),!s&&E.jsx(MT,{})]}),n!==void 0&&E.jsx(Er,{title:a(e?"ankiDialog.rerecordAndApplySelection":"ankiDialog.rerecord"),children:E.jsx("span",{children:E.jsx(GP,{invisible:!e,badgeContent:"!",color:"error",children:E.jsx(Bt,{disabled:(t==null?void 0:t.error)!==void 0,onClick:g=>{g.stopPropagation(),n==null||n()},edge:"end",children:E.jsx(FT,{})})})})})]});const{audioHelperText:h,audioClipPlayable:f}=O4(t,n);return E.jsx("div",{className:i.root,onClick:r,children:E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,value:t.name,label:a("ankiDialog.audio"),helperText:h,disabled:!f,InputProps:{endAdornment:c&&E.jsx(bn,{position:"end",children:c})}})})}var ou={},uC;function I4(){if(uC)return ou;uC=1;var t=Wt(),e=Qt();Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");return ou.default=i,ou}var N4=I4();const F4=zt(N4),$T=({image:t,smoothTransition:e})=>{const[r,n]=m.useState(""),[i,a]=m.useState(0),[s,u]=m.useState(0);return m.useEffect(()=>{if(e||(n(""),a(0),u(0)),!t||t.error!==void 0)return;let c;function h(){t&&t.dataUrl().then(f=>{c=new Image,c.onload=()=>{c&&(a(c.width),u(c.height),n(f))},c.src=f}).catch(f=>{if(!(f instanceof g2))throw f})}return h(),()=>{c&&(c.onload=null)}},[t,e]),{dataUrl:r,width:i,height:s}},ga=({children:t,disabled:e,...r})=>e?t:E.jsx(Er,{...r,children:t});var su={},cC;function M4(){if(cC)return su;cC=1;var t=Wt(),e=Qt();Object.defineProperty(su,"__esModule",{value:!0}),su.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");return su.default=i,su}var j4=M4();const $4=zt(j4),L4=ao(t=>({root:{cursor:"pointer","& input":{cursor:"pointer"}},imagePreview:({dataUrl:e,width:r,height:n})=>e?{position:"relative",top:8,borderRadius:2,marginRight:8}:{}})),D4=t=>{const{t:e}=Mr(),[r,n]=m.useState(),[i,a]=m.useState();return m.useEffect(()=>{t&&(t.error===void 0?(a(!0),n(void 0)):t.error===Ls.fileLinkLost?(a(!1),n(e("ankiDialog.imageFileLinkLost"))):t.error===Ls.captureFailed&&(a(!1),n(e("ankiDialog.imageCaptureFailed"))))},[t,e]),{imageHelperText:r,imageAvailable:i}};function B4({image:t,onViewImage:e,onCopyImageToClipboard:r,copyEnabled:n}){const{t:i}=Mr(),{dataUrl:a,width:s,height:u}=$T({image:t,smoothTransition:!1}),c=L4({dataUrl:a,width:s,height:u}),{imageHelperText:h,imageAvailable:f}=D4(t),g=u===0?0:20/u;return E.jsx("div",{className:c.root,onClick:e,children:E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,value:t.name,label:i("ankiDialog.image"),helperText:h,disabled:!f,InputProps:{startAdornment:a&&s>0&&u>0&&E.jsx("img",{src:a,width:s*g,height:u*g,className:c.imagePreview}),endAdornment:E.jsx(bn,{position:"end",children:E.jsxs(E.Fragment,{children:[E.jsx(ga,{disabled:!t.canChangeTimestamp||!f,title:i("ankiDialog.imagePreview"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:!f,onClick:()=>{},edge:"end",children:E.jsx($4,{})})})}),n&&E.jsx(ga,{disabled:!f,title:i("ankiDialog.copyToClipboard"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:!f,onClick:r,edge:"end",children:E.jsx(F4,{})})})})]})})}})})}var z4={root:{overflow:"hidden"}},V4=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.raised,s=a===void 0?!1:a,u=Qe(e,["classes","className","raised"]);return m.createElement(oi,re({className:Le(n.root,i),elevation:s?8:1,ref:r},u))});const W4=Rt(z4,{name:"MuiCard"})(V4);var q4={root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},H4=["video","audio","picture","iframe","img"],U4=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,u=s===void 0?"div":s,c=e.image,h=e.src,f=e.style,g=Qe(e,["children","classes","className","component","image","src","style"]),p=H4.indexOf(u)!==-1,y=!p&&c?re({backgroundImage:'url("'.concat(c,'")')},f):f;return m.createElement(u,re({className:Le(i.root,a,p&&i.media,"picture img".indexOf(u)!==-1&&i.img),ref:r,style:y,src:p?c||h:void 0},g),n)});const K4=Rt(q4,{name:"MuiCardMedia"})(U4),G4=zo(()=>({image:({width:t,height:e})=>({width:t,height:e,backgroundSize:"contain"})}));function X4(){const[t,e]=m.useState([0,0]);return m.useLayoutEffect(()=>{function r(){e([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),t}const Y4=({children:t,open:e,value:r})=>E.jsx(Er,{open:e,enterTouchDelay:0,placement:"bottom",title:r,children:t});function Z4({open:t,image:e,interval:r,onClose:n,onTimestampChange:i}){const{width:a,height:s,dataUrl:u}=$T({image:e,smoothTransition:!0}),[c,h]=X4();let f;a>0&&s>0?f=Math.min(1,Math.min(c/(2*a),h/(2*s))):f=1;const g=G4({width:a*f,height:s*f});return!e||!u||!t?null:E.jsx("div",{children:E.jsx(Ip,{disableRestoreFocus:!0,style:{width:"100vw",height:"100vh"},open:t,onClose:n,children:E.jsxs("div",{style:{position:"absolute",width:a*f,height:s*f,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[E.jsx(W4,{children:E.jsx(K4,{className:g.image,image:u,title:e.name,style:{}})}),r&&e.canChangeTimestamp&&E.jsx(Np,{color:"secondary",value:e.timestamp,min:r[0],max:r[1],onChange:(p,y)=>{const b=r[1]-r[0];i(y/b*b)},valueLabelFormat:p=>xc(p,!0),valueLabelDisplay:"on",ValueLabelComponent:Y4,track:!1})]})})})}var J4=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},Q4=typeof window>"u"?m.useEffect:m.useLayoutEffect,eD=m.forwardRef(function(e,r){var n=e.alignItems,i=n===void 0?"center":n,a=e.autoFocus,s=a===void 0?!1:a,u=e.button,c=u===void 0?!1:u,h=e.children,f=e.classes,g=e.className,p=e.component,y=e.ContainerComponent,b=y===void 0?"li":y,v=e.ContainerProps;v=v===void 0?{}:v;var S=v.className,x=Qe(v,["className"]),k=e.dense,C=k===void 0?!1:k,R=e.disabled,_=R===void 0?!1:R,T=e.disableGutters,O=T===void 0?!1:T,D=e.divider,j=D===void 0?!1:D,F=e.focusVisibleClassName,M=e.selected,z=M===void 0?!1:M,I=Qe(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),$=m.useContext(Ns),K={dense:C||$.dense||!1,alignItems:i},U=m.useRef(null);Q4(function(){s&&U.current&&U.current.focus()},[s]);var G=m.Children.toArray(h),B=G.length&&cc(G[G.length-1],["ListItemSecondaryAction"]),H=m.useCallback(function(X){U.current=bi.findDOMNode(X)},[]),N=Fr(H,r),L=re({className:Le(f.root,g,K.dense&&f.dense,!O&&f.gutters,j&&f.divider,_&&f.disabled,c&&f.button,i!=="center"&&f.alignItemsFlexStart,B&&f.secondaryAction,z&&f.selected),disabled:_},I),W=p||"li";return c&&(L.component=p||"div",L.focusVisibleClassName=Le(f.focusVisible,F),W=Lo),B?(W=!L.component&&!p?"div":W,b==="li"&&(W==="li"?W="div":L.component==="li"&&(L.component="div")),m.createElement(Ns.Provider,{value:K},m.createElement(b,re({className:Le(f.container,S),ref:N},x),m.createElement(W,L,G),G.pop()))):m.createElement(Ns.Provider,{value:K},m.createElement(W,re({ref:N},L),G))});const Qr=Rt(J4,{name:"MuiListItem"})(eD),tD=({profiles:t,activeProfile:e,onSetActiveProfile:r})=>{const{t:n}=Mr(),[i,a]=m.useState(!1),[s,u]=m.useState(),c=m.useCallback(g=>{u(g.currentTarget),a(!0)},[]),h=m.useCallback(()=>a(!1),[]),f=m.useCallback(g=>{a(!1),r(g==null?void 0:g.name)},[r]);return t.length===0?null:E.jsxs(E.Fragment,{children:[E.jsx(Ta,{open:i,anchorEl:s,onClose:h,children:E.jsxs(ra,{children:[E.jsx(Qr,{button:!0,selected:e===void 0,onClick:()=>f(void 0),children:n("settings.defaultProfile")}),t.map(g=>E.jsx(Qr,{button:!0,selected:g.name===e,onClick:()=>f(g),children:g.name},g.name))]})}),E.jsx(Ya,{variant:"outlined",onClick:c,children:e??n("settings.defaultProfile")})]})};var o2,s2,l2;const rD=((l2=(s2=((o2=navigator.userAgentData)==null?void 0:o2.platform)??navigator.platform)==null?void 0:s2.toUpperCase())==null?void 0:l2.indexOf("MAC"))>-1,Sv=nr.forwardRef(function({children:e,focusVisible:r,onBlurVisible:n,...i},a){const s=m.useRef(null),u=m.useRef(null),[c,h]=m.useState(!1),f=m.useCallback(()=>{var b,v;return(b=u.current)!=null&&b.querySelector(".MuiTouchRipple-root")?((v=s.current)==null||v.focusVisible(),!0):!1},[]),g=m.useCallback(()=>{if(!u.current)return()=>{};if(f())return()=>{};let b=!1;const v=new MutationObserver(S=>{S.filter(k=>k.type==="childList").flatMap(k=>[...k.addedNodes]).filter(k=>k instanceof HTMLElement).find(k=>k.classList.contains("MuiTouchRipple-root"))&&(v.disconnect(),b=!0,f())});return v.observe(u.current,{childList:!0}),()=>{b||v.disconnect()}},[f]);m.useEffect(()=>{r&&c&&g()},[r,g,c]);const p=m.useCallback(b=>{a&&(typeof a=="function"?a(b):a.current=b,u.current=b),h(b!==null)},[a]),y=m.useCallback(()=>n(),[n]);return E.jsx(Ya,{ref:p,onBlur:y,action:s,...i,children:e})}),nD=rD?"⌘+⇧+Enter":"Alt+Shift+Enter",iD=ao(t=>({root:{"& .MuiTextField-root":{marginBottom:t.spacing(1)}},title:{flexGrow:1},mediaField:{cursor:"pointer","& input":{cursor:"pointer"}},rangeSelectSlider:{"& .MuiSlider-markLabel":{transform:"translateX(-3%)",background:t.palette.type==="dark"?"#222":"#ddd",borderRadius:t.spacing(1),paddingLeft:t.spacing(1),paddingRight:t.spacing(1),color:t.palette.text.disabled},"& .MuiSlider-markLabelActive":{opacity:1,color:t.palette.text.primary}}})),aD=1,oD=5e3,sD=(t,e)=>{let r=e.findIndex(s=>s.start===t.start);r=r===-1?e.length/2:r;const{surroundingSubtitles:n}=Xy(e,t.start,t.end,aD,oD);let i=null,a=null;for(const s of n??[])(i===null||s.start<i)&&(i=s.start),(a===null||s.end>a)&&(a=s.end);return i!==null&&a!==null&&[i,a]},mf=(t,e)=>{const r={};return t.filter(n=>n.text.trim()!==""||n.textImage!==void 0).map(n=>n.start in r?null:(r[n.start]=!0,{value:n.start,label:`${n.text.trim().substring(0,Math.min(n.text.length,3))}...`})).filter(n=>n!==null).filter(n=>n.value>=e[0]&&n.value<=e[1])},lD=t=>xc(t,!0),uD=({children:t,open:e,value:r})=>E.jsx(Er,{open:e,enterTouchDelay:0,placement:"top",title:r,children:t}),dC=({open:t,disabled:e,card:r,onProceed:n,onCancel:i,onOpenSettings:a,onRerecord:s,onCopyToClipboard:u,settings:c,anki:h,source:f,timestampInterval:g,timestampBoundaryInterval:p,initialTimestampInterval:y,lastAppliedTimestampIntervalToText:b,lastAppliedTimestampIntervalToAudio:v,stateRef:S,mp3Encoder:x,profiles:k,activeProfile:C,onSetActiveProfile:R,lastSelectedExportMode:_,showQuickSelectFtue:T,onDismissShowQuickSelectFtue:O})=>{const D=iD(),[j,F]=m.useState(""),[M,z]=m.useState(""),[I,$]=m.useState(""),[K,U]=m.useState(""),[G,B]=m.useState(c.tags),[H,N]=m.useState(r.url??""),[L,W]=m.useState(""),[X,Y]=m.useState(""),[ce,ee]=m.useState(""),[fe,le]=m.useState({}),[de,pe]=m.useState(),[he,ke]=m.useState([]),[Re,_e]=m.useState(),[et,Me]=m.useState(),[De,gt]=m.useState(),[Ge,yt]=m.useState(),[ht,Oe]=m.useState(),[Ie,We]=m.useState(),[mt,Be]=m.useState(0),[tt,Pe]=m.useState(),[Q,Et]=m.useState(!0),[Tt,st]=m.useState(!1),[Z,ie]=m.useState(),rt=m.useRef(),se=m.useCallback(ve=>{rt.current=ve,Be((ve==null?void 0:ve.getBoundingClientRect().width)??0)},[]),{t:te}=Mr();S&&(S.current={text:M,subtitle:r.subtitle,surroundingSubtitles:r.surroundingSubtitles,definition:j,word:I,source:K,url:H,track1:L,track2:X,track3:ce,customFieldValues:fe,initialTimestampInterval:Re,timestampBoundaryInterval:De,lastAppliedTimestampIntervalToText:ht,lastAppliedTimestampIntervalToAudio:Ie,timestampInterval:de});const me=m.useCallback((ve,kt)=>Rf(r.surroundingSubtitles.filter(lt=>Zu(lt,ve)).filter(lt=>kt===void 0||lt.track===kt)),[r.surroundingSubtitles]),{text:be,definition:xe,word:ze,customFieldValues:ot}=r;m.useEffect(()=>{z(be??ba(r.subtitle,r.surroundingSubtitles)??""),F(xe??""),$(ze??""),U(f??`${r.subtitleFileName} (${xc(r.subtitle.start)})`),N(r.url??""),W(ba(r.subtitle,r.surroundingSubtitles,0)),Y(ba(r.subtitle,r.surroundingSubtitles,1)),ee(ba(r.subtitle,r.surroundingSubtitles,2)),le(ot??{})},[r.subtitle,r.surroundingSubtitles,r.url,r.subtitleFileName,be,f,xe,ze,ot]),m.useEffect(()=>{h.version().then(()=>{Et(!0)}).catch(()=>{Et(!1)})},[h]),m.useEffect(()=>{B(c.tags)},[c.tags]),m.useEffect(()=>{const ve=g||[r.subtitle.start,r.subtitle.end],kt=sD(r.subtitle,r.surroundingSubtitles)||void 0,lt=mf(r.surroundingSubtitles,kt)||void 0,Kt=ve===void 0?[]:r.surroundingSubtitles.filter(Pt=>Zu(Pt,ve));z(be??Rf(Kt));const Jt=Pt=>Rf(Kt.filter(dr=>dr.track===Pt));W(Jt(0)),Y(Jt(1)),ee(Jt(2)),pe(ve),ke(Kt),_e(y||ve),Oe(b||ve),We(v||ve),gt(p??kt),Me(kt),yt(lt)},[r.subtitle,r.surroundingSubtitles,be,y,g,p,b,v]);const Ue=m.useMemo(()=>Oi.fromCard(r,c.audioPaddingStart,c.audioPaddingEnd,c.recordWithAudioPlayback),[r,c.audioPaddingStart,c.audioPaddingEnd,c.recordWithAudioPlayback]);m.useEffect(()=>{if(!Ue){Pe(void 0);return}let ve=Ue;c.preferMp3&&(ve=ve.toEncoded(x,"mp3")),Ie&&(ve=ve.slice(Math.max(0,Math.round(Ie[0])-c.audioPaddingStart),Math.round(Ie[1])+c.audioPaddingEnd)),Pe(ve)},[x,Ue,c.preferMp3,Ie,c.audioPaddingStart,c.audioPaddingEnd]);const ct=m.useCallback(async ve=>{(tt==null?void 0:tt.error)===void 0&&(ve.preventDefault(),ve.stopPropagation(),tt.play().catch(console.info))},[tt]),_t=m.useCallback((ve,kt)=>{const lt={};Object.assign(lt,fe),lt[ve]=kt,le(lt)},[fe]);m.useEffect(()=>{ie(qf.fromCard(r,c.maxImageWidth,c.maxImageHeight))},[r,c.maxImageWidth,c.maxImageHeight]),m.useEffect(()=>{!t&&Z&&(Z.dispose(),ie(void 0))},[t,Z]);const Vt=m.useCallback(async ve=>{(Z==null?void 0:Z.error)===void 0&&(ve.preventDefault(),ve.stopPropagation(),st(!0))},[Z]),He=m.useCallback(()=>st(!1),[]),Zt=m.useCallback(ve=>{ie(kt=>{if(kt)return kt.atTimestamp(ve)})},[]),gr=m.useCallback((ve,kt,lt,Kt,Jt)=>{const Pt=ht===void 0?void 0:me(ht,Kt);if(Jt||Pt===void 0||kt.trim()===Pt.trim()){const dr=me(ve,Kt);lt(dr)}},[me,ht]),Xe=m.useCallback((ve,kt)=>{gr(ve,M,z,void 0,kt),gr(ve,L,W,0,kt),gr(ve,X,Y,1,kt),gr(ve,ce,ee,2,kt)},[gr,M,L,X,ce]),Ce=m.useCallback(()=>{de!==void 0&&(Xe(de,!0),Oe(de))},[Xe,de]),Ot=m.useCallback((ve,kt)=>{const lt=kt;pe(lt);const Kt=r.surroundingSubtitles.filter(Jt=>Zu(Jt,lt));ke(Kt),Xe(lt),Oe(lt),s===void 0&&(tt==null?void 0:tt.isSliceable())===!0&&We(lt)},[r.surroundingSubtitles,tt,s,Xe]),jt=m.useCallback(()=>{if(!et)return;const ve=Re==null?[]:r.surroundingSubtitles.filter(kt=>Zu(kt,Re));ke(ve),pe(Re),gt(et),yt(mf(r.surroundingSubtitles,et)),Re!==void 0&&(Xe(Re,!0),Oe(Re))},[Re,et,r.surroundingSubtitles,Xe]),Ze=m.useCallback(()=>{if(!De||!de)return;const ve=(De[0]+de[0])/2,kt=(De[1]+de[1])/2,lt=[ve,kt];gt(lt),yt(mf(r.surroundingSubtitles,lt))},[De,de,r.surroundingSubtitles]),wt=m.useCallback(()=>{if(!De||!de)return;const kt=(De[1]-De[0])/4,lt=Math.max(0,Math.min(De[0]-kt,2*De[0]-de[0])),Kt=Math.max(De[1]+kt,2*De[1]-de[1]),Jt=[lt,Kt];gt(Jt),yt(mf(r.surroundingSubtitles,Jt))},[De,de,r.surroundingSubtitles]),Nt=m.useCallback(async ve=>{ve.stopPropagation(),Z&&u(await Z.pngBlob())},[Z,u]),lr=r.surroundingSubtitles.filter(ve=>ve.text.trim()!=="").length===0,pr=k2(c);m.useEffect(()=>{t||tt==null||tt.stop()},[t,tt]);const wr=m.useCallback(ve=>{z(ve),Oe(void 0)},[]),Br=m.useCallback(ve=>{W(ve),Oe(void 0)},[]),_r=m.useCallback(ve=>{Y(ve),Oe(void 0)},[]),yr=m.useCallback(ve=>{ee(ve),Oe(void 0)},[]),br=m.useRef(null),mr=m.useRef(null),Rr=m.useRef(null),Pr=m.useRef();Pr.current=_;const[vr,jr]=m.useState(),Hr=()=>{const ve=document.activeElement;if(ve){for(const kt of[Rr,mr,br])if(kt.current===ve)return kt.current}},$r=m.useCallback(()=>{const ve=Pr.current;ve!==void 0&&jr(ve)},[]),ur=m.useCallback(()=>jr(void 0),[]);m.useEffect(()=>{t&&!e&&$r()},[t,e,$r]);const Sr=m.useCallback(ve=>{n({text:M,track1:L,track2:X,track3:ce,definition:j,audioClip:tt,image:Z,word:I,source:K,url:H,customFieldValues:fe,tags:G,mode:ve})},[M,L,X,ce,j,tt,Z,I,K,H,fe,G,n]),Lr=m.useCallback(()=>Sr("gui"),[Sr]),Te=m.useCallback(()=>Sr("updateLast"),[Sr]),ft=m.useCallback(()=>Sr("default"),[Sr]);return m.useEffect(()=>{const ve=kt=>{if((kt.metaKey||kt.altKey)&&kt.shiftKey&&kt.key==="Enter"){const lt=Hr();lt===void 0?$r():lt==null||lt.click()}};return document.addEventListener("keydown",ve),()=>document.removeEventListener("keydown",ve)},[$r]),E.jsxs(E.Fragment,{children:[E.jsxs(hT,{open:t,disableRestoreFocus:!0,disableEnforceFocus:!0,fullWidth:!0,maxWidth:"sm",onClose:i,children:[E.jsxs(I0,{children:[E.jsx(un,{variant:"h6",className:D.title,children:te("ankiDialog.title")}),k!==void 0&&R&&E.jsx(tD,{profiles:k,activeProfile:C,onSetActiveProfile:R}),a&&E.jsx(Bt,{edge:"end",onClick:a,children:E.jsx(GP,{invisible:Q,badgeContent:"!",color:"error",children:E.jsx(mT,{})})}),i&&E.jsx(Bt,{edge:"end",onClick:i,children:E.jsx(A0,{})})]}),E.jsxs(gT,{ref:se,children:[E.jsxs("form",{className:D.root,children:[pr.map(ve=>{const kt=ve.custom?`custom_${ve.key}`:`standard_${ve.key}`;return E.jsxs(nr.Fragment,{children:[!ve.custom&&ve.key==="sentence"&&ve.field.display&&E.jsx(gf,{text:M,label:te("ankiDialog.sentence"),width:mt,onChangeText:wr,selectedSubtitles:he}),!ve.custom&&ve.key==="definition"&&ve.field.display&&E.jsx(g4,{text:j,onTextChange:F}),!ve.custom&&ve.key==="word"&&ve.field.display&&E.jsx(w4,{anki:h,disabled:e,text:I,onText:$,wordField:c.wordField}),Z&&!ve.custom&&ve.key==="image"&&ve.field.display&&E.jsx(B4,{onViewImage:Vt,image:Z,onCopyImageToClipboard:Nt,copyEnabled:!Fc}),tt&&!ve.custom&&ve.key==="audio"&&ve.field.display&&E.jsx(A4,{audioClip:tt,timestampIntervalSelectionNotApplied:(de==null?void 0:de[0])!==(Ie==null?void 0:Ie[0])||(de==null?void 0:de[1])!==(Ie==null?void 0:Ie[1]),onRerecord:s,onPlayAudio:ct}),!ve.custom&&ve.key==="source"&&ve.field.display&&E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,label:te("ankiDialog.source"),value:K,onChange:lt=>U(lt.target.value)}),!ve.custom&&ve.key==="url"&&ve.field.display&&r.url&&E.jsx(tr,{variant:"filled",color:"secondary",fullWidth:!0,label:te("ankiDialog.url"),value:H,onChange:lt=>N(lt.target.value)}),!ve.custom&&ve.key==="track1"&&ve.field.display&&E.jsx(gf,{text:L,label:te("ankiDialog.track1"),width:mt,onChangeText:Br,selectedSubtitles:he.filter(lt=>lt.track===0)}),!ve.custom&&ve.key==="track2"&&ve.field.display&&E.jsx(gf,{text:X,label:te("ankiDialog.track2"),width:mt,onChangeText:_r,selectedSubtitles:he.filter(lt=>lt.track===1)}),!ve.custom&&ve.key==="track3"&&ve.field.display&&E.jsx(gf,{text:ce,label:te("ankiDialog.track3"),width:mt,onChangeText:yr,selectedSubtitles:he.filter(lt=>lt.track===2)}),ve.custom&&ve.field.display&&E.jsx(S4,{name:ve.key,text:fe[ve.key]||"",onTextChange:_t})]},kt)}),E.jsx(NT,{variant:"filled",label:"Tags",helperText:te("ankiDialog.tagList"),fullWidth:!0,color:"secondary",tags:G,onTagsChange:ve=>B(ve)}),de&&De&&Ge&&E.jsxs(Mt,{container:!0,direction:"row",children:[E.jsx(Mt,{item:!0,style:{flexGrow:1},children:E.jsx(Np,{ValueLabelComponent:uD,value:de,valueLabelFormat:lD,onChange:Ot,min:De[0],max:De[1],marks:Ge,step:1,valueLabelDisplay:"auto",className:D.rangeSelectSlider,color:"secondary"})}),E.jsx(Mt,{item:!0,children:E.jsx(Er,{title:te("ankiDialog.resetSlider"),children:E.jsx("span",{children:E.jsx(Bt,{edge:"end",style:{marginTop:-8},onClick:jt,children:E.jsx(J3,{fontSize:"small"})})})})}),E.jsx(Mt,{item:!0,children:E.jsx(Er,{title:te("ankiDialog.zoomIn"),children:E.jsx("span",{children:E.jsx(Bt,{edge:"end",style:{marginTop:-8},onClick:Ze,children:E.jsx(a4,{fontSize:"small"})})})})}),E.jsx(Mt,{item:!0,children:E.jsx(Er,{title:te("ankiDialog.zoomOut"),children:E.jsx("span",{children:E.jsx(Bt,{edge:"end",style:{marginTop:-8},onClick:wt,children:E.jsx(l4,{fontSize:"small"})})})})}),E.jsx(Mt,{item:!0,children:E.jsx(Er,{title:te("ankiDialog.applySelection"),children:E.jsx("span",{children:E.jsx(Bt,{edge:"end",style:{marginTop:-8},disabled:!de||ht!==void 0&&de[0]===ht[0]&&de[1]===ht[1]||lr,onClick:Ce,children:E.jsx(d4,{fontSize:"small"})})})})})]})]}),T&&_!==void 0&&E.jsx(LP,{severity:"info",action:E.jsx(Ya,{onClick:O,size:"small",children:te("action.ok")}),children:te("ankiDialog.quickSelectFtue",{shortcut:nD})})]}),E.jsxs(B3,{children:[E.jsx(Sv,{ref:mr,disabled:e,focusVisible:vr==="gui",onBlurVisible:ur,onClick:Lr,children:te("ankiDialog.openInAnki")}),E.jsx(Sv,{ref:br,disabled:e,focusVisible:vr==="updateLast",onBlurVisible:ur,onClick:Te,children:te("ankiDialog.updateLastCard")}),E.jsx(Sv,{ref:Rr,disabled:e,focusVisible:vr==="default",onBlurVisible:ur,onClick:ft,children:te("ankiDialog.export")})]})]}),E.jsx(Z4,{open:t&&Tt,image:Z,interval:De,onClose:He,onTimestampChange:Zt})]})};var cD={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},dD=function(e){return re({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})},fD=function(e){return{"@global":{html:cD,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:re({margin:0},dD(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}};function pD(t){var e=t.children,r=e===void 0?null:e;return t.classes,m.createElement(m.Fragment,null,r)}const LT=Rt(fD,{name:"MuiCssBaseline"})(pD),Mp=()=>{const[t,e]=m.useState(0);return m.useLayoutEffect(()=>{const r=document.querySelector("header.MuiAppBar-root");e((r==null?void 0:r.clientHeight)||0);function n(){e((r==null?void 0:r.clientHeight)||0)}const i=new MutationObserver(()=>{e((r==null?void 0:r.clientHeight)||0)});return r&&i.observe(r,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),i.disconnect()}},[]),t},hD=zo(t=>({root:({dragging:e,appBarHidden:r,appBarHeight:n})=>({position:"absolute",height:r?"100%":`calc(100% - ${n}px)`,width:"100%",zIndex:101,pointerEvents:e?"auto":"none"}),transparentBackground:({appBarHidden:e,logoUrl:r})=>({"&::before":{content:"' '",position:"absolute",height:e?"100vh":"calc(100vh - 64px)",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundSize:"300px 300px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url(${r})`,backgroundBlendMode:"overlay",background:"rgba(0, 0, 0, .3)",filter:"drop-shadow(10px 10px 10px rgb(0, 0, 0, .4))"},width:"100%",height:"100%"})}));function gD({dragging:t,appBarHidden:e,loading:r,logoUrl:n}){const i=Mp(),a=hD({dragging:t,appBarHidden:e,logoUrl:n,appBarHeight:i});return E.jsx("div",{className:a.root,children:E.jsx(Ws,{in:t||r,children:E.jsx("div",{className:a.transparentBackground})})})}var mD=function(e){var r=e.palette.type==="light"?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:r,color:e.palette.getContrastText(r)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}},vD=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=a===void 0?"primary":a,u=e.position,c=u===void 0?"fixed":u,h=Qe(e,["classes","className","color","position"]);return m.createElement(oi,re({square:!0,component:"header",elevation:4,className:Le(n.root,n["position".concat(Yt(c))],n["color".concat(Yt(s))],i,c==="fixed"&&"mui-fixed"),ref:r},h))});const yD=Rt(mD,{name:"MuiAppBar"})(vD);var lu={},fC;function bD(){if(fC)return lu;fC=1;var t=Wt(),e=Qt();Object.defineProperty(lu,"__esModule",{value:!0}),lu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"}),"BugReport");return lu.default=i,lu}var xD=bD();const wD=zt(xD);var uu={},pC;function SD(){if(pC)return uu;pC=1;var t=Wt(),e=Qt();Object.defineProperty(uu,"__esModule",{value:!0}),uu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");return uu.default=i,uu}var kD=SD();const CD=zt(kD);var cu={},hC;function ED(){if(hC)return cu;hC=1;var t=Wt(),e=Qt();Object.defineProperty(cu,"__esModule",{value:!0}),cu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");return cu.default=i,cu}var _D=ED();const PD=zt(_D);var du={},gC;function TD(){if(gC)return du;gC=1;var t=Wt(),e=Qt();Object.defineProperty(du,"__esModule",{value:!0}),du.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"History");return du.default=i,du}var RD=TD();const OD=zt(RD);var fu={},mC;function AD(){if(mC)return fu;mC=1;var t=Wt(),e=Qt();Object.defineProperty(fu,"__esModule",{value:!0}),fu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");return fu.default=i,fu}var ID=AD();const DT=zt(ID);var pu={},vC;function ND(){if(vC)return pu;vC=1;var t=Wt(),e=Qt();Object.defineProperty(pu,"__esModule",{value:!0}),pu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub");return pu.default=i,pu}var FD=ND();const MD=zt(FD);var jD={root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},$D=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=a===void 0?"primary":a,u=e.component,c=u===void 0?"a":u,h=e.onBlur,f=e.onFocus,g=e.TypographyClasses,p=e.underline,y=p===void 0?"hover":p,b=e.variant,v=b===void 0?"inherit":b,S=Qe(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),x=Lc(),k=x.isFocusVisible,C=x.onBlurVisible,R=x.ref,_=m.useState(!1),T=_[0],O=_[1],D=Fr(r,R),j=function(z){T&&(C(),O(!1)),h&&h(z)},F=function(z){k(z)&&O(!0),f&&f(z)};return m.createElement(un,re({className:Le(n.root,n["underline".concat(Yt(y))],i,T&&n.focusVisible,c==="button"&&n.button),classes:g,color:s,component:c,onBlur:j,onFocus:F,ref:D,variant:v},S))});const Fs=Rt(jD,{name:"MuiLink"})($D);var LD={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},DD=m.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.disableTypography,u=s===void 0?!1:s,c=e.inset,h=c===void 0?!1:c,f=e.primary,g=e.primaryTypographyProps,p=e.secondary,y=e.secondaryTypographyProps,b=Qe(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),v=m.useContext(Ns),S=v.dense,x=f??n;x!=null&&x.type!==un&&!u&&(x=m.createElement(un,re({variant:S?"body2":"body1",className:i.primary,component:"span",display:"block"},g),x));var k=p;return k!=null&&k.type!==un&&!u&&(k=m.createElement(un,re({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},y),k)),m.createElement("div",re({className:Le(i.root,a,S&&i.dense,h&&i.inset,x&&k&&i.multiline),ref:r},b),x,k)});const va=Rt(LD,{name:"MuiListItemText"})(DD);var BD=function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},zD=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=Qe(e,["classes","className"]),s=m.useContext(Ns);return m.createElement("div",re({className:Le(n.root,i,s.alignItems==="flex-start"&&n.alignItemsFlexStart),ref:r},a))});const fc=Rt(BD,{name:"MuiListItemIcon"})(zD),VD=dn(t=>({title:{flexGrow:1},leftButton:{marginRight:t.spacing(1)},appBar:{background:"linear-gradient(150deg, #ff1f62, #49007a 160%)",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{width:({drawerWidth:e})=>`calc(100% - ${e}px)`,transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:({drawerWidth:e})=>e},copyHistoryButton:{transform:"scaleX(1)",width:48,padding:12,transition:t.transitions.create(["transform","padding","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},copyHistoryButtonShift:{transform:"scaleX(0)",width:0,padding:5,transition:t.transitions.create(["transform","padding","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})},hide:{display:"none"},menu:{"&:hover .MuiLink-root":{textDecoration:"none"}}})),WD=dn(t=>({tooltip:({show:e})=>({display:e?"block":"none"})}));function qD({show:t,...e}){const r=WD({show:t});return E.jsx(Er,{classes:r,...e})}const kv=({children:t,...e})=>E.jsx(Fs,{component:"a",target:"_blank",rel:"noreferrer",color:"inherit",...e,children:t});function HD({drawerWidth:t,drawerOpen:e,hidden:r,title:n,subtitleFiles:i,onOpenSettings:a,onOpenCopyHistory:s,onDownloadSubtitleFilesAsSrt:u}){const c=VD({drawerWidth:t}),h=i!==void 0&&i.find(k=>!k.name.endsWith(".sup"))!==void 0,{t:f}=Mr(),g=m.useCallback(()=>{u()},[u]),[p,y]=m.useState(),[b,v]=m.useState(!1),S=m.useCallback(()=>{v(!1)},[]),x=m.useCallback(k=>{y(k.currentTarget),v(!0)},[]);return E.jsxs(E.Fragment,{children:[E.jsx(yD,{position:"static",elevation:0,className:Le(c.appBar,{[c.appBarShift]:e,[c.hide]:r}),children:E.jsxs(I0,{children:[h&&E.jsx(Er,{title:f("action.downloadSubtitlesAsSrt"),children:E.jsx(Bt,{edge:"start",color:"inherit",className:c.leftButton,onClick:g,children:E.jsx(DT,{})})}),E.jsx(un,{variant:"h6",noWrap:!0,className:c.title,children:n}),E.jsx(Bt,{edge:"end",color:"inherit",onClick:x,children:E.jsx(MD,{})}),E.jsx(Er,{title:f("bar.settings"),children:E.jsx(Bt,{edge:"end",color:"inherit",onClick:a,children:E.jsx(mT,{})})}),E.jsx(qD,{title:f("bar.miningHistory"),show:!e,children:E.jsx(Bt,{edge:"end",color:"inherit","aria-label":"menu",className:Le(c.copyHistoryButton,{[c.copyHistoryButtonShift]:e}),onClick:s,children:E.jsx(OD,{})})})]})}),E.jsx(Ta,{disableEnforceFocus:!0,open:b,anchorEl:p,onClose:S,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:E.jsxs(ra,{className:c.menu,onMouseLeave:S,dense:!0,children:[E.jsx(kv,{href:"https://github.com/killergerbah/asbplayer#detailed-usage",children:E.jsxs(Qr,{button:!0,children:[E.jsx(fc,{children:E.jsx(PD,{})}),E.jsx(va,{primary:f("bar.help")})]})}),E.jsx(kv,{href:"https://github.com/killergerbah/asbplayer/issues",children:E.jsxs(Qr,{button:!0,children:[E.jsx(fc,{children:E.jsx(wD,{})}),E.jsx(va,{primary:f("bar.submitIssue")})]})}),E.jsx(kv,{href:"https://github.com/killergerbah/asbplayer#donations",children:E.jsxs(Qr,{button:!0,children:[E.jsx(fc,{children:E.jsx(CD,{})}),E.jsx(va,{primary:f("bar.donate")})]})})]})})]})}var UD=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Tr(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},KD=m.forwardRef(function(e,r){var n=e.absolute,i=n===void 0?!1:n,a=e.classes,s=e.className,u=e.component,c=u===void 0?"hr":u,h=e.flexItem,f=h===void 0?!1:h,g=e.light,p=g===void 0?!1:g,y=e.orientation,b=y===void 0?"horizontal":y,v=e.role,S=v===void 0?c!=="hr"?"separator":void 0:v,x=e.variant,k=x===void 0?"fullWidth":x,C=Qe(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return m.createElement(c,re({className:Le(a.root,s,k!=="fullWidth"&&a[k],i&&a.absolute,f&&a.flexItem,p&&a.light,b==="vertical"&&a.vertical),role:S,ref:r},C))});const GD=Rt(UD,{name:"MuiDivider"})(KD);function XD(t,e){var r=e.getBoundingClientRect(),n;if(e.fakeTransform)n=e.fakeTransform;else{var i=window.getComputedStyle(e);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,s=0;if(n&&n!=="none"&&typeof n=="string"){var u=n.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),s=parseInt(u[5],10)}return t==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):t==="right"?"translateX(-".concat(r.left+r.width-a,"px)"):t==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(s-r.top,"px)"):"translateY(-".concat(r.top+r.height-s,"px)")}function vf(t,e){var r=XD(t,e);r&&(e.style.webkitTransform=r,e.style.transform=r)}var YD={enter:Zi.enteringScreen,exit:Zi.leavingScreen},ZD=m.forwardRef(function(e,r){var n=e.children,i=e.direction,a=i===void 0?"down":i,s=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,f=e.onExit,g=e.onExited,p=e.onExiting,y=e.style,b=e.timeout,v=b===void 0?YD:b,S=e.TransitionComponent,x=S===void 0?Di:S,k=Qe(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=si(),R=m.useRef(null),_=m.useCallback(function(U){R.current=bi.findDOMNode(U)},[]),T=Fr(n.ref,_),O=Fr(T,r),D=function(G){return function(B){G&&(B===void 0?G(R.current):G(R.current,B))}},j=D(function(U,G){vf(a,U),E0(U),u&&u(U,G)}),F=D(function(U,G){var B=Vs({timeout:v,style:y},{mode:"enter"});U.style.webkitTransition=C.transitions.create("-webkit-transform",re({},B,{easing:C.transitions.easing.easeOut})),U.style.transition=C.transitions.create("transform",re({},B,{easing:C.transitions.easing.easeOut})),U.style.webkitTransform="none",U.style.transform="none",h&&h(U,G)}),M=D(c),z=D(p),I=D(function(U){var G=Vs({timeout:v,style:y},{mode:"exit"});U.style.webkitTransition=C.transitions.create("-webkit-transform",re({},G,{easing:C.transitions.easing.sharp})),U.style.transition=C.transitions.create("transform",re({},G,{easing:C.transitions.easing.sharp})),vf(a,U),f&&f(U)}),$=D(function(U){U.style.webkitTransition="",U.style.transition="",g&&g(U)}),K=m.useCallback(function(){R.current&&vf(a,R.current)},[a]);return m.useEffect(function(){if(!(s||a==="down"||a==="right")){var U=$o(function(){R.current&&vf(a,R.current)});return window.addEventListener("resize",U),function(){U.clear(),window.removeEventListener("resize",U)}}},[a,s]),m.useEffect(function(){s||K()},[s,K]),m.createElement(x,re({nodeRef:R,onEnter:j,onEntered:M,onEntering:F,onExit:I,onExited:$,onExiting:z,appear:!0,in:s,timeout:v},k),function(U,G){return m.cloneElement(n,re({ref:O,style:re({visibility:U==="exited"&&!s?"hidden":void 0},y,n.props.style)},G))})}),JD=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},BT={left:"right",right:"left",top:"down",bottom:"up"};function QD(t){return["left","right"].indexOf(t)!==-1}function e6(t,e){return t.direction==="rtl"&&QD(e)?BT[e]:e}var t6={enter:Zi.enteringScreen,exit:Zi.leavingScreen},r6=m.forwardRef(function(e,r){var n=e.anchor,i=n===void 0?"left":n,a=e.BackdropProps,s=e.children,u=e.classes,c=e.className,h=e.elevation,f=h===void 0?16:h,g=e.ModalProps;g=g===void 0?{}:g;var p=g.BackdropProps,y=Qe(g,["BackdropProps"]),b=e.onClose,v=e.open,S=v===void 0?!1:v,x=e.PaperProps,k=x===void 0?{}:x,C=e.SlideProps,R=e.TransitionComponent,_=R===void 0?ZD:R,T=e.transitionDuration,O=T===void 0?t6:T,D=e.variant,j=D===void 0?"temporary":D,F=Qe(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),M=si(),z=m.useRef(!1);m.useEffect(function(){z.current=!0},[]);var I=e6(M,i),$=m.createElement(oi,re({elevation:j==="temporary"?f:0,square:!0},k,{className:Le(u.paper,u["paperAnchor".concat(Yt(I))],k.className,j!=="temporary"&&u["paperAnchorDocked".concat(Yt(I))])}),s);if(j==="permanent")return m.createElement("div",re({className:Le(u.root,u.docked,c),ref:r},F),$);var K=m.createElement(_,re({in:S,direction:BT[I],timeout:O,appear:z.current},C),$);return j==="persistent"?m.createElement("div",re({className:Le(u.root,u.docked,c),ref:r},F),K):m.createElement(Ip,re({BackdropProps:re({},a,p,{transitionDuration:O}),BackdropComponent:pT,className:Le(u.root,u.modal,c),open:S,onClose:b,ref:r},F,y),K)});const n6=Rt(JD,{name:"MuiDrawer",flip:!1})(r6);var hu={},yC;function i6(){if(yC)return hu;yC=1;var t=Wt(),e=Qt();Object.defineProperty(hu,"__esModule",{value:!0}),hu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");return hu.default=i,hu}var a6=i6();const o6=zt(a6);function s6(t,e,r=(n,i)=>n===i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function l6(t,e){for(let r in t)if(!(r in e))return!1;for(let r in e)if(!(r in t))return!1;return!0}function Cc(t,e,r=!0){if(t<0)return Cc(0,e);t=Math.round(t);const n=t%1e3;t=(t-n)/1e3;const i=t%60;t=(t-i)/60;const a=t%60;if(e>=36e5){const s=(t-a)/60;return r?Ti(s)+":"+Ti(a)+":"+Ti(i)+"."+Ti(n,3):Ti(s)+":"+Ti(a)+":"+Ti(i)}return r?Ti(a)+":"+Ti(i)+"."+Ti(n,3):Ti(a)+":"+Ti(i)}function Ti(t,e=2){return String(t).padStart(e,"0")}var u6={root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},zT=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=Qe(e,["classes","className"]);return m.createElement("div",re({className:Le(n.root,i),ref:r},a))});zT.muiName="ListItemSecondaryAction";const c6=Rt(u6,{name:"MuiListItemSecondaryAction"})(zT);var gu={},bC;function d6(){if(bC)return gu;bC=1;var t=Wt(),e=Qt();Object.defineProperty(gu,"__esModule",{value:!0}),gu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");return gu.default=i,gu}var f6=d6();const jp=zt(f6);var mu={},xC;function p6(){if(xC)return mu;xC=1;var t=Wt(),e=Qt();Object.defineProperty(mu,"__esModule",{value:!0}),mu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");return mu.default=i,mu}var h6=p6();const D0=zt(h6);var vu={},wC;function g6(){if(wC)return vu;wC=1;var t=Wt(),e=Qt();Object.defineProperty(vu,"__esModule",{value:!0}),vu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"}),"NoteAdd");return vu.default=i,vu}var m6=g6();const B0=zt(m6),v6=dn(t=>({listContainer:{display:"flex",height:"100%",flexDirection:"column",overflowY:"auto",overflowX:"hidden"},list:{flexGrow:1},clearButton:{margin:t.spacing(2)},listItem:{"&:hover":{backgroundColor:t.palette.action.hover}},listItemGutters:{paddingLeft:5,paddingRight:5},listItemIconRoot:{minWidth:20},emptyState:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:"100%",padding:15},text:{flexGrow:1},emptyText:{flexGrow:1,color:t.palette.text.secondary},timestamp:{paddingRight:15,paddingLeft:15,color:t.palette.text.secondary}})),y6=t=>{const[e,r]=m.useState();return m.useEffect(()=>{const n=Oi.fromCard(t,0,0,!1);r(n?n.error===void 0:!1)},[t]),{isAudioAvailable:e}},b6=t=>{const[e,r]=m.useState();return m.useEffect(()=>{const n=qf.fromCard(t,0,0);r(n?n.error===void 0:!1)},[t]),{isImageAvailable:e}};function x6({open:t,anchorEl:e,forceShowDownloadOptions:r,onClose:n,onSelect:i,onClipAudio:a,onDownloadImage:s,onDelete:u,item:c}){const{t:h}=Mr(),f=m.useCallback(()=>{navigator.clipboard.writeText(c.subtitle.text),n()},[c,n]),g=m.useCallback(()=>{i!==void 0&&(i(c),n())},[c,i,n]),p=m.useCallback(()=>{a(c),n()},[c,a,n]),y=m.useCallback(()=>{s(c),n()},[c,s,n]),b=m.useCallback(()=>{u(c),n()},[c,u,n]),{isImageAvailable:v}=b6(c),{isAudioAvailable:S}=y6(c);return E.jsx(Ta,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:n,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},children:E.jsxs(ra,{children:[E.jsx(Qr,{button:!0,onClick:f,children:E.jsx(va,{primaryTypographyProps:{variant:"body2"},primary:h("action.copy")})}),i&&E.jsx(Qr,{button:!0,onClick:g,children:E.jsx(va,{primaryTypographyProps:{variant:"body2"},primary:h("action.jumpTo")})}),(S||r)&&E.jsx(Qr,{button:!0,onClick:p,children:E.jsx(va,{primaryTypographyProps:{variant:"body2"},primary:h("action.downloadAudio")})}),(v||r)&&E.jsx(Qr,{button:!0,onClick:y,children:E.jsx(va,{primaryTypographyProps:{variant:"body2"},primary:h("action.downloadImage")})}),E.jsx(Qr,{button:!0,onClick:b,children:E.jsx(va,{primaryTypographyProps:{variant:"body2"},primary:h("action.delete")})})]})})}function w6({open:t,items:e,forceShowDownloadOptions:r,onSelect:n,onClipAudio:i,onDownloadImage:a,onDelete:s,onDeleteAll:u,onDownloadSectionAsSrt:c,onAnki:h}){const f=v6(),g=m.useCallback(O=>{O&&O.scrollIntoView()},[]),[p,y]=m.useState(),[b,v]=m.useState(!1),[S,x]=m.useState(),{t:k}=Mr(),C=m.useCallback((O,D)=>{y(D),v(!0),x(O.currentTarget)},[]),R=m.useCallback(()=>{y(void 0),v(!1),x(void 0)},[]),_=m.useCallback(O=>{s(O)},[s]);let T;if(e.length>0){const O=[];let D=null,j=0;const F={};let M={},z;for(const I of e){if(D===null||D!==I.subtitleFileName){I.subtitleFileName in F?F[I.subtitleFileName]++:F[I.subtitleFileName]=0;const K=I.subtitleFileName+"-"+F[I.subtitleFileName];M[K]=[],D=I.subtitleFileName,z=K,O.push(E.jsxs(Qr,{children:[E.jsx(un,{color:"textSecondary",children:I.subtitleFileName}),c&&E.jsx(c6,{children:E.jsx(Er,{title:k("copyHistory.downloadMinedSubsAsSrt"),children:E.jsx(Bt,{onClick:()=>c==null?void 0:c(I.subtitleFileName,M[K]),edge:"end",children:E.jsx(DT,{})})})})]},K))}M[z].push(I);const $=j===e.length-1?g:null;O.push(E.jsxs(Qr,{ref:$,className:f.listItem,classes:{gutters:f.listItemGutters},children:[E.jsx(fc,{classes:{root:f.listItemIconRoot},children:E.jsx(Er,{title:k("copyHistory.exportToAnki"),children:E.jsx(Bt,{onClick:()=>h(I),children:E.jsx(B0,{fontSize:"small"})})})}),E.jsx(fc,{classes:{root:f.listItemIconRoot},children:E.jsx(Bt,{onClick:K=>C(K,I),children:E.jsx(D0,{fontSize:"small"})})}),E.jsx(va,{primary:E.jsxs(Mt,{wrap:"nowrap",container:!0,children:[E.jsx(Mt,{item:!0,className:I.subtitle.text===""?f.emptyText:f.text,children:I.subtitle.text===""?k("copyHistory.blank"):I.subtitle.text}),E.jsx(Mt,{item:!0,className:f.timestamp,children:Cc(I.subtitle.start,I.subtitle.start,!1)})]})})]},I.id)),++j}T=E.jsxs("div",{className:f.listContainer,children:[E.jsx(ra,{className:f.list,children:O}),E.jsx(Ya,{variant:"contained",color:"secondary",className:f.clearButton,startIcon:E.jsx(jp,{}),onClick:u,children:k("copyHistory.deleteAll")})]})}else T=E.jsx("div",{className:f.emptyState,children:E.jsx(un,{variant:"h6",children:k("copyHistory.miningHistoryEmpty")})});return E.jsxs(E.Fragment,{children:[T,p&&E.jsx(x6,{open:t&&b,forceShowDownloadOptions:r,anchorEl:S,item:p,onClose:R,onSelect:n,onClipAudio:i,onDownloadImage:a,onDelete:_})]})}const S6=dn(t=>({drawer:{width:({drawerWidth:e})=>e??"100%",flexShrink:0},drawerPaper:{width:({drawerWidth:e})=>e??"100%"},drawerHeader:{display:"flex",alignItems:"center",position:"static",padding:t.spacing(0,1),...t.mixins.toolbar,justifyContent:"flex-start"}}));function k6(t){const e=S6(t);return E.jsxs(n6,{variant:"persistent",anchor:"right",open:t.open,className:e.drawer,classes:{paper:e.drawerPaper},children:[E.jsx("div",{className:e.drawerHeader,children:E.jsx(Bt,{onClick:t.onClose,children:E.jsx(o6,{})})}),E.jsx(GD,{}),E.jsx(w6,{...t})]})}var C6=function(e){return{root:re({},e.typography.body1,fr({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:re({},e.typography.body2,{minHeight:"auto"})}},E6=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"li":a,u=e.disableGutters,c=u===void 0?!1:u,h=e.ListItemClasses,f=e.role,g=f===void 0?"menuitem":f,p=e.selected,y=e.tabIndex,b=Qe(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),v;return e.disabled||(v=y!==void 0?y:-1),m.createElement(Qr,re({button:!0,role:g,tabIndex:v,component:s,selected:p,disableGutters:c,classes:re({dense:n.dense},h),className:Le(n.root,i,p&&n.selected,!c&&n.gutters),ref:r},b))});const Ji=Rt(C6,{name:"MuiMenuItem"})(E6),vy=({videoElement:t})=>{const e=si();return E.jsx(E.Fragment,{children:t.faviconUrl&&E.jsx("img",{src:t.faviconUrl,style:{width:24,marginRight:e.spacing(1)}})})},_6=({videoElements:t,onVideoElementSelected:e})=>{const{t:r}=Mr(),[n,i]=m.useState();if(t.length===1){const a=t[0];return E.jsxs(Ya,{variant:"outlined",style:{width:"100%"},onClick:()=>e(a),children:[E.jsx(vy,{videoElement:a}),a.title]})}return E.jsx(tr,{select:!0,variant:"outlined",size:"small",color:"secondary",style:{width:"100%"},value:(n==null?void 0:n.src)??"",onChange:a=>{const s=t.find(u=>u.src===a.target.value);i(s),s&&e(s)},disabled:t.length===0,label:r("controls.selectVideoElement"),helperText:t.length===0?r("landing.noVideoElementsDetected"):void 0,children:t.map(a=>E.jsxs(Ji,{value:a.src,children:[E.jsx(vy,{videoElement:a}),a.title]},a.src))})},P6=zo(t=>({background:({appBarHidden:e,appBarHeight:r})=>({position:"absolute",height:e?"100vh":`calc(100vh - ${r}px)`,width:"100%",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:15,textAlign:"center"}),browseLink:{cursor:"pointer"},videoElementSelectorContainer:{position:"absolute",bottom:0,padding:t.spacing(2),width:"100%"}}));function T6({extension:t,latestExtensionVersion:e,extensionUrl:r,loading:n,dragging:i,appBarHidden:a,videoElements:s,onFileSelector:u,onVideoElementSelected:c}){const h=Mp(),f=P6({appBarHidden:a,appBarHeight:h}),g=t.version&&w2(e,t.version);return E.jsx(oi,{square:!0,variant:"elevation",elevation:0,className:f.background,children:E.jsx(Ws,{in:!n&&!i,timeout:500,children:E.jsxs(E.Fragment,{children:[E.jsxs(un,{variant:"h6",children:[E.jsxs(Ff,{i18nKey:"landing.cta",children:["Drag and drop subtitle and media files, or",E.jsx(Fs,{target:"#",className:f.browseLink,onClick:u,color:"secondary",component:"label",children:"browse"}),"."]}),E.jsx("br",{}),!t.installed&&E.jsxs(Ff,{i18nKey:"landing.extensionNotInstalled",children:["Install the",E.jsx(Fs,{color:"secondary",target:"_blank",rel:"noreferrer",href:r,children:"Chrome extension"}),"to sync subtitles with streaming video."]}),g&&E.jsxs(Ff,{i18nKey:"landing.extensionUpdateAvailable",children:["An extension",E.jsx(Fs,{color:"secondary",target:"_blank",rel:"noreferrer",href:r,children:"update"})," ","is available."]})]}),t.supportsLandingPageStreamingVideoElementSelector&&s.length>0&&E.jsx("div",{className:f.videoElementSelectorContainer,children:E.jsx(_6,{videoElements:s,onVideoElementSelected:c})})]})})})}const R6=class yy{constructor(e,r){this.low=e,this.high=r}clone(){return new yy(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low==e.low&&this.high<e.high}equal_to(e){return this.low==e.low&&this.high==e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new yy(this.low===void 0?e.low:Math.min(this.low,e.low),this.high===void 0?e.high:Math.max(this.high,e.high))}output(){return[this.low,this.high]}static comparable_max(e,r){return e.merge(r)}static comparable_less_than(e,r){return e<r}},Rn=0,Dr=1;let xs=class{constructor(e=void 0,r=void 0,n=null,i=null,a=null,s=Dr){this.left=n,this.right=i,this.parent=a,this.color=s,this.item={key:e,value:r},e&&e instanceof Array&&e.length==2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])&&(this.item.key=new R6(Math.min(e[0],e[1]),Math.max(e[0],e[1]))),this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===Dr}less_than(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.less_than(e.item.key);{let r=this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value;return this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&r}}equal_to(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.equal_to(e.item.key);{let r=this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value==e.item.value;return this.item.key.equal_to(e.item.key)&&r}}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key,this.item.value=e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const r=this.item.key.constructor.comparable_less_than;let n=this.left.max.high!==void 0?this.left.max.high:this.left.max;return r(n,e.item.key.low)}not_intersect_right_subtree(e){const r=this.item.key.constructor.comparable_less_than;let n=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return r(e.item.key.high,n)}};class rp{constructor(){this.root=null,this.nil_node=new xs}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,r=>e.push(r.item.key.output?r.item.key.output():r.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,r=>e.push(r.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,r=>e.push({key:r.item.key.output?r.item.key.output():r.item.key,value:r.item.value})),e}isEmpty(){return this.root==null||this.root==this.nil_node}clear(){this.root=null}insert(e,r=e){if(e===void 0)return;let n=new xs(e,r,this.nil_node,this.nil_node,null,Rn);return this.tree_insert(n),this.recalc_max(n),n}exist(e,r=e){let n=new xs(e,r);return!!this.tree_search(this.root,n)}remove(e,r=e){let n=new xs(e,r),i=this.tree_search(this.root,n);return i&&this.tree_delete(i),i}search(e,r=(n,i)=>n===i?i.output():n){let n=new xs(e),i=[];return this.tree_search_interval(this.root,n,i),i.map(a=>r(a.item.value,a.item.key))}intersect_any(e){let r=new xs(e);return this.tree_find_any_interval(this.root,r)}forEach(e){this.tree_walk(this.root,r=>e(r.item.key,r.item.value))}map(e){const r=new rp;return this.tree_walk(this.root,n=>r.insert(n.item.key,e(n.item.value,n.item.key))),r}recalc_max(e){let r=e;for(;r.parent!=null;)r.parent.update_max(),r=r.parent}tree_insert(e){let r=this.root,n=null;if(this.root==null||this.root==this.nil_node)this.root=e;else{for(;r!=this.nil_node;)n=r,e.less_than(r)?r=r.left:r=r.right;e.parent=n,e.less_than(n)?n.left=e:n.right=e}this.insert_fixup(e)}insert_fixup(e){let r,n;for(r=e;r!=this.root&&r.parent.color==Rn;)r.parent==r.parent.parent.left?(n=r.parent.parent.right,n.color==Rn?(r.parent.color=Dr,n.color=Dr,r.parent.parent.color=Rn,r=r.parent.parent):(r==r.parent.right&&(r=r.parent,this.rotate_left(r)),r.parent.color=Dr,r.parent.parent.color=Rn,this.rotate_right(r.parent.parent))):(n=r.parent.parent.left,n.color==Rn?(r.parent.color=Dr,n.color=Dr,r.parent.parent.color=Rn,r=r.parent.parent):(r==r.parent.left&&(r=r.parent,this.rotate_right(r)),r.parent.color=Dr,r.parent.parent.color=Rn,this.rotate_left(r.parent.parent)));this.root.color=Dr}tree_delete(e){let r,n;e.left==this.nil_node||e.right==this.nil_node?r=e:r=this.tree_successor(e),r.left!=this.nil_node?n=r.left:n=r.right,n.parent=r.parent,r==this.root?this.root=n:(r==r.parent.left?r.parent.left=n:r.parent.right=n,r.parent.update_max()),this.recalc_max(n),r!=e&&(e.copy_data(r),e.update_max(),this.recalc_max(e)),r.color==Dr&&this.delete_fixup(n)}delete_fixup(e){let r=e,n;for(;r!=this.root&&r.parent!=null&&r.color==Dr;)r==r.parent.left?(n=r.parent.right,n.color==Rn&&(n.color=Dr,r.parent.color=Rn,this.rotate_left(r.parent),n=r.parent.right),n.left.color==Dr&&n.right.color==Dr?(n.color=Rn,r=r.parent):(n.right.color==Dr&&(n.color=Rn,n.left.color=Dr,this.rotate_right(n),n=r.parent.right),n.color=r.parent.color,r.parent.color=Dr,n.right.color=Dr,this.rotate_left(r.parent),r=this.root)):(n=r.parent.left,n.color==Rn&&(n.color=Dr,r.parent.color=Rn,this.rotate_right(r.parent),n=r.parent.left),n.left.color==Dr&&n.right.color==Dr?(n.color=Rn,r=r.parent):(n.left.color==Dr&&(n.color=Rn,n.right.color=Dr,this.rotate_left(n),n=r.parent.left),n.color=r.parent.color,r.parent.color=Dr,n.left.color=Dr,this.rotate_right(r.parent),r=this.root));r.color=Dr}tree_search(e,r){if(!(e==null||e==this.nil_node))return r.equal_to(e)?e:r.less_than(e)?this.tree_search(e.left,r):this.tree_search(e.right,r)}tree_search_interval(e,r,n){e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(r)&&this.tree_search_interval(e.left,r,n),e.intersect(r)&&n.push(e),e.right!=this.nil_node&&!e.not_intersect_right_subtree(r)&&this.tree_search_interval(e.right,r,n))}tree_find_any_interval(e,r){let n=!1;return e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(r)&&(n=this.tree_find_any_interval(e.left,r)),n||(n=e.intersect(r)),!n&&e.right!=this.nil_node&&!e.not_intersect_right_subtree(r)&&(n=this.tree_find_any_interval(e.right,r))),n}local_minimum(e){let r=e;for(;r.left!=null&&r.left!=this.nil_node;)r=r.left;return r}local_maximum(e){let r=e;for(;r.right!=null&&r.right!=this.nil_node;)r=r.right;return r}tree_successor(e){let r,n,i;if(e.right!=this.nil_node)r=this.local_minimum(e.right);else{for(n=e,i=e.parent;i!=null&&i.right==n;)n=i,i=i.parent;r=i}return r}rotate_left(e){let r=e.right;e.right=r.left,r.left!=this.nil_node&&(r.left.parent=e),r.parent=e.parent,e==this.root?this.root=r:e==e.parent.left?e.parent.left=r:e.parent.right=r,r.left=e,e.parent=r,e!=null&&e!=this.nil_node&&e.update_max(),r=e.parent,r!=null&&r!=this.nil_node&&r.update_max()}rotate_right(e){let r=e.left;e.left=r.right,r.right!=this.nil_node&&(r.right.parent=e),r.parent=e.parent,e==this.root?this.root=r:e==e.parent.left?e.parent.left=r:e.parent.right=r,r.right=e,e.parent=r,e!=null&&e!=this.nil_node&&e.update_max(),r=e.parent,r!=null&&r!=this.nil_node&&r.update_max()}tree_walk(e,r){e!=null&&e!=this.nil_node&&(this.tree_walk(e.left,r),r(e),this.tree_walk(e.right,r))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(r){r.color==Rn&&(r.left.color==Dr&&r.right.color==Dr||(e=!1))}),e}testBlackHeightProperty(e){let r=0,n=0,i=0;if(e.color==Dr&&r++,e.left!=this.nil_node?n=this.testBlackHeightProperty(e.left):n=1,e.right!=this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,n!=i)throw new Error("Red-black height property violated");return r+=n,r}}const bc=class bc{constructor(e,r={}){if(this.tree=new rp,this.options=r,r.returnLastShown||r.returnNextToShow){let n;this.gapsTree=new rp,e.length>0&&e[0].start>0&&this.gapsTree.insert([0,e[0].start-1],e[0]);for(const i of e)i.start<i.end&&this.tree.insert([i.start,i.end-1],i),n!==void 0&&n.end<i.start&&this.gapsTree.insert([n.end,i.start-1],n),n=i}else for(const n of e)this.tree.insert([n.start,n.end-1],n)}static empty(){return bc.emptySubtitleCollection}subtitlesAt(e){const r=[e,e],n=this.tree.search(r);let i,a,s,u;if(n.length===0){if(this.gapsTree!==void 0){const c=[];if(i=this.gapsTree.search(r,(h,f)=>(c.push(f),h)),i.length>0&&this.options.returnNextToShow){const h=c[0].high+1;a=this.tree.search([h,h])}}}else if(this.options.showingCheckRadiusMs!==void 0){for(const c of n)if(u===void 0&&c.end<=e+this.options.showingCheckRadiusMs&&(u=c),s===void 0&&e-this.options.showingCheckRadiusMs<c.start&&(s=c),s!==void 0&&u!==void 0)break}return{showing:n,lastShown:i,nextToShow:a,startedShowing:s,willStopShowing:u}}};bc.emptySubtitleCollection=new bc([]);let Ks=bc;class O6{constructor(e){this.channel=new BroadcastChannel(e);const r=this;this.channel.onmessage=n=>{var i;(i=r.onMessage)==null||i.call(r,n)}}postMessage(e){var r;(r=this.channel)==null||r.postMessage(e)}close(){var e;(e=this.channel)==null||e.close(),this.channel=void 0}}class A6{constructor(e,r,n){this.tabId=e,this.src=r,this.listener=i=>{var a;i.tabId===e&&i.src===r&&((a=this.onMessage)==null||a.call(this,{data:i.data}))},this.unsubscribeFromExtension=n.subscribe(this.listener),this.extension=n}postMessage(e){this.extension.sendMessageToVideoElement(e,this.tabId,this.src)}close(){this.unsubscribeFromExtension()}}class VT{constructor(){this._rate=1,this._callbacks={stop:[],start:[],settime:[]},this._accumulated=0,this._started=!1}get running(){return this._started}get rate(){return this._rate}set rate(e){this._started&&(this._accumulated+=this._elapsed(),this._startTime=Date.now()),this._rate=e}time(e){return this._started?Math.min(e,this._accumulated+this._elapsed()):Math.min(e,this._accumulated)}stop(){if(!this._started){this._fireEvent("stop");return}this._started=!1,this._accumulated+=this._elapsed(),this._fireEvent("stop")}_elapsed(){return(Date.now()-this._startTime)*this._rate}start(){this._startTime=Date.now(),this._started=!0,this._fireEvent("start")}setTime(e){this._started?(this._startTime=Date.now(),this._accumulated=e):this._accumulated=e,this._fireEvent("settime")}progress(e){return e===0?0:Math.min(1,this.time(e)/e)}onEvent(e,r){return this._callbacks[e].push(r),()=>this._remove(r,this._callbacks[e])}_fireEvent(e){for(const r of this._callbacks[e])r()}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}var yu={},SC;function I6(){if(SC)return yu;SC=1;var t=Wt(),e=Qt();Object.defineProperty(yu,"__esModule",{value:!0}),yu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");return yu.default=i,yu}var N6=I6();const F6=zt(N6);var bu={},kC;function M6(){if(kC)return bu;kC=1;var t=Wt(),e=Qt();Object.defineProperty(bu,"__esModule",{value:!0}),bu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");return bu.default=i,bu}var j6=M6();const $6=zt(j6);var xu={},CC;function L6(){if(CC)return xu;CC=1;var t=Wt(),e=Qt();Object.defineProperty(xu,"__esModule",{value:!0}),xu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");return xu.default=i,xu}var D6=L6();const B6=zt(D6);var wu={},EC;function z6(){if(EC)return wu;EC=1;var t=Wt(),e=Qt();Object.defineProperty(wu,"__esModule",{value:!0}),wu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");return wu.default=i,wu}var V6=z6();const W6=zt(V6);var Su={},_C;function q6(){if(_C)return Su;_C=1;var t=Wt(),e=Qt();Object.defineProperty(Su,"__esModule",{value:!0}),Su.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");return Su.default=i,Su}var H6=q6();const U6=zt(H6);var ku={},PC;function K6(){if(PC)return ku;PC=1;var t=Wt(),e=Qt();Object.defineProperty(ku,"__esModule",{value:!0}),ku.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"}),"AspectRatio");return ku.default=i,ku}var G6=K6();const X6=zt(G6);var Cu={},TC;function Y6(){if(TC)return Cu;TC=1;var t=Wt(),e=Qt();Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExit");return Cu.default=i,Cu}var Z6=Y6();const J6=zt(Z6);var Eu={},RC;function Q6(){if(RC)return Eu;RC=1;var t=Wt(),e=Qt();Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"}),"QueueMusic");return Eu.default=i,Eu}var eB=Q6();const tB=zt(eB);var _u={},OC;function rB(){if(OC)return _u;OC=1;var t=Wt(),e=Qt();Object.defineProperty(_u,"__esModule",{value:!0}),_u.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");return _u.default=i,_u}var nB=rB();const WT=zt(nB);var Pu={},AC;function iB(){if(AC)return Pu;AC=1;var t=Wt(),e=Qt();Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"}),"Subtitles");return Pu.default=i,Pu}var aB=iB();const qT=zt(aB);var Tu={},IC;function oB(){if(IC)return Tu;IC=1;var t=Wt(),e=Qt();Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}),"VerticalAlignTop");return Tu.default=i,Tu}var sB=oB();const lB=zt(sB);var Ru={},NC;function uB(){if(NC)return Ru;NC=1;var t=Wt(),e=Qt();Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z"}),"VerticalAlignBottom");return Ru.default=i,Ru}var cB=uB();const dB=zt(cB);var Ou={},FC;function fB(){if(FC)return Ou;FC=1;var t=Wt(),e=Qt();Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");return Ou.default=i,Ou}var pB=fB();const MC=zt(pB);var Au={},jC;function hB(){if(jC)return Au;jC=1;var t=Wt(),e=Qt();Object.defineProperty(Au,"__esModule",{value:!0}),Au.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}),"VolumeOff");return Au.default=i,Au}var gB=hB();const mB=zt(gB);var Iu={},$C;function vB(){if($C)return Iu;$C=1;var t=Wt(),e=Qt();Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");return Iu.default=i,Iu}var yB=vB();const bB=zt(yB);function z0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Pa(),n=wp({theme:r,name:"MuiUseMediaQuery",props:{}}),i=typeof t=="function"?t(r):t;i=i.replace(/^@media( ?)/m,"");var a=typeof window<"u"&&typeof window.matchMedia<"u",s=re({},n,e),u=s.defaultMatches,c=u===void 0?!1:u,h=s.matchMedia,f=h===void 0?a?window.matchMedia:null:h,g=s.noSsr,p=g===void 0?!1:g,y=s.ssrMatchMedia,b=y===void 0?null:y,v=m.useState(function(){return p&&a?f(i).matches:b?b(i).matches:c}),S=v[0],x=v[1];return m.useEffect(function(){var k=!0;if(a){var C=f(i),R=function(){k&&x(C.matches)};return R(),C.addListener(R),function(){k=!1,C.removeListener(R)}}},[i,f,a]),S}const xB=ao({input:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",fontSize:20,width:100,color:"#fff",pointerEvents:"auto"}}),HT=nr.forwardRef(function({inputRef:e,numberValue:r,defaultNumberValue:n,onNumberValue:i,valueToPrettyString:a,stringToValue:s,rejectValue:u,disableKeyEvents:c,className:h,...f},g){const p=xB(),[y,b]=m.useState(5),v=m.useCallback(R=>{var T;const _=R.target;_.setSelectionRange(0,((T=_.value)==null?void 0:T.length)||0)},[]),S=m.useCallback((R,_)=>{if(e.current){if(R===n)e.current.value="",b(5);else{_&&i(R);const T=a(R);e.current.value=T,b(T.length)}e.current.blur()}},[e,a,i,n]),x=m.useCallback(R=>{if(!e.current)return;const _=s(e.current.value);if(_===r){S(r,!0);return}if(Number.isNaN(_)||u!=null&&u(_)){R&&S(r,!0);return}i(_)},[S,s,i,u,r,e]),k=m.useCallback(()=>{x(!0)},[x]);m.useEffect(()=>{S(r,!1)},[r,S]),m.useEffect(()=>{if(c)return;function R(_){_.key==="Enter"&&e.current!==null&&e.current===document.activeElement&&x(!1)}return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}},[x,c,e]);const C=h?`${h} ${p.input}`:p.input;return E.jsx(Ap,{style:{width:`${y}ch`},ref:g,inputRef:e,disableUnderline:!0,className:C,onClick:v,onBlur:k,onChange:R=>b(Math.max(5,R.target.value.length)),...f})}),wB=t=>{const e=t/1e3;return e>=0?"+"+e.toFixed(2):String(e.toFixed(2))},SB=t=>Number(t)*1e3,kB="±"+0 .toFixed(2),UT=nr.forwardRef(function({inputRef:e,offset:r,onOffset:n,...i},a){return E.jsx(HT,{ref:a,inputRef:e,defaultNumberValue:0,valueToPrettyString:wB,stringToValue:SB,numberValue:r,onNumberValue:n,placeholder:kB,...i})}),CB=t=>"×"+String(t.toFixed(2)),EB=t=>Number(t),_B=t=>t<.1||t>5,PB="×"+1 .toFixed(2),KT=nr.forwardRef(function({inputRef:e,playbackRate:r,onPlaybackRate:n,...i},a){return E.jsx(HT,{ref:a,inputRef:e,defaultNumberValue:1,valueToPrettyString:CB,stringToValue:EB,numberValue:r,onNumberValue:n,rejectValue:_B,placeholder:PB,...i})});function GT({listStyle:t,selectedPlayMode:e,onPlayMode:r,open:n,anchorEl:i,onClose:a,...s}){const{t:u}=Mr();return E.jsx(Ta,{disableEnforceFocus:!0,open:n,anchorEl:i,onClose:a,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},...s,children:E.jsxs(ra,{style:t,children:[E.jsx(Qr,{dense:!0,selected:e===sr.normal,button:!0,onClick:c=>r(sr.normal),children:u("controls.normalMode")}),E.jsx(Qr,{dense:!0,selected:e===sr.condensed,button:!0,onClick:c=>r(sr.condensed),children:u("controls.condensedMode")}),E.jsx(Qr,{dense:!0,selected:e===sr.fastForward,button:!0,onClick:c=>r(sr.fastForward),children:u("controls.fastForwardMode")}),E.jsx(Qr,{dense:!0,selected:e===sr.autoPause,button:!0,onClick:c=>r(sr.autoPause),children:u("controls.autoPauseMode")}),E.jsx(Qr,{dense:!0,selected:e===sr.repeat,button:!0,onClick:c=>r(sr.repeat),children:u("controls.repeatMode")})]})})}function Cv(t){const e=Math.floor(t/1e3),r=Math.floor(e/60),n=e%60;return String(r)+":"+String(n).padStart(2,"0")}const TB=dn({timeDisplay:{color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",cursor:"default",fontSize:20,whiteSpace:"nowrap"}}),XT=({currentMilliseconds:t,totalMilliseconds:e,className:r,...n})=>{const i=TB(),a=r?`${r} ${i.timeDisplay}`:i.timeDisplay,s=e===void 0?Cv(t):`${Cv(t)} / ${Cv(e)}`;return E.jsx("div",{className:a,...n,children:`

${s}

`})},RB=dn(t=>({container:{position:"absolute",left:"50%",width:"50%",bottom:0,pointerEvents:"none",color:"#fff"},buttonContainer:{flexDirection:"row"},numberInput:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",fontSize:20,marginLeft:10,width:100,color:"#fff",pointerEvents:"auto"},volumeInputContainerShown:{transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),marginRight:5,pointerEvents:"auto"},volumeInputContainerHidden:{transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),marginRight:0,pointerEvents:"auto"},volumeInputHidden:{transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),width:0,pointerEvents:"auto"},volumeInputShown:{transition:t.transitions.create("width",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.short}),width:100,pointerEvents:"auto"},volumeInputThumbHidden:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),opacity:0,pointerEvents:"auto"},volumeInputThumbShown:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.short}),opacity:1,pointerEvents:"auto"},subContainer:{background:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .4) 40%, rgba(0, 0, 0, 0.7))",position:"relative",left:"-100%",width:"200%",zIndex:10},button:{pointerEvents:"auto"},inactiveButton:{color:"rgba(120, 120, 120, 0.7)",pointerEvents:"auto"},inactiveTopButton:{color:"rgba(255, 255, 255, 0.5)",pointerEvents:"auto"},progress:{margin:5},topButton:{pointerEvents:"auto",color:"#fff"},gridContainer:{pointerEvents:"auto",padding:2}})),OB=dn(t=>({root:{height:10},container:{height:10,pointerEvents:"auto",display:"flex",justifyContent:"center",flexDirection:"column",position:"absolute",width:"calc(100% - 20px)",marginLeft:10},mouseEventListener:{zIndex:1,height:10,cursor:"pointer",pointerEvents:"auto",position:"absolute",width:"100%"},fillContainer:{background:"rgba(30,30,30,0.7)",width:"100%",height:5,position:"relative"},fillContainerThick:{transition:t.transitions.create("height",{easing:t.transitions.easing.easeInOut,duration:50}),height:8},fill:{background:"linear-gradient(to left, #ff1f62, #49007a)",height:"100%"},handleContainer:{position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",bottom:0},handle:{borderRadius:"50%",width:16,height:16,opacity:0,left:-8,background:"white",position:"absolute"},handleOn:{opacity:1,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shortest})}})),AB=Rt(t=>({root:{color:"white",verticalAlign:"middle"},thumb:{backgroundColor:"white",color:"white","&:focus":{boxShadow:"inherit"},"&:hover, &$active":{boxShadow:"0px 0px 0px 8px rgba(255, 255, 255, 0.1)"}},active:{color:"white"}}))(Np);function IB(t){const e=t.getBoundingClientRect();return e.right-e.left}function NB({onSeek:t,value:e}){const r=OB(),[n,i]=m.useState(!1),a=m.useRef(null),s=m.useCallback(b=>{const v=b.currentTarget.getBoundingClientRect(),S=v.right-v.left-20,x=Math.min(1,Math.max(0,(b.pageX-v.left-10)/S));t(x)},[t]),u=m.useCallback(()=>i(!0),[]),c=m.useCallback(()=>i(!1),[]),h=Number.isFinite(e)&&a.current?IB(a.current)*e/100:0,f={width:h},g={marginLeft:h},p=n?r.fillContainer+" "+r.fillContainerThick:r.fillContainer,y=n?r.handle+" "+r.handleOn:r.handle;return E.jsxs("div",{className:r.root,children:[E.jsx("div",{ref:a,className:r.container,children:E.jsxs("div",{className:p,children:[E.jsx("div",{className:r.fill,style:f}),E.jsx("div",{className:r.handleContainer,children:E.jsx("div",{className:y,style:g})})]})}),E.jsx("div",{className:r.mouseEventListener,onClick:s,onMouseOver:u,onMouseOut:c})]})}function FB({open:t,anchorEl:e,audioTracks:r,selectedAudioTrack:n,onAudioTrackSelected:i,onClose:a}){if(!r||r.length===0)return null;const s=r.map(u=>E.jsxs(Qr,{selected:u.id===n,button:!0,onClick:()=>i(u.id),children:[u.language," ",u.label]},u.id));return E.jsx("div",{children:E.jsx(Ta,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:a,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:E.jsx(ra,{children:s})})})}function MB({open:t,anchorEl:e,onClose:r,tabs:n,selectedTab:i,onTabSelected:a}){if(!n||n.length===0)return null;const s=n.map(u=>E.jsxs(Qr,{selected:i&&u.id===i.id&&u.src===i.src,button:!0,onClick:()=>a(u),children:[E.jsx(vy,{videoElement:u})," ",u.title]},`${u.id}:${u.src}`));return E.jsx("div",{children:E.jsx(Ta,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:E.jsx(ra,{children:s})})})}function jB({open:t,anchorEl:e,onUnload:r,onClose:n,file:i}){return E.jsx("div",{children:E.jsx(Ta,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:E.jsx(ra,{children:E.jsxs(Qr,{button:!0,onClick:a=>r(),children:["Unload ",i]})})})})}const $B=({children:t})=>{const e=si(),r=z0(e.breakpoints.down(600)),[n,i]=nr.useState(),a=()=>{i(void 0)},s=h=>{i(h.currentTarget)},u=n!==void 0&&document.body.contains(n),c=t.filter(h=>h!==void 0&&h!==!1);return r&&c.length>1?E.jsxs(E.Fragment,{children:[E.jsx(Mt,{item:!0,children:E.jsx(Bt,{color:"inherit",onClick:s,children:E.jsx(D0,{})})}),E.jsx(oT,{anchorEl:u?n:void 0,open:u,onClose:a,children:c.map((h,f)=>E.jsx(Ji,{children:h},f))})]}):E.jsx(E.Fragment,{children:t.map((h,f)=>E.jsx(Mt,{item:!0,children:h},f))})};function YT({clock:t,length:e,offsetEnabled:r,displayLength:n,offset:i,playbackRate:a,playbackRateEnabled:s,onAudioTrackSelected:u,onSeek:c,mousePositionRef:h,onShow:f,onPause:g,onPlay:p,onTabSelected:y,onUnloadVideo:b,onOffsetChange:v,onPlaybackRateChange:S,onVolumeChange:x,disableKeyEvents:k,playbackPreferences:C,closeEnabled:R,onClose:_,volumeEnabled:T,playMode:O,playModeEnabled:D,onPlayMode:j,subtitlesEnabled:F,subtitlesToggle:M,onSubtitlesToggle:z,videoFile:I,audioTracks:$,selectedAudioTrack:K,tabs:U,selectedTab:G,popOutEnabled:B,popOut:H,onPopOutToggle:N,fullscreenEnabled:L,fullscreen:W,onFullscreenToggle:X,hideSubtitlePlayerToggleEnabled:Y,subtitlePlayerHidden:ce,onHideSubtitlePlayerToggle:ee,showOnMouseMovement:fe,theaterModeToggleEnabled:le,theaterModeEnabled:de,onTheaterModeToggle:pe,subtitleAlignment:he,subtitleAlignmentEnabled:ke,onSubtitleAlignment:Re,hideToolbar:_e,onLoadFiles:et}){const Me=RB(),{t:De}=Mr(),[gt,Ge]=m.useState(!0),[yt,ht]=m.useState(!1),[Oe,Ie]=m.useState(),[We,mt]=m.useState(!1),[Be,tt]=m.useState(),[Pe,Q]=m.useState(!1),[Et,Tt]=m.useState(),[st,Z]=m.useState(!1),[ie,rt]=m.useState(),[se,te]=m.useState(!1),[me,be]=m.useState(100),[xe,ze]=m.useState(100),ot=si(),Ue=z0(ot.breakpoints.down(380)),ct=m.useRef(void 0),_t=m.useRef(Date.now()),Vt=m.useRef(Date.now()),He=m.useRef(!0),Zt=m.useRef(!1),gr=m.useRef(),Xe=m.useRef(),Ce=m.useRef(null),Ot=m.useRef(null),[,jt]=m.useState(),Ze=m.useCallback(()=>jt({}),[]),wt=m.useCallback(Pt=>{c(Pt)},[c]);function Nt(){Zt.current=!0}function lr(){Zt.current=!1}m.useEffect(()=>{const Pt=Number(C.volume);be(Pt),x==null||x(Pt/100),Pt>0&&ze(Pt)},[C,x]);const[pr,wr]=m.useState(t.running);m.useEffect(()=>{t.onEvent("start",()=>wr(!0)),wr(t.running)},[t]),m.useEffect(()=>{t.onEvent("stop",()=>wr(!1)),wr(t.running)},[t]),m.useEffect(()=>{const Pt=setInterval(()=>{var Sn,pt;let dr;fe?dr=Date.now()-_t.current<2e3||h.current!==void 0&&ct.current!==void 0&&Math.pow(h.current.x-ct.current.x,2)+Math.pow(h.current.y-ct.current.y,2)>100:dr=h.current!==void 0&&(Ce.current!==null&&h.current.y>Ce.current.offsetTop-20||Ot.current!==null&&h.current.y<Ot.current.offsetHeight+20),dr=dr||Zt.current||gr.current===document.activeElement||Xe.current===document.activeElement||!pr&&ii.isMobile||Date.now()-Vt.current<2e3,dr&&!He.current?(_t.current=Date.now(),Ge(dr)):!dr&&He.current&&Ge(dr),He.current=dr,ct.current={x:((Sn=h.current)==null?void 0:Sn.x)??0,y:((pt=h.current)==null?void 0:pt.y)??0}},100);return()=>clearInterval(Pt)},[h,fe,pr]),m.useEffect(()=>f==null?void 0:f(gt),[f,gt]);const Br=m.useCallback(Pt=>{Vt.current=Date.now(),v(Pt)},[v]),_r=m.useCallback(Pt=>{Vt.current=Date.now(),S(Pt)},[S]);m.useEffect(()=>{t.onEvent("settime",()=>Ze())},[t,Ze]),m.useEffect(()=>{if(!gt||!pr)return;const Pt=setInterval(()=>Ze(),100);return()=>clearInterval(Pt)},[gt,pr,Ze]);const yr=m.useCallback(()=>{Ie(void 0),ht(!1)},[]),br=m.useCallback(Pt=>{Ie(Pt.currentTarget),ht(!0)},[]),mr=m.useCallback(Pt=>{u(Pt),Ie(void 0),ht(!1)},[u]),Rr=m.useCallback(()=>{tt(void 0),mt(!1)},[]),Pr=m.useCallback(Pt=>{tt(Pt.currentTarget),mt(!0)},[]),vr=m.useCallback(Pt=>{y==null||y(Pt),tt(void 0),mt(!1)},[y]),jr=m.useCallback(()=>{Tt(void 0),Q(!1)},[]),Hr=m.useCallback(Pt=>{Tt(Pt.currentTarget),Q(!0)},[]),$r=m.useCallback(()=>{b==null||b(),Q(!1)},[b]),ur=m.useCallback(()=>{rt(void 0),Z(!1)},[]),Sr=m.useCallback(Pt=>{rt(Pt.currentTarget),Z(!0)},[]),Lr=m.useCallback(Pt=>{j==null||j(Pt),rt(void 0),Z(!1)},[j]),Te=m.useCallback(()=>te(!1),[]),ft=m.useCallback(()=>te(!0),[]),ve=m.useCallback((Pt,dr)=>{typeof dr=="number"&&(be(dr),x==null||x(dr/100))},[x]),kt=m.useCallback((Pt,dr)=>{typeof dr=="number"&&(dr>0&&ze(dr),C.volume=dr)},[C]),lt=m.useCallback(()=>{be(Pt=>{const dr=Pt>0?0:xe;return x==null||x(dr/100),dr})},[x,xe]),Kt=m.useCallback(()=>{if(!ke||he===void 0||Re===void 0)return;Re(he==="top"?"bottom":"top")},[he,ke,Re]),Jt=t.progress(e);return E.jsxs(nr.Fragment,{children:[E.jsx(Ws,{in:gt,timeout:200,children:E.jsxs(Mt,{container:!0,style:{position:"absolute",top:0},children:[E.jsx(Mt,{item:!0,children:R&&E.jsx(Er,{title:De("controls.unloadVideo"),children:E.jsx(Bt,{ref:Ot,color:"inherit",className:Me.topButton,onClick:_,onMouseOver:Nt,onMouseOut:lr,children:E.jsx(A0,{})})})}),et&&E.jsx(Mt,{item:!0,children:E.jsx(Bt,{color:"inherit",className:Me.topButton,onClick:et,onMouseOver:Nt,onMouseOut:lr,children:E.jsx(B6,{})})}),E.jsx(Mt,{item:!0,style:{flexGrow:1}}),E.jsxs(Mt,{item:!0,children:[le&&E.jsx(Er,{title:De("controls.toggleTheaterMode"),children:E.jsx(Bt,{color:"inherit",className:de?Me.topButton:Me.inactiveTopButton,onClick:pe,onMouseOver:Nt,onMouseOut:lr,children:E.jsx(X6,{})})}),L&&E.jsx(Er,{title:De("controls.toggleFullscreen"),children:E.jsx(Bt,{color:"inherit",onClick:X,children:W?E.jsx(J6,{className:Me.button}):E.jsx(U6,{className:Me.button})})}),Y&&E.jsx(Er,{title:De(ce?"controls.showSubtitlePlayer":"controls.hideSubtitlePlayer"),children:E.jsx(Bt,{color:"inherit",className:Me.topButton,onClick:ee,onMouseOver:Nt,onMouseOut:lr,children:ce?E.jsx(F6,{}):E.jsx($6,{})})})]})]})}),E.jsxs("div",{ref:Ce,className:Me.container,onMouseOver:Nt,onMouseOut:lr,children:[E.jsx(Ws,{in:gt,timeout:200,children:E.jsxs("div",{className:Me.subContainer,children:[E.jsx(NB,{onSeek:wt,value:Jt*100}),!_e&&E.jsxs(Mt,{container:!0,className:Me.gridContainer,direction:"row",wrap:"nowrap",children:[E.jsx(Mt,{item:!0,children:E.jsx(Bt,{color:"inherit",onClick:()=>pr?g():p(),children:pr?E.jsx(jT,{className:Me.button}):E.jsx(MT,{className:Me.button})})}),T&&E.jsx(Mt,{item:!0,onMouseOver:ft,onMouseOut:Te,className:se?Me.volumeInputContainerShown:Me.volumeInputContainerHidden,children:E.jsxs(Mt,{container:!0,spacing:0,direction:"row",wrap:"nowrap",children:[E.jsx(Mt,{item:!0,children:E.jsx(Bt,{color:"inherit",onClick:lt,children:me===0?E.jsx(mB,{}):E.jsx(bB,{})})}),E.jsx(Mt,{item:!0,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:E.jsx(AB,{onChange:ve,onChangeCommitted:kt,value:me,defaultValue:100,classes:{root:se?Me.volumeInputShown:Me.volumeInputHidden,thumb:se?Me.volumeInputThumbShown:Me.volumeInputThumbHidden}})})]})}),Number.isFinite(e)&&E.jsx(Mt,{item:!0,style:{marginLeft:10},children:E.jsx(XT,{currentMilliseconds:Jt*e,totalMilliseconds:n||e})}),r&&!se&&!Ue&&E.jsx(Er,{title:De("controls.subtitleOffset"),children:E.jsx(Mt,{item:!0,style:{marginLeft:10},children:E.jsx(UT,{inputRef:gr,offset:i,onOffset:Br,disableKeyEvents:k})})}),s&&!se&&!Ue&&E.jsx(Mt,{item:!0,style:{marginLeft:10},children:E.jsx(Er,{title:De("controls.playbackRate"),children:E.jsx(KT,{inputRef:Xe,playbackRate:a,onPlaybackRate:_r})})}),E.jsx(Mt,{item:!0,style:{flexGrow:1}}),E.jsxs($B,{children:[ke&&he!==void 0&&E.jsx(Er,{title:De("controls.subtitleAlignment"),children:E.jsx(Bt,{color:"inherit",onClick:Kt,children:he==="top"?E.jsx(lB,{}):E.jsx(dB,{})})}),M&&E.jsx(Er,{title:De("controls.toggleSubtitles"),children:E.jsx(Bt,{color:"inherit",onClick:z,children:E.jsx(qT,{className:F?Me.button:Me.inactiveButton})})}),I&&E.jsx(Er,{title:De("controls.unloadVideo"),children:E.jsx(Bt,{color:"inherit",onClick:Hr,children:E.jsx(MC,{className:Me.button})})}),$&&$.length>1&&E.jsx(Er,{title:De("controls.selectAudioTrack"),children:E.jsx(Bt,{color:"inherit",onClick:br,children:E.jsx(tB,{className:Me.button})})}),U&&U.length>0&&E.jsx(Er,{title:De("controls.selectVideoElement"),children:E.jsx(Bt,{color:"inherit",onClick:Pr,children:E.jsx(MC,{className:G?Me.button:Me.inactiveButton})})}),D&&E.jsx(Er,{title:De("controls.playbackMode"),children:E.jsx(Bt,{color:"inherit",onClick:Sr,children:E.jsx(WT,{className:D?Me.button:Me.inactiveButton})})}),B&&E.jsx(Er,{title:De(H?"controls.popIn":"controls.popOut"),children:E.jsx(Bt,{color:"inherit",onClick:N,children:E.jsx(W6,{className:Me.button,style:H?{transform:"rotateX(180deg)"}:{}})})})]})]})]})}),E.jsx(MB,{open:We&&gt,anchorEl:Be,tabs:U,selectedTab:G,onClose:Rr,onTabSelected:vr}),E.jsx(FB,{open:yt&&gt,anchorEl:Oe,audioTracks:$,selectedAudioTrack:K,onClose:yr,onAudioTrackSelected:mr}),E.jsx(jB,{open:Pe,anchorEl:Et,file:I,onClose:jr,onUnload:$r}),E.jsx(GT,{open:st&&gt,anchorEl:ie,selectedPlayMode:O,onClose:ur,onPlayMode:Lr})]})]})}class LC{constructor(e){this.ref=e,this.readyResolves=[]}async seek(e){return new Promise((r,n)=>{this.ref.current?(this.ref.current.currentTime=e,this._onMediaCanPlay(()=>r(void 0))):r(void 0)})}async onReady(){return new Promise((e,r)=>{this.ref.current?this._onMediaCanPlay(()=>e(void 0)):e(void 0)})}_onMediaCanPlay(e){var r;if(((r=this.ref.current)==null?void 0:r.readyState)===4){e();return}this.ref.current&&!this.ref.current.oncanplay&&(this.ref.current.oncanplay=n=>{for(const i of this.readyResolves)i();this.readyResolves.length=0,this.ref.current&&(this.ref.current.oncanplay=null)}),this.readyResolves.push(e)}play(){var e;(e=this.ref.current)==null||e.play()}pause(){var e;(e=this.ref.current)==null||e.pause()}playbackRate(e){this.ref.current&&(this.ref.current.playbackRate=e)}}const LB=({initialWidth:t,minWidth:e,maxWidth:r,onResizeStart:n,onResizeEnd:i})=>{const[a,s]=m.useState(!1),[u,c]=m.useState(t),[h,f]=m.useState(0),g=m.useCallback(()=>{s(!0),n==null||n()},[s,n]),p=m.useCallback(()=>{s(!1),i==null||i()},[s,i]),y=m.useCallback(x=>{f(x.clientX)},[]),b=m.useCallback(x=>{x.touches.length!==0&&f(x.touches[0].clientX)},[]),v=m.useCallback(x=>{if(a){const k=h-x.clientX,C=u+k;f(x.clientX),C>=e&&C<=r&&c(C)}},[e,r,h,u,a]),S=m.useCallback(x=>{if(x.touches.length!==0&&a){const k=h-x.touches[0].clientX,C=u+k;f(x.touches[0].clientX),C>=e&&C<=r&&c(C)}},[e,r,h,u,a]);return m.useEffect(()=>{u<e?c(e):r!==0&&u>Math.max(e,r)&&c(r)},[r,e,u]),m.useEffect(()=>(document.addEventListener("mouseleave",p),document.addEventListener("mousemove",v),document.addEventListener("mouseup",p),document.addEventListener("mousedown",y),document.addEventListener("touchcancel",p),document.addEventListener("touchmove",S),document.addEventListener("touchend",p),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mouseleave",p),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p),document.removeEventListener("mousedown",y),document.removeEventListener("touchcancel",p),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",p),document.removeEventListener("touchstart",b)}),[p,v,S,y,b]),{width:u,setWidth:c,enableResize:g,isResizing:a}},DB=({holdToDragMs:t})=>{const[e,r]=m.useState(!1),[n,i]=m.useState(!1),[a,s]=m.useState(),[u,c]=m.useState(),h=f=>{s(g=>g||{clientX:f.clientX,clientY:f.clientY}),c({clientX:f.clientX,clientY:f.clientY})};return m.useEffect(()=>{if(!n)return;const f=setTimeout(()=>{const g=document.getSelection();(g===null||g.type!=="Range")&&(r(!0),i(!1))},t);return()=>clearTimeout(f)},[t,n]),m.useEffect(()=>{const f=p=>{p.button===0&&p.clientX<=window.innerWidth-50&&(i(!0),h(p))},g=()=>{r(!1),i(!1),s(void 0),c(void 0)};return window.addEventListener("mousedown",f),window.addEventListener("mouseup",g),window.addEventListener("mouseleave",g),()=>{window.removeEventListener("mousedown",f),window.removeEventListener("mouseup",g),window.removeEventListener("mouseleave",g)}},[]),m.useEffect(()=>{if(e)return window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)},[e]),{dragging:e,draggingStartLocation:a,draggingCurrentLocation:u}};var ZT=m.createContext(),BB=function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":re({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}},DC="table",zB=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?DC:a,u=e.padding,c=u===void 0?"normal":u,h=e.size,f=h===void 0?"medium":h,g=e.stickyHeader,p=g===void 0?!1:g,y=Qe(e,["classes","className","component","padding","size","stickyHeader"]),b=m.useMemo(function(){return{padding:c,size:f,stickyHeader:p}},[c,f,p]);return m.createElement(ZT.Provider,{value:b},m.createElement(s,re({role:s===DC?null:"table",ref:r,className:Le(n.root,i,p&&n.stickyHeader)},y)))});const JT=Rt(BB,{name:"MuiTable"})(zB);var $p=m.createContext(),VB={root:{display:"table-row-group"}},WB={variant:"body"},BC="tbody",qB=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?BC:a,u=Qe(e,["classes","className","component"]);return m.createElement($p.Provider,{value:WB},m.createElement(s,re({className:Le(n.root,i),ref:r,role:s===BC?null:"rowgroup"},u)))});const QT=Rt(VB,{name:"MuiTableBody"})(qB);var HB=function(e){return{root:re({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:`1px solid
    `.concat(e.palette.type==="light"?zs(Tr(e.palette.divider,1),.88):Bs(Tr(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}},UB=m.forwardRef(function(e,r){var n=e.align,i=n===void 0?"inherit":n,a=e.classes,s=e.className,u=e.component,c=e.padding,h=e.scope,f=e.size,g=e.sortDirection,p=e.variant,y=Qe(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),b=m.useContext(ZT),v=m.useContext($p),S=v&&v.variant==="head",x,k;u?(k=u,x=S?"columnheader":"cell"):k=S?"th":"td";var C=h;!C&&S&&(C="col");var R=c||(b&&b.padding?b.padding:"normal"),_=f||(b&&b.size?b.size:"medium"),T=p||v&&v.variant,O=null;return g&&(O=g==="asc"?"ascending":"descending"),m.createElement(k,re({ref:r,className:Le(a.root,a[T],s,i!=="inherit"&&a["align".concat(Yt(i))],R!=="normal"&&a["padding".concat(Yt(R))],_!=="medium"&&a["size".concat(Yt(_))],T==="head"&&b&&b.stickyHeader&&a.stickyHeader),"aria-sort":O,role:x,scope:C},y))});const Is=Rt(HB,{name:"MuiTableCell"})(UB);var KB={root:{width:"100%",overflowX:"auto"}},GB=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,u=Qe(e,["classes","className","component"]);return m.createElement(s,re({ref:r,className:Le(n.root,i)},u))});const eR=Rt(KB,{name:"MuiTableContainer"})(GB);var XB=function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}},zC="tr",YB=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?zC:a,u=e.hover,c=u===void 0?!1:u,h=e.selected,f=h===void 0?!1:h,g=Qe(e,["classes","className","component","hover","selected"]),p=m.useContext($p);return m.createElement(s,re({ref:r,className:Le(n.root,i,p&&{head:n.head,footer:n.footer}[p.variant],c&&n.hover,f&&n.selected),role:s===zC?null:"row"},g))});const by=Rt(XB,{name:"MuiTableRow"})(YB);let xy;const tR=200,VC=()=>xy??Math.max(350,.25*window.innerWidth),WC=(t,e,r,n)=>t===r||e===n?!0:t<r?e>=r:n>=t,ZB=(t,e,r)=>{const n=r.current;if(!n)return!1;const i={x:Math.min(t.clientX,e.clientX),y:Math.min(t.clientY,e.clientY),width:Math.abs(t.clientX-e.clientX),height:Math.abs(t.clientY-e.clientY)},a=n.getBoundingClientRect();return WC(i.x,i.x+i.width,a.x,a.x+a.width)&&WC(i.y,i.y+i.height,a.y,a.y+a.height)},JB=dn(t=>({container:{height:({appBarHidden:e,appBarHeight:r})=>e?"100vh":`calc(100vh - ${r}px)`,position:"relative",overflowX:"hidden",backgroundColor:t.palette.background.default,width:({resizable:e})=>e?"auto":"100%","&:focus":{outline:"none"}},table:{backgroundColor:t.palette.background.default,marginBottom:75},unselectableTable:{userSelect:"none"},noSubtitles:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:15,textAlign:"center"}})),QB=dn(t=>({subtitleRow:{"&:hover":{backgroundColor:t.palette.action.hover},minWidth:250},selectedSubtitleRow:{minWidth:250,"& td":{borderColor:t.palette.background.paper},animation:`$select-subtitle-row 300ms ${t.transitions.easing.easeInOut} forwards`},"@keyframes select-subtitle-row":{"100%":{backgroundColor:t.palette.background.paper}},unselectedSubtitleRow:{minWidth:250,animation:`$unselect-subtitle-row 300ms ${t.transitions.easing.easeInOut} forwards`},"@keyframes unselect-subtitle-row":{"100%":{filter:"brightness(.7)",backgroundColor:t.palette.action.disabledBackground}},subtitle:{fontSize:20,paddingRight:0,width:"100%",overflowWrap:"anywhere",whiteSpace:"pre-wrap"},compressedSubtitle:{fontSize:16,paddingRight:0,width:"100%",overflowWrap:"anywhere",whiteSpace:"pre-wrap"},disabledSubtitle:{color:"transparent",backgroundColor:t.palette.action.disabledBackground,borderRadius:5},unselectableSubtitle:{userSelect:"none"},timestamp:{fontSize:14,color:"#aaaaaa",textAlign:"right",paddingRight:15,paddingLeft:5,userSelect:"none"},copyButton:{textAlign:"right",padding:0}})),e9=nr.memo(function({index:e,selectionState:r,subtitleRef:n,onClickSubtitle:i,onCopySubtitle:a,compressed:s,disabled:u,subtitle:c,showCopyButton:h}){const f=QB(),g=m.useRef(null),[p,y]=m.useState(!1),b=s?f.compressedSubtitle:f.subtitle,v=u?f.disabledSubtitle:"",{t:S}=Mr();if(c.start<0||c.end<0)return null;function x(){var T,O;const R=document.getSelection(),_=(R==null?void 0:R.type)==="Range"&&((O=g.current)==null?void 0:O.isSameNode(((T=R.anchorNode)==null?void 0:T.parentNode)??null));y(_??!1)}const k=c.textImage?E.jsx(L0,{availableWidth:window.screen.availWidth/2,subtitle:c,scale:1}):E.jsx("span",{ref:g,className:v,children:c.text});let C;return r===void 0?C=f.subtitleRow:r===1?C=f.selectedSubtitleRow:C=f.unselectedSubtitleRow,E.jsxs(by,{onClick:()=>!p&&i(e),onMouseUp:x,ref:n,className:C,children:[r===void 0&&E.jsx(Er,{enterDelay:1500,enterNextDelay:1500,title:S("subtitlePlayer.multiSubtitleSelectHelp"),placement:"top",children:E.jsx(Is,{className:b,children:k})}),r!==void 0&&E.jsx(Is,{className:b,children:k}),h&&E.jsx(Is,{className:f.copyButton,children:E.jsx(Bt,{disabled:r!==void 0,onClick:R=>a(R,e),children:E.jsx(B0,{fontSize:s?"small":"medium"})})}),E.jsx(Is,{className:f.timestamp,children:E.jsxs("div",{children:[E.jsx("span",{style:{display:"none"},children:"."}),`
${c.displayTime}
`,E.jsx("span",{style:{display:"none"},children:"."})]})})]})}),t9=nr.forwardRef(function({isResizing:e,style:r,...n},i){return E.jsx("div",{ref:i,style:{...r,position:"absolute",width:e?30:ii.isMobile?20:5,left:e?-15:-2.5,height:"100%",cursor:"col-resize"},...n})});function r9({clock:t,extension:e,onSeek:r,onCopy:n,onOffsetChange:i,onToggleSubtitleTrack:a,onSubtitlesHighlighted:s,onResizeStart:u,onResizeEnd:c,autoPauseContext:h,subtitles:f,subtitleCollection:g,length:p,jumpToSubtitle:y,compressed:b,resizable:v,showCopyButton:S,loading:x,drawerOpen:k,appBarHidden:C,displayHelp:R,disableKeyEvents:_,disableMiningBinds:T,lastJumpToTopTimestamp:O,hidden:D,disabledSubtitleTracks:j,settings:F,keyBinder:M,maxResizeWidth:z,webSocketClient:I}){const{t:$}=Mr(),K=m.useRef(t);K.current=t;const U=m.useRef();U.current=f;const G=m.useMemo(()=>f?Array(f.length).fill(void 0).map(se=>m.createRef()):[],[f]),B=m.useRef(Ks.empty());B.current=g??Ks.empty();const H=m.useRef([]);H.current=G;const N=m.useRef({}),[L,W]=m.useState(),[X,Y]=m.useState(),ce=m.useRef(0);ce.current=p;const ee=m.useRef(!1);ee.current=D;const fe=m.useRef(0),le=m.useRef(),de=m.useRef(),pe=m.useRef();pe.current=k;const he=Mp(),ke=JB({resizable:v,appBarHidden:C,appBarHeight:he}),Re=m.useRef();Re.current=h;const _e=m.useRef();_e.current=s;const et=()=>{var te;const se=N.current;for(let me=0;me<H.current.length;++me){const be=(te=H.current[me].current)==null?void 0:te.classList;me in se?be==null||be.add("Mui-selected"):be==null||be.remove("Mui-selected")}};m.useEffect(()=>{const se=()=>{var ct,_t,Vt;const te=H.current,me=K.current,be={},xe=me.time(ce.current);let ze=B.current.subtitlesAt(xe);const ot=ze.showing.length===0?ze.lastShown??[]:ze.showing;let Ue;for(const He of ot)be[He.index]=!0,(Ue===void 0||He.index<Ue)&&(Ue=He.index);if(!l6(be,N.current)&&(N.current=be,et(),(ct=_e.current)==null||ct.call(_e,ot),Ue!==void 0)){const He=te[Ue],Zt=!ee.current&&Date.now()-fe.current>5e3;He!=null&&He.current&&Zt&&He.current.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})}ze.startedShowing!==void 0&&((_t=Re.current)==null||_t.startedShowing(ze.startedShowing)),ze.willStopShowing!==void 0&&((Vt=Re.current)==null||Vt.willStopShowing(ze.willStopShowing)),le.current=requestAnimationFrame(se)};return le.current=requestAnimationFrame(se),()=>{le.current!==void 0&&cancelAnimationFrame(le.current)}},[]);const Me=m.useCallback(()=>{var be;const se=N.current;if(!se)return;const te=Object.keys(se);if(te.length===0)return;const me=G[Number(te[0])];(be=me==null?void 0:me.current)==null||be.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})},[G]);m.useEffect(()=>{if(D)return;function se(){document.visibilityState==="visible"&&Me()}return document.addEventListener("visibilitychange",se),()=>document.removeEventListener("visibilitychange",se)},[D,G,Me]),m.useEffect(()=>{D||Me()},[D,Me]),m.useEffect(()=>{var me;if(ee.current)return;const se=H.current;if(!se||se.length===0)return;const te=se[0];(me=te==null?void 0:te.current)==null||me.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})},[O]),m.useEffect(()=>M.bindAdjustOffset((se,te)=>{se.preventDefault(),se.stopPropagation(),i(te)},()=>_,()=>f),[M,i,_,f]),m.useEffect(()=>M.bindResetOffet(se=>{se.preventDefault(),se.stopPropagation(),i(0)},()=>_),[M,i,_]),m.useEffect(()=>M.bindOffsetToSubtitle((se,te)=>{se.preventDefault(),se.stopPropagation(),i(te)},()=>_,()=>t.time(p),()=>f),[M,i,_,t,f,p]),m.useEffect(()=>M.bindSeekToSubtitle((se,te)=>{se.preventDefault(),se.stopPropagation(),r(te.start,t.running??!1)},()=>_,()=>t.time(p),()=>f),[M,r,f,_,t,p]),m.useEffect(()=>M.bindSeekToBeginningOfCurrentSubtitle((se,te)=>{se.preventDefault(),se.stopPropagation(),r(te.start,F.alwaysPlayOnSubtitleRepeat||t.running)},()=>_,()=>t.time(p),()=>f),[M,r,f,_,t,p,F.alwaysPlayOnSubtitleRepeat]),m.useEffect(()=>M.bindSeekBackwardOrForward((se,te)=>{se.stopPropagation(),se.preventDefault(),r(te?Math.min(p,t.time(p)+1e4):Math.max(0,t.time(p)-1e4),t.running)},()=>_),[M,t,p,_,r]),m.useEffect(()=>{function se(){fe.current=Date.now()}const te=de.current;return te==null||te.addEventListener("wheel",se,{passive:!0}),()=>te==null?void 0:te.removeEventListener("wheel",se)},[de,fe]),m.useEffect(()=>{var me,be;if(D||!y||!f)return;let se=-1,te=0;for(let xe of f){if(xe.originalStart===y.originalStart&&y.text.includes(xe.text)){se=te;break}++te}se!==-1&&((be=(me=G[se])==null?void 0:me.current)==null||be.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"}),Y(se),setTimeout(()=>Y(void 0),1e3))},[D,y,f,G]);const De=m.useCallback(()=>{const se=t.time(p),te=Math.min(se+5e3,p);return{text:"",start:se,originalStart:se,end:te,originalEnd:te,track:0}},[t,p]),gt=m.useCallback(se=>!f||f.length===0?Uv(De(),p,5e3):d2(f,se,F.surroundingSubtitlesCountRadius,F.surroundingSubtitlesTimeRadius),[p,f,De,F.surroundingSubtitlesCountRadius,F.surroundingSubtitlesTimeRadius]),Ge=m.useCallback(()=>{if(!N.current)return[];const se=Math.min(...Object.keys(N.current).map(te=>Number(te)));return gt(se)},[gt]),yt=m.useCallback(()=>{if(!f||f.length===0){const me=t.time(p),be=Math.min(me+5e3,p);return{text:"",start:me,originalStart:me,end:be,originalEnd:be,track:0}}if(!N.current)return;const se=Object.keys(N.current).map(me=>Number(me));if(se.length===0)return;const te=Math.min(...se);return f[te]},[t,f,p]);m.useEffect(()=>M.bindCopy((se,te)=>{se.preventDefault(),se.stopPropagation(),n(te,Ge(),hr.none)},()=>_||T,()=>yt()),[M,_,T,yt,Ge,n]);const ht=m.useCallback(({postMineAction:se,text:te,word:me,definition:be,customFieldValues:xe})=>{if(!f||f.length===0)return!1;let ze=-1;if(te&&(ze=f.findIndex(Ue=>Ue.text===te),ze===-1)){const Ue=te.trim();ze=f.filter(ct=>ct.text.includes(Ue)).length===1?f.findIndex(ct=>ct.text.includes(Ue)):-1}const ot=ze===-1?yt():f[ze];if(ot){const Ue=ze===-1?Ge():gt(ze),ct={text:ze===-1?te:ba(ot,Ue),word:me,definition:be,customFieldValues:xe};return n(ot,Ue,se,!0,ct),!0}return!1},[n,yt,Ge,gt,f]);m.useEffect(()=>{!I||e.supportsWebSocketClient||(I.onMineSubtitle=async({body:{fields:se,postMineAction:te}})=>{const me=se??{},be=me[F.wordField]||void 0,xe=me[F.definitionField]||void 0,ze=me[F.sentenceField]||void 0,ot=Object.fromEntries(Object.entries(F.customAnkiFields).map(([ct,_t])=>{const Vt=me[_t];if(Vt!==void 0)return[ct,Vt]}).filter(ct=>ct!==void 0)),Ue=te??hr.showAnkiDialog;return ht({postMineAction:Ue,text:ze,word:be,definition:xe,customFieldValues:ot})})},[I,e,F,ht]),m.useEffect(()=>{if(e.installed)return e.subscribe(se=>{if(!document.hasFocus()||se.data.command!=="copy-subtitle-with-additional-fields")return;const te=se.data;ht(te)})},[e,ht]),m.useEffect(()=>M.bindToggleSubtitleTrackInList((se,te)=>{se.preventDefault(),se.stopPropagation(),a(te)},()=>_),[M,_,a]),m.useEffect(()=>M.bindAnkiExport(se=>{se.preventDefault(),se.stopPropagation();const te=yt();te&&n(te,Ge(),hr.showAnkiDialog)},()=>_||T),[M,n,_,T,f,yt,Ge]),m.useEffect(()=>M.bindUpdateLastCard(se=>{se.preventDefault(),se.stopPropagation();const te=yt();te&&n(te,Ge(),hr.updateLastCard)},()=>_||T),[M,n,_,T,f,yt,Ge]);const Oe=m.useCallback(se=>{if(!f)return;const te=N.current||{};r(f[se].start,!t.running&&se in te)},[f,r,t]),Ie=m.useRef(gt);Ie.current=gt;const We=m.useRef(F);We.current=F;const mt=m.useRef(n);mt.current=n;const Be=m.useCallback((se,te)=>{se.preventDefault(),se.stopPropagation(),f&&mt.current(f[te],Ie.current(te),We.current.clickToMineDefaultAction,!0)},[f]),tt=m.useRef(null);m.useEffect(()=>{if(!v)return;const se=setInterval(()=>{var me;const te=tt.current;te&&(te.style.top=`${((me=de.current)==null?void 0:me.scrollTop)??0}px`)},1e3);return()=>clearInterval(se)},[v]);const{width:Pe,setWidth:Q,enableResize:Et,isResizing:Tt}=LB({initialWidth:VC,minWidth:tR,maxWidth:z,onResizeStart:u,onResizeEnd:c});m.useEffect(()=>{xy=Pe},[Pe,z]),m.useEffect(()=>{const se=()=>{xy=void 0,Q(VC())};return screen.orientation.addEventListener("change",se),()=>screen.orientation.removeEventListener("change",se)},[Q]);const{dragging:st,draggingStartLocation:Z,draggingCurrentLocation:ie}=DB({holdToDragMs:750});m.useEffect(()=>{if(!st||!Z||!ie||!G||Tt||!S||_){W(void 0);return}W(G.map(se=>ZB(Z,ie,se)))},[st,Z,ie,G,Tt,S,_]),m.useEffect(()=>{if(f!==void 0&&!st&&L!==void 0&&L.length>0){const se=L.map((te,me)=>te?f[me]:void 0).filter(te=>te!==void 0).filter(te=>!j[te.track]);if(se.length>0){const te=Math.min(...se.map(xe=>xe.start)),me=Math.max(...se.map(xe=>xe.end)),{surroundingSubtitles:be}=Xy(f,te,me,F.surroundingSubtitlesCountRadius,F.surroundingSubtitlesTimeRadius);if(be){const xe={text:se.map(ze=>ze.text).join(`
`),start:te,end:me,originalStart:Math.min(...se.map(ze=>ze.originalStart)),originalEnd:Math.max(...se.map(ze=>ze.originalEnd)),track:0};n(xe,be,hr.showAnkiDialog,!0)}}}et()},[st,j,L,f,F.surroundingSubtitlesCountRadius,F.surroundingSubtitlesTimeRadius,n]);let rt=null;if(!f||f.length===0)!x&&R?rt=!x&&R&&E.jsx("div",{className:ke.noSubtitles,children:E.jsx(un,{variant:"h6",children:R})}):f&&f.length===0&&(rt=E.jsx("div",{className:ke.noSubtitles,children:E.jsx(un,{variant:"h6",children:$("landing.noSubtitles")})}));else{const se=Tt||st?ke.unselectableTable:"";rt=E.jsx(eR,{className:`${ke.table} ${se}`,children:E.jsx(JT,{children:E.jsx(QT,{children:f.map((te,me)=>{let be;return L!==void 0&&(be=L[me]?1:2),X!==void 0&&(be=X===me?1:2),E.jsx(e9,{index:me,compressed:b,selectionState:be,showCopyButton:S,disabled:j[te.track],subtitle:f[me],subtitleRef:G[me],onClickSubtitle:Oe,onCopySubtitle:Be},me)})})})})}return E.jsxs(oi,{square:!0,elevation:0,ref:de,className:ke.container,style:{width:v?Pe:"auto"},children:[rt,v&&E.jsx(t9,{isResizing:Tt,onMouseDown:Et,onTouchStart:Et,ref:tt})]})}class qC{constructor(e){this.oncanplay=null,this.protocol=e,this.time=0,this.duration=0,this.isReady=!1,this.readyState=0,this._playbackRate=1,this.selectedAudioTrack=void 0,this.readyCallbacks=[],this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.exitCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.popOutToggleCallbacks=[],this.copyCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.ankiDialogRequestCallbacks=[],this.toggleSubtitleTrackInListCallbacks=[],this.loadFilesCallbacks=[];const r=this;this.protocol.onMessage=n=>{var i;switch(n.data.command){case"ready":const a=n.data;r.duration=a.duration,r.isReady=!0,r.audioTracks=a.audioTracks,r.selectedAudioTrack=a.selectedAudioTrack,r.readyState=4,r.time=a.currentTime,this._playbackRate=a.playbackRate;for(let b of r.readyCallbacks)b(a.paused);break;case"readyState":const s=n.data;r.readyState=s.value,r.readyState===4&&((i=r.oncanplay)==null||i.call(r,new Event("canplay")));break;case"play":const u=n.data;for(let b of r.playCallbacks)b(u.echo);break;case"pause":const c=n.data;for(let b of r.pauseCallbacks)b(c.echo);break;case"audioTrackSelected":const h=n.data;for(let b of r.audioTrackSelectedCallbacks)r.selectedAudioTrack=h.id,b(h.id);break;case"currentTime":const f=n.data;for(let b of r.currentTimeCallbacks)b(f.value,f.echo);break;case"exit":for(let b of r.exitCallbacks)b();break;case"offset":const g=n.data;for(let b of r.offsetCallbacks)b(g.value);break;case"playbackRate":const p=n.data;for(const b of r.playbackRateCallbacks)b(p.value,p.echo);break;case"popOutToggle":for(let b of r.popOutToggleCallbacks)b();break;case"copy":for(let b of r.copyCallbacks){const v=n.data,{word:S,text:x,definition:k,customFieldValues:C}=v;b(v.subtitle,v.surroundingSubtitles,{word:S,text:x,definition:k,customFieldValues:C},v.audio,v.image,v.url,v.postMineAction??hr.none,v.id,v.mediaTimestamp)}break;case"playMode":for(let b of r.playModeCallbacks){const v=n.data;b(v.playMode)}break;case"hideSubtitlePlayerToggle":for(let b of r.hideSubtitlePlayerToggleCallbacks)b();break;case"appBarToggle":for(let b of r.appBarToggleCallbacks)b();break;case"sync":break;case"syncv2":break;case"ankiDialogRequest":for(let b of r.ankiDialogRequestCallbacks)b();break;case"toggleSubtitleTrackInList":const y=n.data;for(const b of r.toggleSubtitleTrackInListCallbacks)b(y.track);break;case"loadFiles":for(const b of r.loadFilesCallbacks)b();break;default:console.error("Unrecognized event "+n.data.command)}}}get currentTime(){return this.time}set currentTime(e){this.time=e,this.readyState=3;const r={command:"currentTime",value:this.time};this.protocol.postMessage(r)}get playbackRate(){return this._playbackRate}set playbackRate(e){const r={command:"playbackRate",value:e};this.protocol.postMessage(r)}onReady(e){return this.isReady&&e(!1),this.readyCallbacks.push(e),()=>this._remove(e,this.readyCallbacks)}onPlay(e){return this.playCallbacks.push(e),()=>this._remove(e,this.playCallbacks)}onPause(e){return this.pauseCallbacks.push(e),()=>this._remove(e,this.pauseCallbacks)}onCurrentTime(e){return this.currentTimeCallbacks.push(e),()=>this._remove(e,this.currentTimeCallbacks)}onAudioTrackSelected(e){return this.audioTrackSelectedCallbacks.push(e),()=>this._remove(e,this.audioTrackSelectedCallbacks)}onExit(e){return this.exitCallbacks.push(e),()=>this._remove(e,this.exitCallbacks)}onOffset(e){return this.offsetCallbacks.push(e),()=>this._remove(e,this.offsetCallbacks)}onPlaybackRate(e){return this.playbackRateCallbacks.push(e),()=>this._remove(e,this.playbackRateCallbacks)}onPopOutToggle(e){return this.popOutToggleCallbacks.push(e),()=>this._remove(e,this.popOutToggleCallbacks)}onCopy(e){return this.copyCallbacks.push(e),()=>this._remove(e,this.copyCallbacks)}onPlayMode(e){return this.playModeCallbacks.push(e),()=>this._remove(e,this.playModeCallbacks)}onHideSubtitlePlayerToggle(e){return this.hideSubtitlePlayerToggleCallbacks.push(e),()=>this._remove(e,this.hideSubtitlePlayerToggleCallbacks)}onAppBarToggle(e){return this.appBarToggleCallbacks.push(e),()=>this._remove(e,this.appBarToggleCallbacks)}onAnkiDialogRequest(e){return this.ankiDialogRequestCallbacks.push(e),()=>this._remove(e,this.ankiDialogRequestCallbacks)}onToggleSubtitleTrackInList(e){return this.toggleSubtitleTrackInListCallbacks.push(e),()=>this._remove(e,this.toggleSubtitleTrackInListCallbacks)}onLoadFiles(e){return this.loadFilesCallbacks.push(e),()=>this._remove(e,this.loadFilesCallbacks)}ready(e,r){const n={command:"ready",duration:e,videoFileName:r};this.protocol.postMessage(n)}init(){this.protocol.postMessage({command:"init"})}play(){return this.protocol.postMessage({command:"play"}),new Promise((e,r)=>e())}pause(){this.protocol.postMessage({command:"pause"})}audioTrackSelected(e){const r={command:"audioTrackSelected",id:e};this.protocol.postMessage(r)}subtitles(e,r){this.protocol.postMessage({command:"subtitles",value:e,name:r.length>0?r[0]:null,names:r})}offset(e){const r={command:"offset",value:e};this.protocol.postMessage(r)}subtitleSettings(e){const{subtitleColor:r,subtitleSize:n,subtitleThickness:i,subtitleOutlineThickness:a,subtitleOutlineColor:s,subtitleShadowThickness:u,subtitleShadowColor:c,subtitleBackgroundOpacity:h,subtitleBackgroundColor:f,subtitleFontFamily:g,subtitleCustomStyles:p,subtitleBlur:y,imageBasedSubtitleScaleFactor:b,subtitleAlignment:v,subtitleTracksV2:S,subtitlePositionOffset:x,topSubtitlePositionOffset:k,subtitlesWidth:C}=e,R={command:"subtitleSettings",value:{subtitleColor:r,subtitleSize:n,subtitleThickness:i,subtitleOutlineThickness:a,subtitleOutlineColor:s,subtitleShadowThickness:u,subtitleShadowColor:c,subtitleBackgroundOpacity:h,subtitleBackgroundColor:f,subtitleFontFamily:g,subtitleCustomStyles:p,subtitleBlur:y,imageBasedSubtitleScaleFactor:b,subtitleAlignment:v,subtitleTracksV2:S,subtitlePositionOffset:x,topSubtitlePositionOffset:k,subtitlesWidth:C}};this.protocol.postMessage(R)}playMode(e){const r={command:"playMode",playMode:e};this.protocol.postMessage(r)}hideSubtitlePlayerToggle(e){const r={command:"hideSubtitlePlayerToggle",value:e};this.protocol.postMessage(r)}appBarToggle(e){const r={command:"appBarToggle",value:e};this.protocol.postMessage(r)}fullscreenToggle(e){const r={command:"fullscreenToggle",value:e};this.protocol.postMessage(r)}ankiSettings(e){const{ankiConnectUrl:r,deck:n,noteType:i,sentenceField:a,definitionField:s,audioField:u,imageField:c,wordField:h,sourceField:f,urlField:g,track1Field:p,track2Field:y,track3Field:b,customAnkiFields:v,tags:S,preferMp3:x,audioPaddingStart:k,audioPaddingEnd:C,maxImageWidth:R,maxImageHeight:_,surroundingSubtitlesCountRadius:T,surroundingSubtitlesTimeRadius:O,ankiFieldSettings:D,customAnkiFieldSettings:j,recordWithAudioPlayback:F}=e,M={command:"ankiSettings",value:{ankiConnectUrl:r,deck:n,noteType:i,sentenceField:a,definitionField:s,audioField:u,imageField:c,wordField:h,sourceField:f,urlField:g,track1Field:p,track2Field:y,track3Field:b,customAnkiFields:v,tags:S,preferMp3:x,audioPaddingStart:k,audioPaddingEnd:C,maxImageWidth:R,maxImageHeight:_,surroundingSubtitlesCountRadius:T,surroundingSubtitlesTimeRadius:O,ankiFieldSettings:D,customAnkiFieldSettings:j,recordWithAudioPlayback:F}};this.protocol.postMessage(M)}miscSettings(e){const{themeType:r,copyToClipboardOnMine:n,autoPausePreference:i,speedChangeStep:a,fastForwardModePlaybackRate:s,keyBindSet:u,rememberSubtitleOffset:c,autoCopyCurrentSubtitle:h,alwaysPlayOnSubtitleRepeat:f,subtitleRegexFilter:g,subtitleRegexFilterTextReplacement:p,miningHistoryStorageLimit:y,preCacheSubtitleDom:b,clickToMineDefaultAction:v,postMiningPlaybackState:S,language:x,lastSubtitleOffset:k,tabName:C,pauseOnHoverMode:R,lastSelectedAnkiExportMode:_}=e,T={command:"miscSettings",value:{themeType:r,copyToClipboardOnMine:n,autoPausePreference:i,speedChangeStep:a,fastForwardModePlaybackRate:s,keyBindSet:u,rememberSubtitleOffset:c,autoCopyCurrentSubtitle:h,alwaysPlayOnSubtitleRepeat:f,subtitleRegexFilter:g,subtitleRegexFilterTextReplacement:p,miningHistoryStorageLimit:y,preCacheSubtitleDom:b,clickToMineDefaultAction:v,postMiningPlaybackState:S,language:x,lastSubtitleOffset:k,tabName:C,pauseOnHoverMode:R,lastSelectedAnkiExportMode:_}};this.protocol.postMessage(T)}alert(e,r){const n={command:"alert",message:e,severity:r};this.protocol.postMessage(n)}copy(e,r,n,i){const a={command:"copy",postMineAction:e,subtitle:r,surroundingSubtitles:n,...i??{}};this.protocol.postMessage(a)}takeScreenshot(){const e={command:"takeScreenshot"};this.protocol.postMessage(e)}close(){this.protocol.postMessage({command:"close"}),this.protocol.close(),this.readyCallbacks=[],this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.exitCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.popOutToggleCallbacks=[],this.copyCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.ankiDialogRequestCallbacks=[],this.toggleSubtitleTrackInListCallbacks=[],this.loadFilesCallbacks=[]}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const HC=300,n9=dn({root:({appBarHidden:t,appBarHeight:e})=>({height:t?"100vh":`calc(100vh - ${e}px)`,position:"relative",overflowX:"hidden"}),container:{width:"100%",height:"100%"},videoFrame:{width:"100%",height:"100%",border:0,display:"block"}});function Ev(t,e,r){let n;e&&e.length>0?r?n=e[e.length-1].end:n=e[e.length-1].originalEnd:n=0;const i=t&&t.duration?1e3*t.duration:0;return Math.max(i,n)}const i9=nr.memo(function({sources:e,subtitles:r,subtitleReader:n,settings:i,playbackPreferences:a,keyBinder:s,extension:u,videoFrameRef:c,videoChannelRef:h,drawerOpen:f,appBarHidden:g,showCopyButton:p,videoFullscreen:y,hideSubtitlePlayer:b,videoPopOut:v,tab:S,availableTabs:x,miningContext:k,origin:C,onError:R,onUnloadVideo:_,onCopy:T,onLoaded:O,onTabSelected:D,onAnkiDialogRequest:j,onAppBarToggle:F,onHideSubtitlePlayer:M,onVideoPopOut:z,onPlayModeChangedViaBind:I,onSubtitles:$,onLoadFiles:K,disableKeyEvents:U,jumpToSubtitle:G,rewindSubtitle:B,hideControls:H,forceCompressedMode:N,webSocketClient:L}){const[W,X]=m.useState(sr.normal),[Y,ce]=m.useState(),ee=m.useRef();ee.current=r;const fe=m.useMemo(()=>new Ks(r??[],{returnLastShown:!0,returnNextToShow:W===sr.condensed||W===sr.fastForward,showingCheckRadiusMs:100}),[r,W]),le=e==null?void 0:e.subtitleFiles,de=e==null?void 0:e.flattenSubtitleFiles,pe=e==null?void 0:e.videoFile,he=e==null?void 0:e.videoFileUrl,ke=r&&r.length>0&&!!he,[Re,_e]=m.useState(!1),[et,Me]=m.useState(!1),[De,gt]=m.useState(0),[Ge,yt]=m.useState(0),[ht,Oe]=m.useState(1),[Ie,We]=m.useState(),[mt,Be]=m.useState(),[tt,Pe]=m.useState(),[Q,Et]=m.useState(),Tt=m.useRef();Tt.current=Q;const st=m.useRef();st.current=a;const[Z,ie]=m.useState(),rt=m.useRef();rt.current=b;const[se,te]=m.useState({}),me=m.useRef({x:0,y:0}),be=m.useMemo(()=>he||S?new LC({current:Q}):new LC({current:null}),[Q,he,S]),xe=m.useMemo(()=>new VT,[]),ze=Mp(),ot=n9({appBarHidden:g,appBarHeight:ze}),Ue=()=>Ev(Tt.current,ee.current),ct=m.useCallback(async(Te,ft,ve)=>{var kt;ft.setTime(Te),ve&&await be.seek(Te/1e3),(kt=Xe.current)==null||kt.clear()},[be]),_t=m.useCallback(()=>_e(!0),[]),Vt=m.useCallback(()=>_e(!1),[]),He=m.useCallback(()=>{W!==sr.autoPause||i.autoPausePreference!==Ai.atStart||he||Ze(xe,be,!0)},[W,xe,be,he,i.autoPausePreference]),Zt=m.useCallback(Te=>{W===sr.repeat?ct(Te.start,xe,!0):W===sr.autoPause&&i.autoPausePreference===Ai.atEnd&&!he&&Ze(xe,be,!0)},[W,xe,be,he,i.autoPausePreference,ct]),gr=m.useMemo(()=>{const Te=new v2;return Te.onStartedShowing=He,Te.onWillStopShowing=Zt,Te},[He,Zt]),Xe=m.useRef();Xe.current=gr;const Ce=m.useCallback((Te,ft)=>{xe.rate!==Te&&(xe.rate=Te,Oe(Te),ft&&be.playbackRate(Te))},[xe,be]),Ot=m.useCallback((Te,ft)=>{if(yt(Te),!r)return;const ve=r.length>0?r[r.length-1].end+Te:0,kt=r.map((lt,Kt)=>({text:lt.text,textImage:lt.textImage,start:lt.originalStart+Te,originalStart:lt.originalStart,end:lt.originalEnd+Te,originalEnd:lt.originalEnd,displayTime:Cc(lt.originalStart+Te,ve),track:lt.track,index:Kt}));ft&&Q!==void 0&&(Q.offset(Te),S!==void 0&&u.installed&&!u.supportsOffsetMessage&&Q.subtitles(kt,(le==null?void 0:le.map(lt=>lt.name))??[""])),$(kt),a.offset=Te},[le,r,u,a,S,Q,$]);m.useEffect(()=>{if(!pe&&!S)return;let Te;if(pe){const ft=hn();Te=new qC(new O6(ft)),Pe(ft),O([pe])}else Te=new qC(new A6(S.id,S.src,u)),Te.init();return h&&(h.current=Te),Et(Te),()=>{xe.setTime(0),xe.stop(),Te.close()}},[xe,v,pe,S,u,h,O]),m.useEffect(()=>{async function Te(){var kt;const ft=((kt=st.current)==null?void 0:kt.offset)??0;yt(ft);let ve;if(le!==void 0&&le.length>0){Me(!0);try{const lt=await n.subtitles(le,de),Kt=lt.length>0?lt[lt.length-1].end+ft:0;ve=lt.map((Jt,Pt)=>({text:Jt.text,textImage:Jt.textImage,start:Jt.start+ft,originalStart:Jt.start,end:Jt.end+ft,originalEnd:Jt.end,displayTime:Cc(Jt.start+ft,Kt),track:Jt.track,index:Pt})),ce(!1),$(ve),X(Jt=>!ve||ve.length===0?sr.normal:Jt)}catch(lt){R(lt),$([])}finally{Me(!1)}}else ve=void 0,X(sr.normal)}Te().then(()=>O(le??[]))},[n,O,R,le,de,$]),m.useEffect(()=>{ce(!1)},[Q]),m.useEffect(()=>Q==null?void 0:Q.onExit(()=>he&&_(he)),[Q,_,he]),m.useEffect(()=>Q==null?void 0:Q.onPopOutToggle(()=>z()),[Q,z]),m.useEffect(()=>Q==null?void 0:Q.onHideSubtitlePlayerToggle(M),[Q,M]),m.useEffect(()=>Q==null?void 0:Q.onAppBarToggle(F),[Q,F]),m.useEffect(()=>Q==null?void 0:Q.onReady(()=>Q==null?void 0:Q.ready(Ev(Q,r),pe==null?void 0:pe.name)),[Q,r,pe]),m.useEffect(()=>{if(!(Q===void 0||r===void 0||Y||le===void 0||le.length===0))return Q.onReady(()=>{ce(!0),Q.subtitles(r,de?[le[0].name]:le.map(Te=>Te.name))})},[r,Q,de,le,Y]),m.useEffect(()=>Q==null?void 0:Q.onReady(()=>Q==null?void 0:Q.subtitleSettings(i)),[Q,i]),m.useEffect(()=>Q==null?void 0:Q.onReady(()=>Q==null?void 0:Q.hideSubtitlePlayerToggle(b)),[Q,b]),m.useEffect(()=>Q==null?void 0:Q.ankiSettings(i),[Q,i]),m.useEffect(()=>Q==null?void 0:Q.miscSettings(i),[Q,i]),m.useEffect(()=>Q==null?void 0:Q.playMode(W),[Q,W]),m.useEffect(()=>Q==null?void 0:Q.onReady(()=>{var Te;Q!=null&&Q.audioTracks&&((Te=Q==null?void 0:Q.audioTracks)==null?void 0:Te.length)>1?(We(Q==null?void 0:Q.audioTracks),Be(Q==null?void 0:Q.selectedAudioTrack)):(We(void 0),Be(void 0))}),[Q]),m.useEffect(()=>Q==null?void 0:Q.onReady(Te=>{Q&&xe.setTime(Q.currentTime*1e3),Te?xe.stop():xe.start(),Q!=null&&Q.playbackRate&&(xe.rate=Q.playbackRate,Oe(Q.playbackRate))}),[Q,xe]),m.useEffect(()=>Q==null?void 0:Q.onPlay(Te=>jt(xe,be,Te)),[Q,be,xe]),m.useEffect(()=>Q==null?void 0:Q.onPause(Te=>Ze(xe,be,Te)),[Q,be,xe]),m.useEffect(()=>Q==null?void 0:Q.onOffset(Te=>Ot(Math.max(-Ue()||0,Te),!1)),[Q,Ot]),m.useEffect(()=>Q==null?void 0:Q.onPlaybackRate(Ce),[Q,Ce]),m.useEffect(()=>Q==null?void 0:Q.onCopy((Te,ft,ve,kt,lt,Kt,Jt,Pt,dr)=>{var Sn;return T({subtitle:Te,surroundingSubtitles:ft,subtitleFileName:Te?((Sn=le==null?void 0:le[Te.track])==null?void 0:Sn.name)??"":"",...ve,mediaTimestamp:dr??0,file:pe?{name:pe.name,blobUrl:Kv(pe),audioTrack:Q==null?void 0:Q.selectedAudioTrack,playbackRate:Q==null?void 0:Q.playbackRate}:void 0,audio:kt,image:lt,url:Kt},Jt,Pt)}),[Q,T,pe,le]),m.useEffect(()=>Q==null?void 0:Q.onPlayMode(Te=>{X(Te),Q==null||Q.playMode(Te)}),[Q,W]),m.useEffect(()=>Q==null?void 0:Q.onCurrentTime(async(Te,ft)=>{const ve=xe.running;ve&&xe.stop(),await ct(Te*1e3,xe,ft),ve&&xe.start()}),[Q,xe,ct]),m.useEffect(()=>Q==null?void 0:Q.onAudioTrackSelected(async Te=>{const ft=xe.running;ft&&xe.stop(),await be.onReady(),ft&&xe.start(),Be(Te)}),[Q,xe,be]),m.useEffect(()=>Q==null?void 0:Q.onAnkiDialogRequest(()=>j()),[Q,j]),m.useEffect(()=>Q==null?void 0:Q.onToggleSubtitleTrackInList(Te=>te(ft=>{const ve={...ft};return ve[Te]=!ft[Te],ve})),[Q]),m.useEffect(()=>Q==null?void 0:Q.onLoadFiles(()=>K==null?void 0:K()),[Q,K]);function jt(Te,ft,ve){Te.start(),ve&&ft.play()}function Ze(Te,ft,ve){Te.stop(),ve&&ft.pause()}m.useEffect(()=>k.onEvent("stopped-mining",()=>{switch(i.postMiningPlaybackState){case An.play:jt(xe,be,!0);break;case An.pause:Ze(xe,be,!0);break;case An.remember:Z&&jt(xe,be,!0);break}}),[k,i,Z,xe,be]),m.useEffect(()=>k.onEvent("started-mining",()=>{xe.running?(Ze(xe,be,!0),ie(!0)):ie(!1)}),[k,xe,be]),m.useEffect(()=>{if(W!==sr.condensed||!r||r.length===0)return;let Te=!1,ft=1e3;const ve=setInterval(async()=>{const kt=xe.time(Ue()),lt=fe.subtitlesAt(kt);if(lt.nextToShow&&lt.nextToShow.length>0){const Kt=lt.nextToShow[0];if(Kt.start-kt<ft+500)return;const Jt=xe.running;if(Jt&&xe.stop(),!Te){Te=!0;const Pt=Date.now();await ct(Kt.start,xe,!0),ft=Date.now()-Pt,Te=!1}Jt&&xe.start()}},100);return()=>clearInterval(ve)},[r,fe,W,xe,ct]),m.useEffect(()=>{if(W!==sr.fastForward||!r||r.length===0)return;const Te=setInterval(async()=>{const ft=xe.time(Ue()),ve=fe.subtitlesAt(ft);ve.showing.length===0&&(ve.nextToShow===void 0||ve.nextToShow.length>0&&ve.nextToShow[0].start-ft>1e3)?Ce(i.fastForwardModePlaybackRate,!0):Ce(1,!0)},100);return()=>clearInterval(Te)},[Ce,fe,xe,r,W,i.fastForwardModePlaybackRate]),m.useEffect(()=>{v&&he&&tt&&window.open(C+"?video="+encodeURIComponent(he)+"&channel="+tt+"&popout=true","asbplayer-video-"+he,"resizable,width=800,height=450"),gt(Date.now())},[v,tt,he,c,h,C]);const wt=m.useCallback(()=>jt(xe,be,!0),[xe,be]),Nt=m.useCallback(()=>Ze(xe,be,!0),[xe,be]),lr=m.useCallback(async Te=>{const ft=xe.running;ft&&xe.stop(),await ct(Te*Ue(),xe,!0),ft&&xe.start()},[xe,ct]),pr=m.useCallback(async(Te,ft)=>{ft||Ze(xe,be,!0),await ct(Te,xe,!0),ft&&!xe.running&&jt(xe,be,!0)},[xe,ct,be]),wr=m.useCallback(async(Te,ft,ve,kt,lt)=>{var Kt;he?kt?Q==null||Q.copy(ve,Te,ft,lt):Q==null||Q.copy(ve):T({subtitle:Te,surroundingSubtitles:ft,subtitleFileName:((Kt=le==null?void 0:le[Te.track])==null?void 0:Kt.name)??"",mediaTimestamp:xe.time(Ue()),file:pe===void 0?void 0:{name:pe.name,audioTrack:mt,playbackRate:ht,blobUrl:Kv(pe)},...lt},ve,void 0)},[Q,T,xe,pe,he,le,mt,ht]),Br=m.useCallback(Te=>{me.current.x=Te.screenX,me.current.y=Te.screenY},[]),_r=m.useCallback(async Te=>{Q==null||Q.audioTrackSelected(Te),Ze(xe,be,!0),await ct(0,xe,!0),xe.running&&jt(xe,be,!0)},[Q,xe,be,ct]),yr=m.useCallback(Te=>{const ft=Ue();Ot(Math.max(-ft||0,Te),!0)},[Ot]),br=m.useCallback(Te=>{Ce(Te,!0)},[Ce]),mr=m.useCallback(Te=>X(Te),[]),Rr=m.useCallback(Te=>te(ft=>{const ve={...ft};return ve[Te]=!ft[Te],ve}),[]),Pr=m.useCallback(Te=>{Te.length===0||!i.autoCopyCurrentSubtitle||!document.hasFocus()||navigator.clipboard.writeText(Te.map(ft=>ft.text).join(`
`)).catch(ft=>{})},[i.autoCopyCurrentSubtitle]);m.useEffect(()=>{if(S)return;const Te=setInterval(async()=>{xe.progress(Ue())>=1&&(Ze(xe,be,!0),await ct(0,xe,!0),gt(Date.now()))},1e3);return()=>clearInterval(Te)},[xe,be,ct,S]),m.useEffect(()=>{const Te=s.bindPlay(ft=>{ft.preventDefault(),xe.running?Ze(xe,be,!0):jt(xe,be,!0)},()=>U);return()=>Te()},[s,xe,be,U]),m.useEffect(()=>s.bindAdjustPlaybackRate((Te,ft)=>{Te.preventDefault(),Ce(ft?Math.min(5,ht+.1):Math.max(.1,ht-.1),!0)},()=>U),[Ce,ht,U,s]);const vr=m.useCallback((Te,ft)=>{if(!ke)return;Te.preventDefault();const ve=W===ft?sr.normal:ft;X(ve),I(W,ve),Q==null||Q.playMode(ve),W===sr.fastForward&&Ce(1,!0)},[Q,W,ke,I,Ce]);m.useEffect(()=>s.bindAutoPause(Te=>vr(Te,sr.autoPause),()=>U),[vr,s,U]),m.useEffect(()=>s.bindCondensedPlayback(Te=>vr(Te,sr.condensed),()=>U),[vr,s,U]),m.useEffect(()=>s.bindFastForwardPlayback(Te=>vr(Te,sr.fastForward),()=>U),[vr,s,U]),m.useEffect(()=>s.bindToggleRepeat(Te=>{const ft=Ue(),ve=xe.time(ft);fe.subtitlesAt(ve).showing.length>0&&vr(Te,sr.repeat)},()=>U),[s,U,vr,fe,xe]),m.useEffect(()=>Q==null?void 0:Q.appBarToggle(g),[Q,g]),m.useEffect(()=>Q==null?void 0:Q.fullscreenToggle(y),[Q,y]),m.useEffect(()=>{(B==null?void 0:B.start)!==void 0&&(Ze(xe,be,!0),ct(B.start,xe,!0))},[xe,B==null?void 0:B.start,be,ct]);const[jr]=x0(!0),Hr=he||r,$r=!!(Hr&&he&&!v),ur=Math.max(0,jr-HC),Sr=ur<tR,Lr=$r&&(b||!r||(r==null?void 0:r.length)===0||Sr);return E.jsx("div",{onMouseMove:Br,className:ot.root,children:E.jsxs(Mt,{container:!0,direction:"row",wrap:"nowrap",className:ot.container,children:[$r&&E.jsx(Mt,{item:!0,style:{flexGrow:1,minWidth:HC},children:E.jsx("iframe",{ref:c,className:ot.videoFrame,style:{pointerEvents:Re?"none":"auto"},src:C+"?video="+encodeURIComponent(he)+"&channel="+tt+"&popout=false",title:"asbplayer"})}),E.jsxs(Mt,{item:!0,hidden:Lr,style:{flexGrow:$r?0:1,width:"auto"},children:[Hr&&!(he&&!v)&&!H&&E.jsx(YT,{mousePositionRef:me,clock:xe,length:Ue(),displayLength:Ev(Q,r,!1),audioTracks:Ie,selectedAudioTrack:mt,tabs:!he&&x||void 0,selectedTab:S,videoFile:pe==null?void 0:pe.name,offsetEnabled:!0,offset:Ge,playbackRate:ht,playbackRateEnabled:!S||u.supportsPlaybackRateMessage,onPlaybackRateChange:br,playModeEnabled:ke,playMode:W,onPlay:wt,onPause:Nt,onSeek:lr,onAudioTrackSelected:_r,onTabSelected:D,onUnloadVideo:()=>he&&_(he),onOffsetChange:yr,onPlayMode:mr,disableKeyEvents:U,playbackPreferences:a,showOnMouseMovement:!0}),E.jsx(r9,{subtitles:r,subtitleCollection:fe,clock:xe,extension:u,length:Ue(),jumpToSubtitle:G,drawerOpen:f,appBarHidden:g,compressed:$r||(N??!1),resizable:$r,showCopyButton:p,loading:et,displayHelp:v&&(pe==null?void 0:pe.name)||void 0,disableKeyEvents:U,disableMiningBinds:u.supportsVideoPlayerMiningCommands&&pe!==void 0,lastJumpToTopTimestamp:De,hidden:Lr,disabledSubtitleTracks:se,onSeek:pr,onCopy:wr,onOffsetChange:yr,onToggleSubtitleTrack:Rr,onSubtitlesHighlighted:Pr,onResizeStart:_t,onResizeEnd:Vt,maxResizeWidth:ur,autoPauseContext:gr,settings:i,keyBinder:s,webSocketClient:L})]})]})})});var a9=u0(ta(Z2,J2,f_,E_,M_,T_,j_,q_,xp,tP)),np=ej("div")(a9,{name:"MuiBox"}),Nu={},UC;function o9(){if(UC)return Nu;UC=1;var t=Wt(),e=Qt();Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");return Nu.default=i,Nu}var s9=o9();const rR=zt(s9);var Fu={},KC;function l9(){if(KC)return Fu;KC=1;var t=Wt(),e=Qt();Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");return Fu.default=i,Fu}var u9=l9();const c9=zt(u9);var Mu={},GC;function d9(){if(GC)return Mu;GC=1;var t=Wt(),e=Qt();Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");return Mu.default=i,Mu}var f9=d9();const nR=zt(f9);var ju={},XC;function p9(){if(XC)return ju;XC=1;var t=Wt(),e=Qt();Object.defineProperty(ju,"__esModule",{value:!0}),ju.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");return ju.default=i,ju}var h9=p9();const wy=zt(h9);var $u={},YC;function g9(){if(YC)return $u;YC=1;var t=Wt(),e=Qt();Object.defineProperty($u,"__esModule",{value:!0}),$u.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");return $u.default=i,$u}var m9=g9();const ZC=zt(m9);var Lu={},JC;function v9(){if(JC)return Lu;JC=1;var t=Wt(),e=Qt();Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");return Lu.default=i,Lu}var y9=v9();const b9=zt(y9);var x9={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},w9=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.row,s=a===void 0?!1:a,u=Qe(e,["classes","className","row"]);return m.createElement("div",re({className:Le(n.root,i,s&&n.row),ref:r},u))});const Ki=Rt(x9,{name:"MuiFormGroup"})(w9);var S9=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},k9=m.forwardRef(function(e,r){e.checked;var n=e.classes,i=e.className,a=e.control,s=e.disabled;e.inputRef;var u=e.label,c=e.labelPlacement,h=c===void 0?"end":c;e.name,e.onChange,e.value;var f=Qe(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),g=Vo(),p=s;typeof p>"u"&&typeof a.props.disabled<"u"&&(p=a.props.disabled),typeof p>"u"&&g&&(p=g.disabled);var y={disabled:p};return["checked","name","onChange","value","inputRef"].forEach(function(b){typeof a.props[b]>"u"&&typeof e[b]<"u"&&(y[b]=e[b])}),m.createElement("label",re({className:Le(n.root,i,h!=="end"&&n["labelPlacement".concat(Yt(h))],p&&n.disabled),ref:r},f),m.cloneElement(a,y),m.createElement(un,{component:"span",className:Le(n.label,p&&n.disabled)},u))});const C9=Rt(S9,{name:"MuiFormControlLabel"})(k9);var Du={},QC;function E9(){if(QC)return Du;QC=1;var t=Wt();Object.defineProperty(Du,"__esModule",{value:!0}),Du.default=void 0;var e=t(Js()),r=HP,n=t(KP()),i=function(u){var c=(0,r.styled)(u);return function(h,f){return c(h,(0,e.default)({defaultTheme:n.default},f))}},a=i;return Du.default=a,Du}var _9=E9();const P9=zt(_9),Cr=P9(C9)(({theme:t})=>({"&:hover .MuiSwitch-thumb":{outline:`9px solid ${t.palette.secondary.main}29`},"&:hover .MuiRadio-colorSecondary":{background:`${t.palette.secondary.main}29`}}));var T9={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},R9=m.forwardRef(function(e,r){var n=e.autoFocus,i=e.checked,a=e.checkedIcon,s=e.classes,u=e.className,c=e.defaultChecked,h=e.disabled,f=e.icon,g=e.id,p=e.inputProps,y=e.inputRef,b=e.name,v=e.onBlur,S=e.onChange,x=e.onFocus,k=e.readOnly,C=e.required,R=e.tabIndex,_=e.type,T=e.value,O=Qe(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),D=wa({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),j=Ni(D,2),F=j[0],M=j[1],z=Vo(),I=function(H){x&&x(H),z&&z.onFocus&&z.onFocus(H)},$=function(H){v&&v(H),z&&z.onBlur&&z.onBlur(H)},K=function(H){var N=H.target.checked;M(N),S&&S(H,N)},U=h;z&&typeof U>"u"&&(U=z.disabled);var G=_==="checkbox"||_==="radio";return m.createElement(Bt,re({component:"span",className:Le(s.root,u,F&&s.checked,U&&s.disabled),disabled:U,tabIndex:null,role:void 0,onFocus:I,onBlur:$,ref:r},O),m.createElement("input",re({autoFocus:n,checked:i,defaultChecked:c,className:s.input,disabled:U,id:G&&g,name:b,onChange:K,readOnly:k,ref:y,required:C,tabIndex:R,type:_,value:T},p)),F?a:f)});const iR=Rt(T9,{name:"PrivateSwitchBase"})(R9),O9=yi(m.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),A9=yi(m.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}));var I9=function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}};function N9(t){var e=t.checked,r=t.classes,n=t.fontSize;return m.createElement("div",{className:Le(r.root,e&&r.checked)},m.createElement(O9,{fontSize:n}),m.createElement(A9,{fontSize:n,className:r.layer}))}const aR=Rt(I9,{name:"PrivateRadioButtonIcon"})(N9);var oR=m.createContext();function F9(){return m.useContext(oR)}var M9=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},j9=m.createElement(aR,{checked:!0}),$9=m.createElement(aR,null),L9=m.forwardRef(function(e,r){var n=e.checked,i=e.classes,a=e.color,s=a===void 0?"secondary":a,u=e.name,c=e.onChange,h=e.size,f=h===void 0?"medium":h,g=Qe(e,["checked","classes","color","name","onChange","size"]),p=F9(),y=n,b=jo(c,p&&p.onChange),v=u;return p&&(typeof y>"u"&&(y=p.value===e.value),typeof v>"u"&&(v=p.name)),m.createElement(iR,re({color:s,type:"radio",icon:m.cloneElement($9,{fontSize:f==="small"?"small":"medium"}),checkedIcon:m.cloneElement(j9,{fontSize:f==="small"?"small":"medium"}),classes:{root:Le(i.root,i["color".concat(Yt(s))]),checked:i.checked,disabled:i.disabled},name:v,checked:y,onChange:b,ref:r},g))});const Bn=Rt(M9,{name:"MuiRadio"})(L9);var Bu={},eE;function D9(){if(eE)return Bu;eE=1;var t=Wt(),e=Qt();Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");return Bu.default=i,Bu}var B9=D9();const tE=zt(B9);var zu={},rE;function z9(){if(rE)return zu;rE=1;var t=Wt(),e=Qt();Object.defineProperty(zu,"__esModule",{value:!0}),zu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");return zu.default=i,zu}var V9=z9();const W9=zt(V9);var Vu={},nE;function q9(){if(nE)return Vu;nE=1;var t=Wt(),e=Qt();Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");return Vu.default=i,Vu}var H9=q9();const U9=zt(H9);var Wu={},iE;function K9(){if(iE)return Wu;iE=1;var t=Wt(),e=Qt();Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");return Wu.default=i,Wu}var G9=K9();const X9=zt(G9);var qu={},aE;function Y9(){if(aE)return qu;aE=1;var t=Wt(),e=Qt();Object.defineProperty(qu,"__esModule",{value:!0}),qu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");return qu.default=i,qu}var Z9=Y9();const J9=zt(Z9),_v=typeof queryLocalFonts=="function",Q9=()=>{const[t,e]=m.useState([]),[r,n]=m.useState(),i=m.useCallback(()=>{_v&&navigator.permissions.query({name:"local-fonts"}).then(s=>n(s.state))},[]),a=m.useCallback(()=>{_v&&queryLocalFonts().then(s=>{const u={};for(const c of s)u[c.family]=!0;e(Object.keys(u))}).catch(console.error)},[]);return m.useEffect(()=>{i()},[i]),m.useEffect(()=>{a()},[a]),{updateLocalFontsPermission:i,updateLocalFonts:a,localFontsAvailable:_v,localFontsPermission:r,localFontFamilies:t}},e8=(t,e)=>{m.useEffect(()=>{const r=n=>{var i;(i=t.current)!=null&&i.contains(n.target)||e(n)};return window.document.addEventListener("click",r),()=>window.document.removeEventListener("click",r)},[t,e])};var Pv=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Tv(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),function(){r(window.event)})}function sR(t,e){for(var r=e.slice(0,e.length-1),n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function lR(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),r=e.lastIndexOf("");r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function t8(t,e){for(var r=t.length>=e.length?t:e,n=t.length>=e.length?e:t,i=!0,a=0;a<r.length;a++)n.indexOf(r[a])===-1&&(i=!1);return i}var Ec={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Pv?173:189,"=":Pv?61:187,";":Pv?59:186,"'":222,"[":219,"]":221,"\\":220},Qi={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Sy={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},In={16:!1,18:!1,17:!1,91:!1},gn={};for(var yf=1;yf<20;yf++)Ec["f".concat(yf)]=111+yf;var Yr=[],oE=!1,uR="all",cR=[],Lp=function(e){return Ec[e.toLowerCase()]||Qi[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},r8=function(e){return Object.keys(Ec).find(function(r){return Ec[r]===e})},n8=function(e){return Object.keys(Qi).find(function(r){return Qi[r]===e})};function dR(t){uR=t||"all"}function _c(){return uR||"all"}function i8(){return Yr.slice(0)}function a8(){return Yr.map(function(t){return r8(t)||n8(t)||String.fromCharCode(t)})}function o8(t){var e=t.target||t.srcElement,r=e.tagName,n=!0;return(e.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(n=!1),n}function s8(t){return typeof t=="string"&&(t=Lp(t)),Yr.indexOf(t)!==-1}function l8(t,e){var r,n;t||(t=_c());for(var i in gn)if(Object.prototype.hasOwnProperty.call(gn,i))for(r=gn[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1):n++;_c()===t&&dR(e||"all")}function u8(t){var e=t.keyCode||t.which||t.charCode,r=Yr.indexOf(e);if(r>=0&&Yr.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&Yr.splice(0,Yr.length),(e===93||e===224)&&(e=91),e in In){In[e]=!1;for(var n in Qi)Qi[n]===e&&(gi[n]=!1)}}function c8(t){if(typeof t>"u")Object.keys(gn).forEach(function(s){return delete gn[s]});else if(Array.isArray(t))t.forEach(function(s){s.key&&Rv(s)});else if(typeof t=="object")t.key&&Rv(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r[0],a=r[1];typeof i=="function"&&(a=i,i=""),Rv({key:t,scope:i,method:a,splitKey:"+"})}}var Rv=function(e){var r=e.key,n=e.scope,i=e.method,a=e.splitKey,s=a===void 0?"+":a,u=lR(r);u.forEach(function(c){var h=c.split(s),f=h.length,g=h[f-1],p=g==="*"?"*":Lp(g);if(gn[p]){n||(n=_c());var y=f>1?sR(Qi,h):[];gn[p]=gn[p].filter(function(b){var v=i?b.method===i:!0;return!(v&&b.scope===n&&t8(b.mods,y))})}})};function sE(t,e,r,n){if(e.element===n){var i;if(e.scope===r||e.scope==="all"){i=e.mods.length>0;for(var a in In)Object.prototype.hasOwnProperty.call(In,a)&&(!In[a]&&e.mods.indexOf(+a)>-1||In[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!In[16]&&!In[18]&&!In[17]&&!In[91]||i||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}}function lE(t,e){var r=gn["*"],n=t.keyCode||t.which||t.charCode;if(gi.filter.call(this,t)){if((n===93||n===224)&&(n=91),Yr.indexOf(n)===-1&&n!==229&&Yr.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var v=Sy[b];t[b]&&Yr.indexOf(v)===-1?Yr.push(v):!t[b]&&Yr.indexOf(v)>-1?Yr.splice(Yr.indexOf(v),1):b==="metaKey"&&t[b]&&Yr.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(Yr=Yr.slice(Yr.indexOf(v))))}),n in In){In[n]=!0;for(var i in Qi)Qi[i]===n&&(gi[i]=!0);if(!r)return}for(var a in In)Object.prototype.hasOwnProperty.call(In,a)&&(In[a]=t[Sy[a]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(Yr.indexOf(17)===-1&&Yr.push(17),Yr.indexOf(18)===-1&&Yr.push(18),In[17]=!0,In[18]=!0);var s=_c();if(r)for(var u=0;u<r.length;u++)r[u].scope===s&&(t.type==="keydown"&&r[u].keydown||t.type==="keyup"&&r[u].keyup)&&sE(t,r[u],s,e);if(n in gn){for(var c=0;c<gn[n].length;c++)if((t.type==="keydown"&&gn[n][c].keydown||t.type==="keyup"&&gn[n][c].keyup)&&gn[n][c].key){for(var h=gn[n][c],f=h.splitKey,g=h.key.split(f),p=[],y=0;y<g.length;y++)p.push(Lp(g[y]));p.sort().join("")===Yr.sort().join("")&&sE(t,h,s,e)}}}}function d8(t){return cR.indexOf(t)>-1}function gi(t,e,r){Yr=[];var n=lR(t),i=[],a="all",s=document,u=0,c=!1,h=!0,f="+",g=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(s=e.element),e.keyup&&(c=e.keyup),e.keydown!==void 0&&(h=e.keydown),e.capture!==void 0&&(g=e.capture),typeof e.splitKey=="string"&&(f=e.splitKey)),typeof e=="string"&&(a=e);u<n.length;u++)t=n[u].split(f),i=[],t.length>1&&(i=sR(Qi,t)),t=t[t.length-1],t=t==="*"?"*":Lp(t),t in gn||(gn[t]=[]),gn[t].push({keyup:c,keydown:h,scope:a,mods:i,shortcut:n[u],method:r,key:n[u],splitKey:f,element:s});typeof s<"u"&&!d8(s)&&window&&(cR.push(s),Tv(s,"keydown",function(p){lE(p,s)},g),oE||(oE=!0,Tv(window,"focus",function(){Yr=[]},g)),Tv(s,"keyup",function(p){lE(p,s),u8(p)},g))}function f8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(gn).forEach(function(r){var n=gn[r].find(function(i){return i.scope===e&&i.shortcut===t});n&&n.method&&n.method()})}var Ov={getPressedKeyString:a8,setScope:dR,getScope:_c,deleteScope:l8,getPressedKeyCodes:i8,isPressed:s8,filter:o8,trigger:f8,unbind:c8,keyMap:Ec,modifier:Qi,modifierMap:Sy};for(var Av in Ov)Object.prototype.hasOwnProperty.call(Ov,Av)&&(gi[Av]=Ov[Av]);if(typeof window<"u"){var p8=window.hotkeys;gi.noConflict=function(t){return t&&window.hotkeys===gi&&(window.hotkeys=p8),gi},window.hotkeys=gi}var h8=function(e){return{root:{display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:e.palette.type==="light"?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:e.palette.type==="light"?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white,opacity:e.palette.type==="light"?.38:.3}}},g8=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=a===void 0?"secondary":a,u=e.edge,c=u===void 0?!1:u,h=e.size,f=h===void 0?"medium":h,g=Qe(e,["classes","className","color","edge","size"]),p=m.createElement("span",{className:n.thumb});return m.createElement("span",{className:Le(n.root,i,{start:n.edgeStart,end:n.edgeEnd}[c],f==="small"&&n["size".concat(Yt(f))])},m.createElement(iR,re({type:"checkbox",icon:p,checkedIcon:p,classes:{root:Le(n.switchBase,n["color".concat(Yt(s))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:r},g)),m.createElement("span",{className:n.track}))});const En=Rt(h8,{name:"MuiSwitch"})(g8);var ws=m.forwardRef(function(e,r){var n=e.actions,i=e.children,a=e.name,s=e.value,u=e.onChange,c=Qe(e,["actions","children","name","value","onChange"]),h=m.useRef(null),f=wa({controlled:s,default:e.defaultValue,name:"RadioGroup"}),g=Ni(f,2),p=g[0],y=g[1];m.useImperativeHandle(n,function(){return{focus:function(){var k=h.current.querySelector("input:not(:disabled):checked");k||(k=h.current.querySelector("input:not(:disabled)")),k&&k.focus()}}},[]);var b=Fr(r,h),v=function(k){y(k.target.value),u&&u(k,k.target.value)},S=Pp(a);return m.createElement(oR.Provider,{value:{name:S,onChange:v,value:p}},m.createElement(Ki,re({role:"radiogroup",ref:b},c),i))}),m8=function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}},v8=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=a===void 0?"default":a,u=e.component,c=u===void 0?"li":u,h=e.disableGutters,f=h===void 0?!1:h,g=e.disableSticky,p=g===void 0?!1:g,y=e.inset,b=y===void 0?!1:y,v=Qe(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return m.createElement(c,re({className:Le(n.root,i,s!=="default"&&n["color".concat(Yt(s))],b&&n.inset,!p&&n.sticky,!f&&n.gutters),ref:r},v))});const y8=Rt(m8,{name:"MuiListSubheader"})(v8),b8=yi(m.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));var x8=function(e){var r=e.palette.type==="light"?e.palette.grey[300]:e.palette.grey[700],n=Tr(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(r),backgroundColor:r,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:hs(r,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:hs(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:hs(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:hs(r,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:hs(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:hs(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Tr(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Tr(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Tr(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Tr(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Tr(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Tr(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Tr(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Tr(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}};function uE(t){return t.key==="Backspace"||t.key==="Delete"}var w8=m.forwardRef(function(e,r){var n=e.avatar,i=e.classes,a=e.className,s=e.clickable,u=e.color,c=u===void 0?"default":u,h=e.component,f=e.deleteIcon,g=e.disabled,p=g===void 0?!1:g,y=e.icon,b=e.label,v=e.onClick,S=e.onDelete,x=e.onKeyDown,k=e.onKeyUp,C=e.size,R=C===void 0?"medium":C,_=e.variant,T=_===void 0?"default":_,O=Qe(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),D=m.useRef(null),j=Fr(D,r),F=function(W){W.stopPropagation(),S&&S(W)},M=function(W){W.currentTarget===W.target&&uE(W)&&W.preventDefault(),x&&x(W)},z=function(W){W.currentTarget===W.target&&(S&&uE(W)?S(W):W.key==="Escape"&&D.current&&D.current.blur()),k&&k(W)},I=s!==!1&&v?!0:s,$=R==="small",K=h||(I?Lo:"div"),U=K===Lo?{component:"div"}:{},G=null;if(S){var B=Le(c!=="default"&&(T==="default"?i["deleteIconColor".concat(Yt(c))]:i["deleteIconOutlinedColor".concat(Yt(c))]),$&&i.deleteIconSmall);G=f&&m.isValidElement(f)?m.cloneElement(f,{className:Le(f.props.className,i.deleteIcon,B),onClick:F}):m.createElement(b8,{className:Le(i.deleteIcon,B),onClick:F})}var H=null;n&&m.isValidElement(n)&&(H=m.cloneElement(n,{className:Le(i.avatar,n.props.className,$&&i.avatarSmall,c!=="default"&&i["avatarColor".concat(Yt(c))])}));var N=null;return y&&m.isValidElement(y)&&(N=m.cloneElement(y,{className:Le(i.icon,y.props.className,$&&i.iconSmall,c!=="default"&&i["iconColor".concat(Yt(c))])})),m.createElement(K,re({role:I||S?"button":void 0,className:Le(i.root,a,c!=="default"&&[i["color".concat(Yt(c))],I&&i["clickableColor".concat(Yt(c))],S&&i["deletableColor".concat(Yt(c))]],T!=="default"&&[i.outlined,{primary:i.outlinedPrimary,secondary:i.outlinedSecondary}[c]],p&&i.disabled,$&&i.sizeSmall,I&&i.clickable,S&&i.deletable),"aria-disabled":p?!0:void 0,tabIndex:I||S?0:void 0,onClick:v,onKeyDown:M,onKeyUp:z,ref:j},U,O),H||N,m.createElement("span",{className:Le(i.label,$&&i.labelSmall)},b),G)});const S8=Rt(x8,{name:"MuiChip"})(w8),k8=yi(m.createElement("path",{d:"M7 10l5 5 5-5z"}));function cE(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function C8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.ignoreAccents,r=e===void 0?!0:e,n=t.ignoreCase,i=n===void 0?!0:n,a=t.limit,s=t.matchFrom,u=s===void 0?"any":s,c=t.stringify,h=t.trim,f=h===void 0?!1:h;return function(g,p){var y=p.inputValue,b=p.getOptionLabel,v=f?y.trim():y;i&&(v=v.toLowerCase()),r&&(v=cE(v));var S=g.filter(function(x){var k=(c||b)(x);return i&&(k=k.toLowerCase()),r&&(k=cE(k)),u==="start"?k.indexOf(v)===0:k.indexOf(v)>-1});return typeof a=="number"?S.slice(0,a):S}}function Iv(t,e){for(var r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}var E8=C8(),_8=5;function P8(t){var e=t.autoComplete,r=e===void 0?!1:e,n=t.autoHighlight,i=n===void 0?!1:n,a=t.autoSelect,s=a===void 0?!1:a,u=t.blurOnSelect,c=u===void 0?!1:u,h=t.clearOnBlur,f=h===void 0?!t.freeSolo:h,g=t.clearOnEscape,p=g===void 0?!1:g,y=t.componentName,b=y===void 0?"useAutocomplete":y,v=t.debug,S=v===void 0?!1:v,x=t.defaultValue,k=x===void 0?t.multiple?[]:null:x,C=t.disableClearable,R=C===void 0?!1:C,_=t.disableCloseOnSelect,T=_===void 0?!1:_,O=t.disabledItemsFocusable,D=O===void 0?!1:O,j=t.disableListWrap,F=j===void 0?!1:j,M=t.filterOptions,z=M===void 0?E8:M,I=t.filterSelectedOptions,$=I===void 0?!1:I,K=t.freeSolo,U=K===void 0?!1:K,G=t.getOptionDisabled,B=t.getOptionLabel,H=B===void 0?function(pt){return pt}:B,N=t.getOptionSelected,L=N===void 0?function(pt,Ke){return pt===Ke}:N,W=t.groupBy,X=t.handleHomeEndKeys,Y=X===void 0?!t.freeSolo:X,ce=t.id,ee=t.includeInputInList,fe=ee===void 0?!1:ee,le=t.inputValue,de=t.multiple,pe=de===void 0?!1:de,he=t.onChange,ke=t.onClose,Re=t.onHighlightChange,_e=t.onInputChange,et=t.onOpen,Me=t.open,De=t.openOnFocus,gt=De===void 0?!1:De,Ge=t.options,yt=t.selectOnFocus,ht=yt===void 0?!t.freeSolo:yt,Oe=t.value,Ie=Pp(ce),We=H,mt=m.useRef(!1),Be=m.useRef(!0),tt=m.useRef(null),Pe=m.useRef(null),Q=m.useState(null),Et=Q[0],Tt=Q[1],st=m.useState(-1),Z=st[0],ie=st[1],rt=i?0:-1,se=m.useRef(rt),te=wa({controlled:Oe,default:k,name:b}),me=Ni(te,2),be=me[0],xe=me[1],ze=wa({controlled:le,default:"",name:b,state:"inputValue"}),ot=Ni(ze,2),Ue=ot[0],ct=ot[1],_t=m.useState(!1),Vt=_t[0],He=_t[1],Zt=Zr(function(pt,Ke){var Ae;if(pe)Ae="";else if(Ke==null)Ae="";else{var bt=We(Ke);Ae=typeof bt=="string"?bt:""}Ue!==Ae&&(ct(Ae),_e&&_e(pt,Ae,"reset"))});m.useEffect(function(){Zt(null,be)},[be,Zt]);var gr=wa({controlled:Me,default:!1,name:b,state:"open"}),Xe=Ni(gr,2),Ce=Xe[0],Ot=Xe[1],jt=!pe&&be!=null&&Ue===We(be),Ze=Ce,wt=Ze?z(Ge.filter(function(pt){return!($&&(pe?be:[be]).some(function(Ke){return Ke!==null&&L(pt,Ke)}))}),{inputValue:jt?"":Ue,getOptionLabel:We}):[],Nt=Zr(function(pt){pt===-1?tt.current.focus():Et.querySelector('[data-tag-index="'.concat(pt,'"]')).focus()});m.useEffect(function(){pe&&Z>be.length-1&&(ie(-1),Nt(-1))},[be,pe,Z,Nt]);function lr(pt,Ke){if(!Pe.current||pt===-1)return-1;for(var Ae=pt;;){if(Ke==="next"&&Ae===wt.length||Ke==="previous"&&Ae===-1)return-1;var bt=Pe.current.querySelector('[data-option-index="'.concat(Ae,'"]')),Ir=D?!1:bt&&(bt.disabled||bt.getAttribute("aria-disabled")==="true");if(bt&&!bt.hasAttribute("tabindex")||Ir)Ae+=Ke==="next"?1:-1;else return Ae}}var pr=Zr(function(pt){var Ke=pt.event,Ae=pt.index,bt=pt.reason,Ir=bt===void 0?"auto":bt;if(se.current=Ae,Ae===-1?tt.current.removeAttribute("aria-activedescendant"):tt.current.setAttribute("aria-activedescendant","".concat(Ie,"-option-").concat(Ae)),Re&&Re(Ke,Ae===-1?null:wt[Ae],Ir),!!Pe.current){var zr=Pe.current.querySelector("[data-focus]");zr&&zr.removeAttribute("data-focus");var ir=Pe.current.parentElement.querySelector('[role="listbox"]');if(ir){if(Ae===-1){ir.scrollTop=0;return}var Ar=Pe.current.querySelector('[data-option-index="'.concat(Ae,'"]'));if(Ar&&(Ar.setAttribute("data-focus","true"),ir.scrollHeight>ir.clientHeight&&Ir!=="mouse")){var Vr=Ar,sn=ir.clientHeight+ir.scrollTop,Se=Vr.offsetTop+Vr.offsetHeight;Se>sn?ir.scrollTop=Se-ir.clientHeight:Vr.offsetTop-Vr.offsetHeight*(W?1.3:0)<ir.scrollTop&&(ir.scrollTop=Vr.offsetTop-Vr.offsetHeight*(W?1.3:0))}}}}),wr=Zr(function(pt){var Ke=pt.event,Ae=pt.diff,bt=pt.direction,Ir=bt===void 0?"next":bt,zr=pt.reason,ir=zr===void 0?"auto":zr;if(Ze){var Ar=function(){var nt=wt.length-1;if(Ae==="reset")return rt;if(Ae==="start")return 0;if(Ae==="end")return nt;var $t=se.current+Ae;return $t<0?$t===-1&&fe?-1:F&&se.current!==-1||Math.abs(Ae)>1?0:nt:$t>nt?$t===nt+1&&fe?-1:F||Math.abs(Ae)>1?nt:0:$t},Vr=lr(Ar(),Ir);if(pr({index:Vr,reason:ir,event:Ke}),r&&Ae!=="reset")if(Vr===-1)tt.current.value=Ue;else{var sn=We(wt[Vr]);tt.current.value=sn;var Se=sn.toLowerCase().indexOf(Ue.toLowerCase());Se===0&&Ue.length>0&&tt.current.setSelectionRange(Ue.length,sn.length)}}}),Br=m.useCallback(function(){if(Ze){var pt=pe?be[0]:be;if(wt.length===0||pt==null){wr({diff:"reset"});return}if(Pe.current){if(!$&&pt!=null){var Ke=wt[se.current];if(pe&&Ke&&Iv(be,function(bt){return L(Ke,bt)})!==-1)return;var Ae=Iv(wt,function(bt){return L(bt,pt)});Ae===-1?wr({diff:"reset"}):pr({index:Ae});return}if(se.current>=wt.length-1){pr({index:wt.length-1});return}pr({index:se.current})}}},[wt.length===0,pe?!1:be,$,wr,pr,Ze,Ue,pe]),_r=Zr(function(pt){Ea(Pe,pt),pt&&Br()});m.useEffect(function(){Br()},[Br]);var yr=function(Ke){Ce||(Ot(!0),et&&et(Ke))},br=function(Ke,Ae){Ce&&(Ot(!1),ke&&ke(Ke,Ae))},mr=function(Ke,Ae,bt,Ir){be!==Ae&&(he&&he(Ke,Ae,bt,Ir),xe(Ae))},Rr=m.useRef(!1),Pr=function(Ke,Ae){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"select-option",Ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"options",zr=bt,ir=Ae;if(pe){ir=Array.isArray(be)?be.slice():[];var Ar=Iv(ir,function(Vr){return L(Ae,Vr)});Ar===-1?ir.push(Ae):Ir!=="freeSolo"&&(ir.splice(Ar,1),zr="remove-option")}Zt(Ke,ir),mr(Ke,ir,zr,{option:Ae}),T||br(Ke,zr),(c===!0||c==="touch"&&Rr.current||c==="mouse"&&!Rr.current)&&tt.current.blur()};function vr(pt,Ke){if(pt===-1)return-1;for(var Ae=pt;;){if(Ke==="next"&&Ae===be.length||Ke==="previous"&&Ae===-1)return-1;var bt=Et.querySelector('[data-tag-index="'.concat(Ae,'"]'));if(bt&&(!bt.hasAttribute("tabindex")||bt.disabled||bt.getAttribute("aria-disabled")==="true"))Ae+=Ke==="next"?1:-1;else return Ae}}var jr=function(Ke,Ae){if(pe){br(Ke,"toggleInput");var bt=Z;Z===-1?Ue===""&&Ae==="previous"&&(bt=be.length-1):(bt+=Ae==="next"?1:-1,bt<0&&(bt=0),bt===be.length&&(bt=-1)),bt=vr(bt,Ae),ie(bt),Nt(bt)}},Hr=function(Ke){mt.current=!0,ct(""),_e&&_e(Ke,"","clear"),mr(Ke,pe?[]:null,"clear")},$r=function(Ke){return function(Ae){switch(Z!==-1&&["ArrowLeft","ArrowRight"].indexOf(Ae.key)===-1&&(ie(-1),Nt(-1)),Ae.key){case"Home":Ze&&Y&&(Ae.preventDefault(),wr({diff:"start",direction:"next",reason:"keyboard",event:Ae}));break;case"End":Ze&&Y&&(Ae.preventDefault(),wr({diff:"end",direction:"previous",reason:"keyboard",event:Ae}));break;case"PageUp":Ae.preventDefault(),wr({diff:-5,direction:"previous",reason:"keyboard",event:Ae}),yr(Ae);break;case"PageDown":Ae.preventDefault(),wr({diff:_8,direction:"next",reason:"keyboard",event:Ae}),yr(Ae);break;case"ArrowDown":Ae.preventDefault(),wr({diff:1,direction:"next",reason:"keyboard",event:Ae}),yr(Ae);break;case"ArrowUp":Ae.preventDefault(),wr({diff:-1,direction:"previous",reason:"keyboard",event:Ae}),yr(Ae);break;case"ArrowLeft":jr(Ae,"previous");break;case"ArrowRight":jr(Ae,"next");break;case"Enter":if(Ae.which===229)break;if(se.current!==-1&&Ze){var bt=wt[se.current],Ir=G?G(bt):!1;if(Ae.preventDefault(),Ir)return;Pr(Ae,bt,"select-option"),r&&tt.current.setSelectionRange(tt.current.value.length,tt.current.value.length)}else U&&Ue!==""&&jt===!1&&(pe&&Ae.preventDefault(),Pr(Ae,Ue,"create-option","freeSolo"));break;case"Escape":Ze?(Ae.preventDefault(),Ae.stopPropagation(),br(Ae,"escape")):p&&(Ue!==""||pe&&be.length>0)&&(Ae.preventDefault(),Ae.stopPropagation(),Hr(Ae));break;case"Backspace":if(pe&&Ue===""&&be.length>0){var zr=Z===-1?be.length-1:Z,ir=be.slice();ir.splice(zr,1),mr(Ae,ir,"remove-option",{option:be[zr]})}break}Ke.onKeyDown&&Ke.onKeyDown(Ae)}},ur=function(Ke){He(!0),gt&&!mt.current&&yr(Ke)},Sr=function(Ke){if(Pe.current!==null&&document.activeElement===Pe.current.parentElement){tt.current.focus();return}He(!1),Be.current=!0,mt.current=!1,!(S&&Ue!=="")&&(s&&se.current!==-1&&Ze?Pr(Ke,wt[se.current],"blur"):s&&U&&Ue!==""?Pr(Ke,Ue,"blur","freeSolo"):f&&Zt(Ke,be),br(Ke,"blur"))},Lr=function(Ke){var Ae=Ke.target.value;Ue!==Ae&&(ct(Ae),_e&&_e(Ke,Ae,"input")),Ae===""?!R&&!pe&&mr(Ke,null,"clear"):yr(Ke)},Te=function(Ke){pr({event:Ke,index:Number(Ke.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},ft=function(){Rr.current=!0},ve=function(Ke){var Ae=Number(Ke.currentTarget.getAttribute("data-option-index"));Pr(Ke,wt[Ae],"select-option"),Rr.current=!1},kt=function(Ke){return function(Ae){var bt=be.slice();bt.splice(Ke,1),mr(Ae,bt,"remove-option",{option:be[Ke]})}},lt=function(Ke){Ce?br(Ke,"toggleInput"):yr(Ke)},Kt=function(Ke){Ke.target.getAttribute("id")!==Ie&&Ke.preventDefault()},Jt=function(){tt.current.focus(),ht&&Be.current&&tt.current.selectionEnd-tt.current.selectionStart===0&&tt.current.select(),Be.current=!1},Pt=function(Ke){(Ue===""||!Ce)&&lt(Ke)},dr=U&&Ue.length>0;dr=dr||(pe?be.length>0:be!==null);var Sn=wt;return W&&(Sn=wt.reduce(function(pt,Ke,Ae){var bt=W(Ke);return pt.length>0&&pt[pt.length-1].group===bt?pt[pt.length-1].options.push(Ke):pt.push({key:Ae,index:Ae,group:bt,options:[Ke]}),pt},[])),{getRootProps:function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return re({"aria-owns":Ze?"".concat(Ie,"-popup"):null,role:"combobox","aria-expanded":Ze},Ke,{onKeyDown:$r(Ke),onMouseDown:Kt,onClick:Jt})},getInputLabelProps:function(){return{id:"".concat(Ie,"-label"),htmlFor:Ie}},getInputProps:function(){return{id:Ie,value:Ue,onBlur:Sr,onFocus:ur,onChange:Lr,onMouseDown:Pt,"aria-activedescendant":Ze?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Ze?"".concat(Ie,"-popup"):null,autoComplete:"off",ref:tt,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:Hr}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:lt}},getTagProps:function(Ke){var Ae=Ke.index;return{key:Ae,"data-tag-index":Ae,tabIndex:-1,onDelete:kt(Ae)}},getListboxProps:function(){return{role:"listbox",id:"".concat(Ie,"-popup"),"aria-labelledby":"".concat(Ie,"-label"),ref:_r,onMouseDown:function(Ae){Ae.preventDefault()}}},getOptionProps:function(Ke){var Ae=Ke.index,bt=Ke.option,Ir=(pe?be:[be]).some(function(ir){return ir!=null&&L(bt,ir)}),zr=G?G(bt):!1;return{key:Ae,tabIndex:-1,role:"option",id:"".concat(Ie,"-option-").concat(Ae),onMouseOver:Te,onClick:ve,onTouchStart:ft,"data-option-index":Ae,"aria-disabled":zr,"aria-selected":Ir}},id:Ie,inputValue:Ue,value:be,dirty:dr,popupOpen:Ze,focused:Vt||Z!==-1,anchorEl:Et,setAnchorEl:Tt,focusedTag:Z,groupedOptions:Sn}}var T8=function(e){var r;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:re({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(r={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},fr(r,e.breakpoints.up("sm"),{minHeight:"auto"}),fr(r,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),fr(r,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),fr(r,"&:active",{backgroundColor:e.palette.action.selected}),fr(r,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),r),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}};function R8(t){t.anchorEl,t.open;var e=Qe(t,["anchorEl","open"]);return m.createElement("div",e)}var O8=m.createElement($P,{fontSize:"small"}),A8=m.createElement(k8,null),I8=m.forwardRef(function(e,r){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var n=e.ChipProps,i=e.classes,a=e.className,s=e.clearOnBlur;s===void 0&&e.freeSolo,e.clearOnEscape;var u=e.clearText,c=u===void 0?"Clear":u,h=e.closeIcon,f=h===void 0?O8:h,g=e.closeText,p=g===void 0?"Close":g;e.debug;var y=e.defaultValue;y===void 0&&e.multiple;var b=e.disableClearable,v=b===void 0?!1:b;e.disableCloseOnSelect;var S=e.disabled,x=S===void 0?!1:S;e.disabledItemsFocusable,e.disableListWrap;var k=e.disablePortal,C=k===void 0?!1:k;e.filterOptions,e.filterSelectedOptions;var R=e.forcePopupIcon,_=R===void 0?"auto":R,T=e.freeSolo,O=T===void 0?!1:T,D=e.fullWidth,j=D===void 0?!1:D,F=e.getLimitTagsText,M=F===void 0?function(Ze){return"+".concat(Ze)}:F;e.getOptionDisabled;var z=e.getOptionLabel,I=z===void 0?function(Ze){return Ze}:z;e.getOptionSelected;var $=e.groupBy,K=e.handleHomeEndKeys;K===void 0&&e.freeSolo,e.id,e.includeInputInList,e.inputValue;var U=e.limitTags,G=U===void 0?-1:U,B=e.ListboxComponent,H=B===void 0?"ul":B,N=e.ListboxProps,L=e.loading,W=L===void 0?!1:L,X=e.loadingText,Y=X===void 0?"Loading…":X,ce=e.multiple,ee=ce===void 0?!1:ce,fe=e.noOptionsText,le=fe===void 0?"No options":fe;e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus;var de=e.openText,pe=de===void 0?"Open":de;e.options;var he=e.PaperComponent,ke=he===void 0?oi:he,Re=e.PopperComponent,_e=Re===void 0?IT:Re,et=e.popupIcon,Me=et===void 0?A8:et,De=e.renderGroup,gt=e.renderInput,Ge=e.renderOption,yt=e.renderTags,ht=e.selectOnFocus;ht===void 0&&e.freeSolo;var Oe=e.size,Ie=Oe===void 0?"medium":Oe;e.value;var We=Qe(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"]),mt=C?R8:_e,Be=P8(re({},e,{componentName:"Autocomplete"})),tt=Be.getRootProps,Pe=Be.getInputProps,Q=Be.getInputLabelProps,Et=Be.getPopupIndicatorProps,Tt=Be.getClearProps,st=Be.getTagProps,Z=Be.getListboxProps,ie=Be.getOptionProps,rt=Be.value,se=Be.dirty,te=Be.id,me=Be.popupOpen,be=Be.focused,xe=Be.focusedTag,ze=Be.anchorEl,ot=Be.setAnchorEl,Ue=Be.inputValue,ct=Be.groupedOptions,_t;if(ee&&rt.length>0){var Vt=function(wt){return re({className:Le(i.tag,Ie==="small"&&i.tagSizeSmall),disabled:x},st(wt))};yt?_t=yt(rt,Vt):_t=rt.map(function(Ze,wt){return m.createElement(S8,re({label:I(Ze),size:Ie},Vt({index:wt}),n))})}if(G>-1&&Array.isArray(_t)){var He=_t.length-G;!be&&He>0&&(_t=_t.splice(0,G),_t.push(m.createElement("span",{className:i.tag,key:_t.length},M(He))))}var Zt=function(wt){return m.createElement("li",{key:wt.key},m.createElement(y8,{className:i.groupLabel,component:"div"},wt.group),m.createElement("ul",{className:i.groupUl},wt.children))},gr=De||Zt,Xe=Ge||I,Ce=function(wt,Nt){var lr=ie({option:wt,index:Nt});return m.createElement("li",re({},lr,{className:i.option}),Xe(wt,{selected:lr["aria-selected"],inputValue:Ue}))},Ot=!v&&!x,jt=(!O||_===!0)&&_!==!1;return m.createElement(m.Fragment,null,m.createElement("div",re({ref:r,className:Le(i.root,a,be&&i.focused,j&&i.fullWidth,Ot&&i.hasClearIcon,jt&&i.hasPopupIcon)},tt(We)),gt({id:te,disabled:x,fullWidth:!0,size:Ie==="small"?"small":void 0,InputLabelProps:Q(),InputProps:{ref:ot,className:i.inputRoot,startAdornment:_t,endAdornment:m.createElement("div",{className:i.endAdornment},Ot?m.createElement(Bt,re({},Tt(),{"aria-label":c,title:c,className:Le(i.clearIndicator,se&&i.clearIndicatorDirty)}),f):null,jt?m.createElement(Bt,re({},Et(),{disabled:x,"aria-label":me?p:pe,title:me?p:pe,className:Le(i.popupIndicator,me&&i.popupIndicatorOpen)}),Me):null)},inputProps:re({className:Le(i.input,xe===-1&&i.inputFocused),disabled:x},Pe())})),me&&ze?m.createElement(mt,{className:Le(i.popper,C&&i.popperDisablePortal),style:{width:ze?ze.clientWidth:null},role:"presentation",anchorEl:ze,open:!0},m.createElement(ke,{className:i.paper},W&&ct.length===0?m.createElement("div",{className:i.loading},Y):null,ct.length===0&&!O&&!W?m.createElement("div",{className:i.noOptions},le):null,ct.length>0?m.createElement(H,re({className:i.listbox},Z(),N),ct.map(function(Ze,wt){return $?gr({key:Ze.key,group:Ze.group,children:Ze.options.map(function(Nt,lr){return Ce(Nt,Ze.index+lr)})}):Ce(Ze,wt)})):null)):null)});const N8=Rt(T8,{name:"MuiAutocomplete"})(I8);var F8=function(e){var r;return{root:re({},e.typography.button,(r={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},fr(r,e.breakpoints.up("sm"),{padding:"6px 24px"}),fr(r,"overflow","hidden"),fr(r,"whiteSpace","normal"),fr(r,"textAlign","center"),fr(r,e.breakpoints.up("sm"),{minWidth:160}),r)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}},M8=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.disabled,s=a===void 0?!1:a,u=e.disableFocusRipple,c=u===void 0?!1:u,h=e.fullWidth,f=e.icon,g=e.indicator,p=e.label,y=e.onChange,b=e.onClick,v=e.onFocus,S=e.selected,x=e.selectionFollowsFocus,k=e.textColor,C=k===void 0?"inherit":k,R=e.value,_=e.wrapped,T=_===void 0?!1:_,O=Qe(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]),D=function(M){y&&y(M,R),b&&b(M)},j=function(M){x&&!S&&y&&y(M,R),v&&v(M)};return m.createElement(Lo,re({focusRipple:!c,className:Le(n.root,n["textColor".concat(Yt(C))],i,s&&n.disabled,S&&n.selected,p&&f&&n.labelIcon,h&&n.fullWidth,T&&n.wrapped),ref:r,role:"tab","aria-selected":S,disabled:s,onClick:D,onFocus:j,tabIndex:S?0:-1},O),m.createElement("span",{className:n.wrapper},f,p),g)});const bo=Rt(F8,{name:"MuiTab"})(M8);var Ss;function fR(){if(Ss)return Ss;var t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Ss="reverse",t.scrollLeft>0?Ss="default":(t.scrollLeft=1,t.scrollLeft===0&&(Ss="negative")),document.body.removeChild(t),Ss}function dE(t,e){var r=t.scrollLeft;if(e!=="rtl")return r;var n=fR();switch(n){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}function j8(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function $8(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},a=n.ease,s=a===void 0?j8:a,u=n.duration,c=u===void 0?300:u,h=null,f=e[t],g=!1,p=function(){g=!0},y=function b(v){if(g){i(new Error("Animation cancelled"));return}h===null&&(h=v);var S=Math.min(1,(v-h)/c);if(e[t]=s(S)*(r-f)+f,S>=1){requestAnimationFrame(function(){i(null)});return}requestAnimationFrame(b)};return f===r?(i(new Error("Element already at target position")),p):(requestAnimationFrame(y),p)}var L8={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function D8(t){var e=t.onChange,r=Qe(t,["onChange"]),n=m.useRef(),i=m.useRef(null),a=function(){n.current=i.current.offsetHeight-i.current.clientHeight};return m.useEffect(function(){var s=$o(function(){var u=n.current;a(),u!==n.current&&e(n.current)});return window.addEventListener("resize",s),function(){s.clear(),window.removeEventListener("resize",s)}},[e]),m.useEffect(function(){a(),e(n.current)},[e]),m.createElement("div",re({style:L8,ref:i},r))}var B8=function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}},z8=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=e.orientation,u=Qe(e,["classes","className","color","orientation"]);return m.createElement("span",re({className:Le(n.root,n["color".concat(Yt(a))],i,s==="vertical"&&n.vertical),ref:r},u))});const V8=Rt(B8,{name:"PrivateTabIndicator"})(z8),W8=yi(m.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),q8=yi(m.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));var H8={root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},U8=m.createElement(W8,{fontSize:"small"}),K8=m.createElement(q8,{fontSize:"small"}),G8=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.direction,s=e.orientation,u=e.disabled,c=Qe(e,["classes","className","direction","orientation","disabled"]);return m.createElement(Lo,re({component:"div",className:Le(n.root,i,u&&n.disabled,s==="vertical"&&n.vertical),ref:r,role:null,tabIndex:null},c),a==="left"?U8:K8)});const X8=Rt(H8,{name:"MuiTabScrollButton"})(G8);var Y8=function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:fr({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}},Z8=m.forwardRef(function(e,r){var n=e["aria-label"],i=e["aria-labelledby"],a=e.action,s=e.centered,u=s===void 0?!1:s,c=e.children,h=e.classes,f=e.className,g=e.component,p=g===void 0?"div":g,y=e.indicatorColor,b=y===void 0?"secondary":y,v=e.onChange,S=e.orientation,x=S===void 0?"horizontal":S,k=e.ScrollButtonComponent,C=k===void 0?X8:k,R=e.scrollButtons,_=R===void 0?"auto":R,T=e.selectionFollowsFocus,O=e.TabIndicatorProps,D=O===void 0?{}:O,j=e.TabScrollButtonProps,F=e.textColor,M=F===void 0?"inherit":F,z=e.value,I=e.variant,$=I===void 0?"standard":I,K=Qe(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),U=si(),G=$==="scrollable",B=U.direction==="rtl",H=x==="vertical",N=H?"scrollTop":"scrollLeft",L=H?"top":"left",W=H?"bottom":"right",X=H?"clientHeight":"clientWidth",Y=H?"height":"width",ce=m.useState(!1),ee=ce[0],fe=ce[1],le=m.useState({}),de=le[0],pe=le[1],he=m.useState({start:!1,end:!1}),ke=he[0],Re=he[1],_e=m.useState({overflow:"hidden",marginBottom:null}),et=_e[0],Me=_e[1],De=new Map,gt=m.useRef(null),Ge=m.useRef(null),yt=function(){var te=gt.current,me;if(te){var be=te.getBoundingClientRect();me={clientWidth:te.clientWidth,scrollLeft:te.scrollLeft,scrollTop:te.scrollTop,scrollLeftNormalized:dE(te,U.direction),scrollWidth:te.scrollWidth,top:be.top,bottom:be.bottom,left:be.left,right:be.right}}var xe;if(te&&z!==!1){var ze=Ge.current.children;if(ze.length>0){var ot=ze[De.get(z)];xe=ot?ot.getBoundingClientRect():null}}return{tabsMeta:me,tabMeta:xe}},ht=Zr(function(){var se,te=yt(),me=te.tabsMeta,be=te.tabMeta,xe=0;if(be&&me)if(H)xe=be.top-me.top+me.scrollTop;else{var ze=B?me.scrollLeftNormalized+me.clientWidth-me.scrollWidth:me.scrollLeft;xe=be.left-me.left+ze}var ot=(se={},fr(se,L,xe),fr(se,Y,be?be[Y]:0),se);if(isNaN(de[L])||isNaN(de[Y]))pe(ot);else{var Ue=Math.abs(de[L]-ot[L]),ct=Math.abs(de[Y]-ot[Y]);(Ue>=1||ct>=1)&&pe(ot)}}),Oe=function(te){$8(N,gt.current,te)},Ie=function(te){var me=gt.current[N];H?me+=te:(me+=te*(B?-1:1),me*=B&&fR()==="reverse"?-1:1),Oe(me)},We=function(){Ie(-gt.current[X])},mt=function(){Ie(gt.current[X])},Be=m.useCallback(function(se){Me({overflow:null,marginBottom:-se})},[]),tt=function(){var te={};te.scrollbarSizeListener=G?m.createElement(D8,{className:h.scrollable,onChange:Be}):null;var me=ke.start||ke.end,be=G&&(_==="auto"&&me||_==="desktop"||_==="on");return te.scrollButtonStart=be?m.createElement(C,re({orientation:x,direction:B?"right":"left",onClick:We,disabled:!ke.start,className:Le(h.scrollButtons,_!=="on"&&h.scrollButtonsDesktop)},j)):null,te.scrollButtonEnd=be?m.createElement(C,re({orientation:x,direction:B?"left":"right",onClick:mt,disabled:!ke.end,className:Le(h.scrollButtons,_!=="on"&&h.scrollButtonsDesktop)},j)):null,te},Pe=Zr(function(){var se=yt(),te=se.tabsMeta,me=se.tabMeta;if(!(!me||!te)){if(me[L]<te[L]){var be=te[N]+(me[L]-te[L]);Oe(be)}else if(me[W]>te[W]){var xe=te[N]+(me[W]-te[W]);Oe(xe)}}}),Q=Zr(function(){if(G&&_!=="off"){var se=gt.current,te=se.scrollTop,me=se.scrollHeight,be=se.clientHeight,xe=se.scrollWidth,ze=se.clientWidth,ot,Ue;if(H)ot=te>1,Ue=te<me-be-1;else{var ct=dE(gt.current,U.direction);ot=B?ct<xe-ze-1:ct>1,Ue=B?ct>1:ct<xe-ze-1}(ot!==ke.start||Ue!==ke.end)&&Re({start:ot,end:Ue})}});m.useEffect(function(){var se=$o(function(){ht(),Q()}),te=_p(gt.current);return te.addEventListener("resize",se),function(){se.clear(),te.removeEventListener("resize",se)}},[ht,Q]);var Et=m.useCallback($o(function(){Q()}));m.useEffect(function(){return function(){Et.clear()}},[Et]),m.useEffect(function(){fe(!0)},[]),m.useEffect(function(){ht(),Q()}),m.useEffect(function(){Pe()},[Pe,de]),m.useImperativeHandle(a,function(){return{updateIndicator:ht,updateScrollButtons:Q}},[ht,Q]);var Tt=m.createElement(V8,re({className:h.indicator,orientation:x,color:b},D,{style:re({},de,D.style)})),st=0,Z=m.Children.map(c,function(se){if(!m.isValidElement(se))return null;var te=se.props.value===void 0?st:se.props.value;De.set(te,st);var me=te===z;return st+=1,m.cloneElement(se,{fullWidth:$==="fullWidth",indicator:me&&!ee&&Tt,selected:me,selectionFollowsFocus:T,onChange:v,textColor:M,value:te})}),ie=function(te){var me=te.target,be=me.getAttribute("role");if(be==="tab"){var xe=null,ze=x!=="vertical"?"ArrowLeft":"ArrowUp",ot=x!=="vertical"?"ArrowRight":"ArrowDown";switch(x!=="vertical"&&U.direction==="rtl"&&(ze="ArrowRight",ot="ArrowLeft"),te.key){case ze:xe=me.previousElementSibling||Ge.current.lastChild;break;case ot:xe=me.nextElementSibling||Ge.current.firstChild;break;case"Home":xe=Ge.current.firstChild;break;case"End":xe=Ge.current.lastChild;break}xe!==null&&(xe.focus(),te.preventDefault())}},rt=tt();return m.createElement(p,re({className:Le(h.root,f,H&&h.vertical),ref:r},K),rt.scrollButtonStart,rt.scrollbarSizeListener,m.createElement("div",{className:Le(h.scroller,G?h.scrollable:h.fixed),style:et,ref:gt,onScroll:Et},m.createElement("div",{"aria-label":n,"aria-labelledby":i,className:Le(h.flexContainer,H&&h.flexContainerVertical,u&&!G&&h.centered),onKeyDown:ie,ref:Ge,role:"tablist"},Z),ee&&Tt),rt.scrollButtonEnd)});const J8=Rt(Y8,{name:"MuiTabs"})(Z8);class pR{constructor(){this._pongReceived=!1,this._pingPromises=[]}get socket(){return this._socket}async bind(e){this._pingInterval&&clearInterval(this._pingInterval),this._pingInterval=setInterval(()=>{if(this._lastPingTimestampMs!==void 0&&!this._pongReceived){console.log("Did not receive pong - reconnecting");for(const r of this._pingPromises)r.reject("Timed out");this._pingPromises=[],this._connect(e)}else this.ping().catch(console.info)},1e4),await this._connect(e)}async _connect(e){if(this._disconnect(),!e)throw new Error("Invalid URL");return new Promise((r,n)=>{this._connectPromise={resolve:r,reject:n};const i=new WebSocket(e);i.onmessage=async a=>{var s,u,c,h;if(a.data==="PONG"){this._pongReceived=!0;for(const f of this._pingPromises)f.resolve(void 0);this._pingPromises=[]}else{const f=JSON.parse(a.data);if(f.command==="mine-subtitle"){const g=f.messageId,p=await((s=this.onMineSubtitle)==null?void 0:s.call(this,f))??!1,y={command:"response",messageId:g,body:{published:p}};(u=this._socket)==null||u.send(JSON.stringify(y))}else if(f.command==="load-subtitles"){const g=f.messageId;await((c=this.onLoadSubtitles)==null?void 0:c.call(this,f));const p={command:"response",messageId:g,body:{}};(h=this._socket)==null||h.send(JSON.stringify(p))}}},i.onclose=a=>{var s;console.log(`Socket closed - reason: ${a.reason}`),(s=this._connectPromise)==null||s.reject("Socket closed"),this._connectPromise=void 0},i.onerror=()=>{var a;console.log("Socket error"),(a=this._connectPromise)==null||a.reject("Socket error"),this._connectPromise=void 0},i.onopen=()=>{var a;this.ping().catch(console.error),(a=this._connectPromise)==null||a.resolve(void 0),this._connectPromise=void 0},this._socket=i})}async ping(){return new Promise((e,r)=>{if(!this._socket||this._socket.readyState!==this._socket.OPEN){r("Not connected");return}this._socket.send("PING"),this._lastPingTimestampMs=Date.now(),this._pongReceived=!1,this._pingPromises.push({resolve:e,reject:r})})}_disconnect(){this._socket&&(this._socket.readyState!==this._socket.CLOSED&&this._socket.readyState!==this._socket.CLOSING&&this._socket.close(),this._socket=void 0)}unbind(){var e;this._disconnect(),this._pingInterval!==void 0&&(clearInterval(this._pingInterval),this._pingInterval=void 0);for(const r of this._pingPromises)r.reject("Disconnecting");this._pingPromises=[],this._lastPingTimestampMs=void 0,this._pongReceived=!1,(e=this._connectPromise)==null||e.reject("Disconnecting"),this._connectPromise=void 0,this.onMineSubtitle=void 0}}const Q8=3;function ez({track:t,onTrackSelected:e}){const{t:r}=Mr();return E.jsx(E.Fragment,{children:E.jsxs(tr,{select:!0,fullWidth:!0,color:"secondary",variant:"outlined",size:"small",label:r("settings.subtitleTrack"),helperText:t==="all"?r("settings.subtitleTrackSelectorHelper"):void 0,value:t,onChange:n=>n.target.value==="all"?e("all"):e(Number(n.target.value)),children:[E.jsx(Ji,{value:"all",children:r("settings.allSubtitleTracks")}),[...Array(Q8).keys()].map(n=>E.jsx(Ji,{value:n,children:r("settings.subtitleTrackChoice",{trackNumber:n+1})},n))]})})}const tz=dn(t=>({subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${t.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${t.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:t.spacing(1),marginBottom:t.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},blurred:{filter:"blur(10px)","&:hover":{filter:"none"}}})),fE=({text:t,className:e,textSubtitleSettings:r,onTextChanged:n})=>{const{subtitleSize:i,subtitleColor:a,subtitleThickness:s,subtitleOutlineThickness:u,subtitleOutlineColor:c,subtitleShadowThickness:h,subtitleShadowColor:f,subtitleBackgroundColor:g,subtitleBackgroundOpacity:p,subtitleFontFamily:y,subtitleCustomStyles:b,subtitleBlur:v,subtitleAlignment:S}=r,x=m.useMemo(()=>Yy({subtitleColor:a,subtitleSize:i,subtitleThickness:s,subtitleOutlineThickness:u,subtitleOutlineColor:c,subtitleShadowThickness:h,subtitleShadowColor:f,subtitleBackgroundOpacity:p,subtitleBackgroundColor:g,subtitleFontFamily:y,subtitleCustomStyles:b}),[a,i,s,u,c,h,f,p,g,y,b,v,S]);return E.jsx("input",{value:t,className:e,onChange:k=>n(k.target.value),style:x})};function rz({subtitleSettings:t,text:e,track:r,onTextChanged:n}){const i=tz(),a=C=>C.subtitleBlur?`${i.subtitlePreviewInput} ${i.blurred}`:i.subtitlePreviewInput,s=Yi(t,r),{subtitleSize:u,subtitleColor:c,subtitleThickness:h,subtitleOutlineThickness:f,subtitleOutlineColor:g,subtitleShadowThickness:p,subtitleShadowColor:y,subtitleBackgroundColor:b,subtitleBackgroundOpacity:v,subtitleFontFamily:S,subtitleCustomStyles:x,subtitleBlur:k}=s;return u===void 0||c===void 0||h===void 0||f===void 0||g===void 0||p===void 0||y===void 0||b===void 0||v===void 0||S===void 0||x===void 0||k===void 0?E.jsx("div",{className:i.subtitlePreview,children:[...Array(t.subtitleTracksV2.length+1).keys()].map(C=>{const R=Yi(t,C);return E.jsx(fE,{text:e,className:a(R),textSubtitleSettings:R,onTextChanged:n},C)})}):E.jsx("div",{className:i.subtitlePreview,children:E.jsx(fE,{text:e,className:a(s),textSubtitleSettings:s,onTextChanged:n})})}const hR=({style:t,...e})=>E.jsx(Zf,{viewBox:"0 0 28 28",style:{background:"linear-gradient(150deg, #ff1f62, #49007a 160%)",borderRadius:3,...t},...e,children:E.jsx("path",{fill:"white",d:"M 0 0 L 0 20 L 4 21 A 1 1 0 0 0 8 21 L 8 6 A 1 1 0 0 0 4 6 L 4 21 L 0 20 L 0 0 L 12 0 L 12 23 L 22 23 A 1 1 0 0 0 22 19 L 16 19 L 16 6 A 1 1 0 0 0 12 6 L 12 0 L 20 0 L 20 13 A 1 1 0 0 0 24 13 L 24 6 A 1 1 0 0 0 20 6 L 20 0"})});var nz={root:{display:"table-header-group"}},iz={variant:"head"},pE="thead",az=m.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?pE:a,u=Qe(e,["classes","className","component"]);return m.createElement($p.Provider,{value:iz},m.createElement(s,re({className:Le(n.root,i),ref:r,role:s===pE?null:"rowgroup"},u)))});const oz=Rt(nz,{name:"MuiTableHead"})(az),Hu=({children:t,...e})=>E.jsx(Fs,{target:"_blank",color:"textPrimary",underline:"always",...e,children:t}),bf=Rt(t=>({head:{backgroundColor:t.palette.action.hover},root:{border:0}}))(Is),hE=Rt(t=>({root:{}}))(Is),ky=[{name:"react",projectLink:"https://react.dev",license:"MIT",licenseLink:"https://github.com/facebook/react/blob/v18.0.0/LICENSE",purpose:"UI"},{name:"Material UI",projectLink:"https://mui.com/material-ui",license:"MIT",licenseLink:"https://github.com/mui/material-ui/blob/v4.x/LICENSE",purpose:"UI"},{name:"Roboto",projectLink:"https://fonts.google.com/specimen/Roboto",license:"Apache 2.0",licenseLink:"https://fonts.google.com/specimen/Roboto/license",purpose:"UI"},{name:"Dexie.js",projectLink:"https://dexie.org",license:"Apache 2.0",licenseLink:"https://github.com/dexie/Dexie.js/blob/master/LICENSE",purpose:"Persistence"},{name:"flatten-interval-tree",projectLink:"https://github.com/alexbol99/flatten-interval-tree",license:"MIT",licenseLink:"https://github.com/alexbol99/flatten-interval-tree/blob/master/LICENSE",purpose:"Subtitle rendering"},{name:"srt-parser",projectLink:"https://github.com/qgustavor/srt-parser",license:"MIT",licenseLink:"https://github.com/qgustavor/srt-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"ass-compiler",projectLink:"https://github.com/weizhenye/ass-compiler",license:"MIT",licenseLink:"https://github.com/weizhenye/ass-compiler/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"pgs-parser",projectLink:"https://github.com/killergerbah/pgs-parser",license:"MIT",licenseLink:"https://github.com/killergerbah/pgs-parser/blob/main/LICENSE.md",purpose:"Subtitle parsing"},{name:"fast-xml-parser",projectLink:"https://github.com/NaturalIntelligence/fast-xml-parser",license:"MIT",licenseLink:"https://github.com/NaturalIntelligence/fast-xml-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"vtt.js",projectLink:"https://github.com/mozilla/vtt.js",license:"Apache 2.0",licenseLink:"https://github.com/mozilla/vtt.js/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"semver",projectLink:"https://github.com/npm/node-semver",license:"ISC",licenseLink:"https://github.com/npm/node-semver/blob/main/LICENSE",purpose:"Version string parsing"},{name:"hotkeys-js",projectLink:"https://github.com/jaywcjlove/hotkeys-js",license:"MIT",licenseLink:"https://github.com/jaywcjlove/hotkeys-js/blob/master/LICENSE",purpose:"Keyboard shortcuts"},{name:"i18next",projectLink:"https://www.i18next.com",license:"MIT",licenseLink:"https://github.com/i18next/i18next/blob/master/LICENSE",purpose:"Localization"},{name:"lamejs",projectLink:"https://lame.sourceforge.io",license:"LGPL",licenseLink:"https://github.com/zhuker/lamejs/blob/master/LICENSE",purpose:"MP3 encoding"},{name:"sanitize-filename",projectLink:"https://github.com/parshap/node-sanitize-filename",license:"ISC+WTFPL",licenseLink:"https://github.com/parshap/node-sanitize-filename/blob/master/LICENSE.md",purpose:"Filename sanitization"},{name:"uuidjs",projectLink:"https://github.com/uuidjs/uuid",license:"MIT",licenseLink:"https://github.com/uuidjs/uuid/blob/main/LICENSE.md",purpose:"UUID generation"},{name:"url",projectLink:"https://github.com/defunctzombie/node-url",license:"MIT",licenseLink:"https://github.com/defunctzombie/node-url/blob/master/LICENSE",purpose:"Polyfill"},{name:"m3u8-parser",projectLink:"https://github.com/videojs/m3u8-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/m3u8-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0},{name:"mpd-parser",projectLink:"https://github.com/videojs/mpd-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/mpd-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0}],Cy={};for(const t of ky){let e=Cy[t.purpose]??0;Cy[t.purpose]=e+1}const sz=({appVersion:t,extensionVersion:e})=>{const r=si(),{t:n}=Mr(),i={};return E.jsxs(np,{p:1,style:{width:"100%"},children:[E.jsxs(np,{style:{width:"100%",textAlign:"center"},children:[E.jsx(hR,{style:{width:48,height:48}}),E.jsx("br",{}),E.jsx(Hu,{variant:"h5",href:"https://github.com/killergerbah/asbplayer",children:"asbplayer"}),E.jsx("br",{}),t&&E.jsxs(E.Fragment,{children:[E.jsxs(un,{variant:"caption",children:[n("about.appVersion")," ",E.jsx(Hu,{href:`https://github.com/killergerbah/asbplayer/commit/${t}`,children:t})]}),E.jsx("br",{})]}),e&&E.jsxs(un,{variant:"caption",children:[n("about.extensionVersion")," ",E.jsx(Hu,{href:`https://github.com/killergerbah/asbplayer/releases/tag/v${e}`,children:e})]})]}),E.jsx("p",{}),E.jsx(un,{variant:"h5",children:n("about.license")}),E.jsx("p",{}),E.jsx(oi,{variant:"outlined",style:{padding:r.spacing(2),height:"auto"},children:E.jsxs(un,{variant:"body2",children:["MIT License",E.jsx("br",{}),E.jsx("br",{}),"Copyright (c) 2020 R-J Lim",E.jsx("br",{}),E.jsx("br",{}),'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:',E.jsx("br",{}),E.jsx("br",{}),"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.",E.jsx("br",{}),E.jsx("br",{}),'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.']})}),E.jsx("br",{}),E.jsx("br",{}),E.jsx(un,{variant:"h5",children:n("about.deps")}),E.jsx("p",{}),E.jsx(eR,{variant:"outlined",component:oi,style:{height:"auto"},children:E.jsxs(JT,{style:{margin:0,padding:0},children:[E.jsx(oz,{children:E.jsxs(by,{children:[E.jsx(bf,{children:n("about.depName")}),E.jsx(bf,{children:n("about.license")}),E.jsx(bf,{children:n("about.purpose")})]})}),E.jsx(QT,{children:ky.filter(a=>!a.extension||e!==void 0).map((a,s)=>{var f;let u;i[a.purpose]===void 0?u=!1:u=!0,i[a.purpose]=!0;let c=bf,h=(f=ky[s+1])==null?void 0:f.purpose;return h!==void 0&&a.purpose!==h&&(c=hE),E.jsxs(by,{children:[E.jsxs(c,{children:[a.projectLink&&E.jsx(Hu,{href:a.projectLink,children:a.name}),!a.projectLink&&a.name]}),E.jsx(c,{children:E.jsx(Hu,{href:a.licenseLink,children:a.license})}),!u&&E.jsx(hE,{rowSpan:Cy[a.purpose],children:a.purpose})]},a.name)})})]})})]})},lz=dn(t=>({root:({smallScreen:e})=>{let r={backgroundColor:t.palette.background.paper,maxHeight:"100%",height:"calc(100% - 48px)"};return e||(r={...r,flexGrow:1,display:"flex",height:"100%"}),r},tabs:({smallScreen:e})=>{let r={"& .MuiButtonBase-root":{paddingLeft:0,paddingRight:t.spacing(1)},"& .MuiTab-root":{minWidth:120}};return e||(r={...r,minWidth:120,width:120}),r},formGroup:{"& .MuiTextField-root":{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},subtitleSetting:{"& .MuiTextField-root":{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${t.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${t.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:t.spacing(1),marginBottom:t.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},switchLabel:{justifyContent:"space-between",marginLeft:0,marginRight:-8},top:{marginTop:t.spacing(1)},verticallyCentered:{display:"flex",flexDirection:"column",justifyContent:"center"}})),uz=dn(t=>({formControl:{marginLeft:t.spacing(1),marginBottom:t.spacing(1),minWidth:120},root:{display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"flex-end"},hidden:{opacity:.5}}));function cz(t){try{return new RegExp(t.trim()),!0}catch{return!1}}function fi({label:t,value:e,selections:r,removable:n,display:i,onDisplayChange:a,disabledDirection:s,onChange:u,onSelectionChange:c,onOrderChange:h,onRemoval:f}){const g=uz(),{t:p}=Mr(),[y,b]=m.useState(!1),[v,S]=m.useState(),x=C=>{b(!1),h==null||h(C)},k=i===!1?`${g.root} ${g.hidden}`:g.root;return E.jsxs("div",{className:k,children:[E.jsx(tr,{label:t,value:e,onChange:u,fullWidth:!0,color:"secondary",InputProps:{endAdornment:(n||h)&&E.jsx(bn,{position:"end",children:E.jsx(Bt,{style:{marginRight:0},onClick:C=>{S(C.currentTarget),b(!0)},children:E.jsx(D0,{fontSize:"small"})})})}}),E.jsxs(O0,{className:g.formControl,children:[E.jsx(tT,{}),E.jsx(fT,{value:(r==null?void 0:r.find(C=>C===e))===void 0?"":e,disabled:!r,color:"secondary",onChange:c,children:r&&["",...r].map(C=>E.jsx(Ji,{value:C,children:C===""?" ":C},C))})]}),y&&E.jsx(Ta,{disableEnforceFocus:!0,open:y,anchorEl:v,onClose:()=>b(!1),anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"right"},children:E.jsxs(ra,{children:[s!==1&&h!==void 0&&E.jsx(Qr,{button:!0,onClick:()=>x(1),children:E.jsx(W9,{fontSize:"small"})}),i!==void 0&&a!==void 0&&E.jsx(Er,{title:p(i?"settings.hideInCardCreator":"settings.showInCardCreator"),children:E.jsxs(Qr,{button:!0,onClick:()=>a(!i),children:[i===!1&&E.jsx(J9,{fontSize:"small"}),i===!0&&E.jsx(X9,{fontSize:"small"})]})}),s!==2&&h!==void 0&&E.jsx(Qr,{button:!0,onClick:()=>x(2),children:E.jsx(U9,{fontSize:"small"})}),n&&E.jsx(Qr,{button:!0,onClick:C=>f==null?void 0:f(),children:E.jsx(jp,{fontSize:"small"})})]})})]})}const dz=ii.isMacOs?{}:{"⌃":"ctrl","⇧":"shift","⌥":"alt"},gE=["⌃","⇧","⌥","ctrl","shift","alt","option","control","command","⌘"],fz=dn(t=>({container:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},labelItem:{}}));function pz({label:t,keys:e,boundViaChrome:r,onKeysChange:n,onOpenExtensionShortcuts:i}){const{t:a}=Mr(),s=fz(),[u,c]=m.useState(e),h=m.useRef();h.current=u;const f=m.useRef();f.current=n;const[g,p]=m.useState(!1);m.useEffect(()=>c(e),[e]);const y=m.useCallback(x=>{if(x.nativeEvent.detail!==0){if(r){i();return}c(""),p(!0)}},[i,r]),b=m.useRef(null);m.useEffect(()=>{if(!g)return;const x=k=>{if(k.type==="keydown"){const C=gi.getPressedKeyString();c(C.map(R=>dz[R]??R).sort((R,_)=>{const T=gE.includes(R),O=gE.includes(_);return T&&!O?-1:!T&&O?1:0}).join("+"))}else k.type==="keyup"&&(p(!1),h.current&&f.current(h.current))};return gi("*",{keyup:!0},x),()=>gi.unbind("*",x)},[g]),e8(b,m.useCallback(()=>{g&&(p(!1),c(""),n(""))},[g,n]));let v;g?v=a("settings.recordingBind"):r?v=a("settings.extensionOverriddenBind"):v=a("settings.unboundBind");const S=Fc&&r;return E.jsxs(Mt,{container:!0,className:s.container,wrap:"nowrap",spacing:1,children:[E.jsx(Mt,{item:!0,className:s.labelItem,xs:12,children:E.jsx(un,{children:t})}),E.jsx(Mt,{item:!0,xs:6,children:E.jsx(tr,{placeholder:v,size:"small",contentEditable:!1,disabled:r,helperText:r?a("settings.extensionShortcut"):void 0,value:u,color:"secondary",InputProps:{endAdornment:E.jsxs(bn,{position:"end",children:[!S&&E.jsx(Bt,{ref:b,onClick:y,children:E.jsx(wy,{fontSize:"small"})}),S&&E.jsx(Er,{title:a("settings.firefoxExtensionShortcutHelp"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:!0,children:E.jsx(wy,{fontSize:"small"})})})})]})}})})]})}function hz({onAddCustomField:t}){const{t:e}=Mr(),[r,n]=m.useState("");return E.jsx(tr,{label:e("settings.addCustomField"),fullWidth:!0,value:r,color:"secondary",onChange:i=>n(i.target.value),InputProps:{endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Bt,{disabled:r.trim()==="",onClick:()=>{t(r.trim()),n("")},children:E.jsx(rR,{fontSize:"small"})})})}})}function gz({styleKey:t,onStyleKey:e,onAddCustomStyle:r}){const{t:n}=Mr();return E.jsx(N8,{options:Mf,value:t,fullWidth:!0,disableClearable:!0,clearOnEscape:!0,clearOnBlur:!0,forcePopupIcon:!1,onReset:()=>e(""),onChange:(i,a)=>{e(a??"")},renderInput:i=>E.jsx(tr,{placeholder:n("settings.styleKey"),label:n("settings.addCustomCss"),color:"secondary",...i,InputProps:{...i.InputProps,endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Bt,{disabled:Mf.find(a=>a===t)===void 0,onClick:()=>{r(t),e(Mf[0])},children:E.jsx(rR,{fontSize:"small"})})})}})})}function mz({customStyle:t,onCustomStyle:e,onDelete:r}){const{t:n}=Mr();return E.jsx(tr,{color:"secondary",label:n("settings.customCssField",{styleKey:t.key}),placeholder:n("settings.styleValue"),value:t.value,onChange:i=>e({key:t.key,value:i.target.value}),InputProps:{endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Bt,{onClick:r,children:E.jsx(jp,{fontSize:"small"})})})}})}const vz=dn(t=>({panel:{paddingLeft:t.spacing(1),paddingRight:t.spacing(1),overflowY:"scroll",maxHeight:"100%",height:"100%",width:"100%"}}));function xo({children:t,value:e,index:r,...n}){const i=vz();return E.jsx(np,{className:i.panel,hidden:e!==r,...n,children:e===r&&t})}const Mf=Object.keys(document.body.style).filter(t=>!f2(t));function yz({anki:t,settings:e,extensionInstalled:r,extensionVersion:n,extensionSupportsAppIntegration:i,extensionSupportsOverlay:a,extensionSupportsSidePanel:s,extensionSupportsOrderableAnkiFields:u,extensionSupportsTrackSpecificSettings:c,extensionSupportsSubtitlesWidthSetting:h,extensionSupportsPauseOnHover:f,insideApp:g,appVersion:p,scrollToId:y,chromeKeyBinds:b,localFontsAvailable:v,localFontsPermission:S,localFontFamilies:x,supportedLanguages:k,forceVerticalTabs:C,onSettingsChanged:R,onOpenChromeExtensionShortcuts:_,onUnlockLocalFonts:T}){const O=si(),D=z0(O.breakpoints.down("xs"))&&!C,j=lz({smallScreen:D}),F=m.useCallback(async(q,Ve)=>{R({[q]:Ve})},[R]),{t:M}=Mr(),z=m.useMemo(()=>({copySubtitle:{label:M("binds.copySubtitle"),boundViaChrome:!0},ankiExport:{label:M("binds.ankiExport"),boundViaChrome:!0},updateLastCard:{label:M("binds.updateLastCard"),boundViaChrome:!0},takeScreenshot:{label:M("binds.takeScreenshot"),boundViaChrome:!0},toggleRecording:{label:M("binds.extensionToggleRecording"),boundViaChrome:!0},selectSubtitleTrack:{label:M("binds.extensionSelectSubtitleTrack"),boundViaChrome:!0,hide:!r},togglePlay:{label:M("binds.togglePlay"),boundViaChrome:!1},toggleAutoPause:{label:M("binds.toggleAutoPause"),boundViaChrome:!1},toggleCondensedPlayback:{label:M("binds.toggleCondensedPlayback"),boundViaChrome:!1},toggleFastForwardPlayback:{label:M("binds.toggleFastForwardPlayback"),boundViaChrome:!1},toggleRepeat:{label:M("binds.toggleRepeat"),boundViaChrome:!1},toggleSubtitles:{label:M("binds.toggleSubtitles"),boundViaChrome:!1},toggleVideoSubtitleTrack1:{label:M("binds.toggleVideoSubtitleTrack1"),boundViaChrome:!1},toggleVideoSubtitleTrack2:{label:M("binds.toggleVideoSubtitleTrack2"),boundViaChrome:!1},toggleVideoSubtitleTrack3:{label:M("binds.toggleVideoSubtitleTrack3"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack1:{label:M("binds.toggleAsbplayerSubtitleTrack1"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack2:{label:M("binds.toggleAsbplayerSubtitleTrack2"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack3:{label:M("binds.toggleAsbplayerSubtitleTrack3"),boundViaChrome:!1},unblurAsbplayerTrack1:{label:M("binds.unblurAsbplayerTrack",{trackNumber:1}),boundViaChrome:!1},unblurAsbplayerTrack2:{label:M("binds.unblurAsbplayerTrack",{trackNumber:2}),boundViaChrome:!1},unblurAsbplayerTrack3:{label:M("binds.unblurAsbplayerTrack",{trackNumber:3}),boundViaChrome:!1},seekBackward:{label:M("binds.seekBackward"),boundViaChrome:!1},seekForward:{label:M("binds.seekForward"),boundViaChrome:!1},seekToPreviousSubtitle:{label:M("binds.seekToPreviousSubtitle"),boundViaChrome:!1},seekToNextSubtitle:{label:M("binds.seekToNextSubtitle"),boundViaChrome:!1},seekToBeginningOfCurrentSubtitle:{label:M("binds.seekToBeginningOfCurrentOrPreviousSubtitle"),boundViaChrome:!1},adjustOffsetToPreviousSubtitle:{label:M("binds.adjustOffsetToPreviousSubtitle"),boundViaChrome:!1},adjustOffsetToNextSubtitle:{label:M("binds.adjustOffsetToNextSubtitle"),boundViaChrome:!1},increaseOffset:{label:M("binds.increaseOffset"),boundViaChrome:!1},decreaseOffset:{label:M("binds.decreaseOffset"),boundViaChrome:!1},resetOffset:{label:M("binds.resetOffset"),boundViaChrome:!1},increasePlaybackRate:{label:M("binds.increasePlaybackRate"),boundViaChrome:!1},decreasePlaybackRate:{label:M("binds.decreasePlaybackRate"),boundViaChrome:!1},toggleSidePanel:{label:M("binds.toggleSidePanel"),boundViaChrome:!1,hide:!r||!s}}),[M,r,s]),{ankiConnectUrl:I,deck:$,noteType:K,sentenceField:U,definitionField:G,audioField:B,imageField:H,wordField:N,sourceField:L,urlField:W,track1Field:X,track2Field:Y,track3Field:ce,ankiFieldSettings:ee,subtitlePreview:fe,subtitlePositionOffset:le,topSubtitlePositionOffset:de,subtitlesWidth:pe,audioPaddingStart:he,audioPaddingEnd:ke,maxImageWidth:Re,maxImageHeight:_e,surroundingSubtitlesCountRadius:et,surroundingSubtitlesTimeRadius:Me,autoPausePreference:De,speedChangeStep:gt,fastForwardModePlaybackRate:Ge,keyBindSet:yt,clickToMineDefaultAction:ht,postMiningPlaybackState:Oe,recordWithAudioPlayback:Ie,preferMp3:We,miningHistoryStorageLimit:mt,preCacheSubtitleDom:Be,themeType:tt,copyToClipboardOnMine:Pe,rememberSubtitleOffset:Q,autoCopyCurrentSubtitle:Et,alwaysPlayOnSubtitleRepeat:Tt,tabName:st,subtitleRegexFilter:Z,subtitleRegexFilterTextReplacement:ie,language:rt,customAnkiFields:se,customAnkiFieldSettings:te,tags:me,imageBasedSubtitleScaleFactor:be,streamingAppUrl:xe,streamingDisplaySubtitles:ze,streamingRecordMedia:ot,streamingTakeScreenshot:Ue,streamingCleanScreenshot:ct,streamingCropScreenshot:_t,streamingSubsDragAndDrop:Vt,streamingAutoSync:He,streamingCondensedPlaybackMinimumSkipIntervalMs:Zt,streamingScreenshotDelay:gr,streamingSubtitleListPreference:Xe,streamingEnableOverlay:Ce,webSocketClientEnabled:Ot,webSocketServerUrl:jt,pauseOnHoverMode:Ze}=e,[wt,Nt]=m.useState(),{subtitleSize:lr,subtitleColor:pr,subtitleThickness:wr,subtitleOutlineThickness:Br,subtitleOutlineColor:_r,subtitleShadowThickness:yr,subtitleShadowColor:br,subtitleBackgroundColor:mr,subtitleBackgroundOpacity:Rr,subtitleFontFamily:Pr,subtitleCustomStyles:vr,subtitleBlur:jr,subtitleAlignment:Hr}=Yi(e,wt),$r=m.useCallback(q=>{F("customAnkiFields",{...e.customAnkiFields,[q]:""})},[e.customAnkiFields,F]),ur=m.useCallback((q,Ve)=>{F("customAnkiFields",{...e.customAnkiFields,[q]:Ve})},[e.customAnkiFields,F]),Sr=m.useCallback(q=>{const Ve={...e.customAnkiFields};delete Ve[q],F("customAnkiFields",Ve)},[F,e.customAnkiFields]),Lr=m.useCallback((q,Ve)=>{F("keyBindSet",{...e.keyBindSet,[Ve]:{keys:q}})},[e.keyBindSet,F]),[Te,ft]=m.useState(),[ve,kt]=m.useState(),[lt,Kt]=m.useState(),[Jt,Pt]=m.useState(),[dr,Sn]=m.useState(Mf[0]),pt=m.useCallback(async()=>{try{if(g)try{await t.requestPermission(I)}catch{await t.version(I)}else await t.version(I);ft(await t.deckNames(I)),kt(await t.modelNames(I)),Kt(void 0)}catch(q){console.error(q),ft(void 0),kt(void 0),q instanceof Error?Kt(q.message):Kt(typeof q=="string"?q:String(q))}},[t,I,g]);m.useEffect(()=>{let q=!1;const Ve=setTimeout(async()=>{q||pt()},1e3);return()=>{q=!0,clearTimeout(Ve)}},[t,I,pt]),m.useEffect(()=>{if(!K||lt)return;let q=!1;async function Ve(){try{if(q)return;Pt(await t.modelFieldNames(K,I)),Kt(void 0)}catch(vt){if(q)return;console.error(vt),Pt(void 0),vt instanceof Error?Kt(vt.message):Kt(typeof vt=="string"?vt:String(vt))}}return Ve(),()=>{q=!0}},[t,K,I,lt]);const[Ke,Ae]=m.useState(),bt=m.useCallback(()=>{const q=new pR;q.bind(jt).then(()=>q.ping()).then(()=>Ae(!0)).catch(Ve=>{console.error(Ve),Ae(!1)}).finally(()=>q.unbind())},[jt]);m.useEffect(()=>{Ot&&jt&&bt()},[bt,Ot,jt]);let Ir;Ot&&(Ke?Ir=M("info.connectionSucceeded"):Ke===!1&&(Ir=M("info.connectionFailed")));const zr=k2(e),ir=m.useMemo(()=>{const q=["anki-settings","mining-settings","subtitle-appearance","keyboard-shortcuts","streaming-video","misc-settings","about"];return i||q.splice(q.indexOf("streaming-video"),1),Object.fromEntries(q.map((Ve,vt)=>[Ve,vt]))},[i]);m.useEffect(()=>{y&&y in ir&&Vr(ir[y])},[y,ir]);const[Ar,Vr]=m.useState(0),sn=m.useMemo(()=>cz(Z),[Z]),Se=m.useRef(null),ut=m.useCallback(async()=>{var q,Ve;try{const vt=(Ve=(q=Se.current)==null?void 0:q.files)==null?void 0:Ve[0];if(vt===void 0)return;const ne=JSON.parse(await vt.text());XI(ne),R(ne)}catch(vt){console.error(vt)}},[R]),nt=m.useCallback(()=>{var q;(q=Se.current)==null||q.click()},[]),$t=m.useCallback(()=>{const q=new Date,Ve=`${q.getFullYear()}-${q.getMonth()+1}-${q.getDate()}-${q.getHours()}-${q.getMinutes()}-${q.getSeconds()}`;wc(new Blob([JSON.stringify(e)],{type:"appliction/json"}),`asbplayer-settings-${Ve}.json`)},[e]),or=m.useCallback((q,Ve,vt)=>{if(q===1&&vt===0||q===2&&vt===Ve.length-1)return;const ne=Ve[vt],$e=q===1?Ve[vt-1]:Ve[vt+1];let Ye,St;const dt={[ne.key]:{...ne.field,order:$e.field.order}},nn={[$e.key]:{...$e.field,order:ne.field.order}};$e.custom?Ye={...te,...nn}:St={...ee,...nn},ne.custom?Ye={...Ye??te,...dt}:St={...St??ee,...dt},R({ankiFieldSettings:St??ee,customAnkiFieldSettings:Ye??te})},[R,te,ee]),ye=m.useCallback((q,Ve)=>{const vt={...q.field,display:Ve};if(q.custom){const ne={...te,[q.key]:vt};R({customAnkiFieldSettings:ne})}else{const ne={...ee,[q.key]:vt};R({ankiFieldSettings:ne})}},[te,ee,R]),ae=m.useCallback((q,Ve)=>{const vt=Hf({[q]:Ve},e,wt);R(vt)},[wt,e,R]),Fe=m.useCallback(()=>{const q=Hf(Yi(e,0),e,wt);R(q)},[e,wt,R]),je=wt!==void 0&&wI(e,wt);return E.jsxs("div",{className:j.root,children:[E.jsxs(J8,{orientation:D?"horizontal":"vertical",variant:"scrollable",value:Ar,className:j.tabs,onChange:(q,Ve)=>Vr(Ve),style:{maxWidth:"100vw",marginLeft:D?"auto":8,marginRight:D?"auto":8},children:[E.jsx(bo,{tabIndex:0,label:M("settings.anki"),id:"anki-settings"}),E.jsx(bo,{tabIndex:1,label:M("settings.mining"),id:"mining-settings"}),E.jsx(bo,{tabIndex:2,label:M("settings.subtitleAppearance"),id:"subtitle-appearance"}),E.jsx(bo,{tabIndex:3,label:M("settings.keyboardShortcuts"),id:"keyboard-shortcuts"}),i&&E.jsx(bo,{tabIndex:4,label:M("settings.streamingVideo"),id:"streaming-video"}),E.jsx(bo,{tabIndex:5,label:M("settings.misc"),id:"misc-settings"}),E.jsx(bo,{tabIndex:6,label:M("about.title"),id:"about"})]}),E.jsx(xo,{value:Ar,index:ir["anki-settings"],children:E.jsxs(Ki,{className:j.formGroup,children:[E.jsx(tr,{label:M("settings.ankiConnectUrl"),value:I,error:!!lt,helperText:lt,color:"secondary",onChange:q=>F("ankiConnectUrl",q.target.value),InputProps:{endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Bt,{onClick:pt,children:E.jsx(tE,{})})})}}),g&&E.jsx(rT,{children:E.jsx(Ff,{i18nKey:"settings.corsHelperText",values:{origin},components:[E.jsx(Fs,{color:"secondary",target:"_blank",rel:"noreferrer",href:"https://youtu.be/Mv7fEVb6PHo?t=44",children:"video"},0)]})}),E.jsx(fi,{label:M("settings.deck"),value:$,selections:Te,onChange:q=>F("deck",q.target.value),onSelectionChange:q=>F("deck",q.target.value)}),E.jsx(fi,{label:M("settings.noteType"),value:K,selections:ve,onChange:q=>F("noteType",q.target.value),onSelectionChange:q=>F("noteType",q.target.value)}),zr.map((q,Ve)=>{const vt=q.custom?`custom_${q.key}`:`standard_${q.key}`,ne=!r||u?dt=>or(dt,zr,Ve):void 0,$e=!r||u?dt=>ye(q,dt):void 0;let Ye;Ve===0?Ye=1:Ve===zr.length-1&&(Ye=2);const St={onOrderChange:ne,onDisplayChange:$e,disabledDirection:Ye,display:q.field.display};return E.jsxs(nr.Fragment,{children:[!q.custom&&q.key==="sentence"&&E.jsx(fi,{label:M("settings.sentenceField"),value:U,selections:Jt,onChange:dt=>F("sentenceField",dt.target.value),onSelectionChange:dt=>F("sentenceField",dt.target.value),...St}),!q.custom&&q.key==="definition"&&E.jsx(fi,{label:M("settings.definitionField"),value:G,selections:Jt,onChange:dt=>F("definitionField",dt.target.value),onSelectionChange:dt=>F("definitionField",dt.target.value),...St}),!q.custom&&q.key==="word"&&E.jsx(fi,{label:M("settings.wordField"),value:N,selections:Jt,onChange:dt=>F("wordField",dt.target.value),onSelectionChange:dt=>F("wordField",dt.target.value),...St}),!q.custom&&q.key==="audio"&&E.jsx(fi,{label:M("settings.audioField"),value:B,selections:Jt,onChange:dt=>F("audioField",dt.target.value),onSelectionChange:dt=>F("audioField",dt.target.value),...St}),!q.custom&&q.key==="image"&&E.jsx(fi,{label:M("settings.imageField"),value:H,selections:Jt,onChange:dt=>F("imageField",dt.target.value),onSelectionChange:dt=>F("imageField",dt.target.value),...St}),!q.custom&&q.key==="source"&&E.jsx(fi,{label:M("settings.sourceField"),value:L,selections:Jt,onChange:dt=>F("sourceField",dt.target.value),onSelectionChange:dt=>F("sourceField",dt.target.value),...St}),!q.custom&&q.key==="url"&&E.jsx(fi,{label:M("settings.urlField"),value:W,selections:Jt,onChange:dt=>F("urlField",dt.target.value),onSelectionChange:dt=>F("urlField",dt.target.value),...St}),!q.custom&&q.key==="track1"&&(!r||u)&&E.jsx(fi,{label:M("settings.track1Field"),value:X,selections:Jt,onChange:dt=>F("track1Field",dt.target.value),onSelectionChange:dt=>F("track1Field",dt.target.value),...St}),!q.custom&&q.key==="track2"&&(!r||u)&&E.jsx(fi,{label:M("settings.track2Field"),value:Y,selections:Jt,onChange:dt=>F("track2Field",dt.target.value),onSelectionChange:dt=>F("track2Field",dt.target.value),...St}),!q.custom&&q.key==="track3"&&(!r||u)&&E.jsx(fi,{label:M("settings.track3Field"),value:ce,selections:Jt,onChange:dt=>F("track3Field",dt.target.value),onSelectionChange:dt=>F("track3Field",dt.target.value),...St}),q.custom&&E.jsx(fi,{label:`${q.key}`,value:se[q.key],selections:Jt,onChange:dt=>ur(q.key,dt.target.value),onSelectionChange:dt=>ur(q.key,dt.target.value),onRemoval:()=>Sr(q.key),removable:!0,...St})]},vt)}),E.jsx(hz,{onAddCustomField:$r}),E.jsx(NT,{label:M("settings.tags"),helperText:M("settings.tagsHelperText"),fullWidth:!0,color:"secondary",tags:me,onTagsChange:q=>F("tags",q)})]})}),E.jsxs(xo,{value:Ar,index:ir["mining-settings"],children:[E.jsx(Co,{className:j.top,component:"legend",children:M("settings.clickToMineDefaultAction")}),E.jsxs(ws,{row:!1,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:ht===hr.showAnkiDialog,value:hr.showAnkiDialog,onChange:q=>q.target.checked&&F("clickToMineDefaultAction",hr.showAnkiDialog)}),label:M("postMineAction.showAnkiDialog")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:ht===hr.updateLastCard,value:hr.updateLastCard,onChange:q=>q.target.checked&&F("clickToMineDefaultAction",hr.updateLastCard)}),label:M("postMineAction.updateLastCard")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:ht===hr.exportCard,value:hr.exportCard,onChange:q=>q.target.checked&&F("clickToMineDefaultAction",hr.exportCard)}),label:M("postMineAction.exportCard")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:ht===hr.none,value:hr.none,onChange:q=>q.target.checked&&F("clickToMineDefaultAction",hr.none)}),label:M("postMineAction.none")})]}),E.jsx(Co,{className:j.top,component:"legend",children:M("settings.postMinePlayback")}),E.jsxs(ws,{row:!1,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:Oe===An.remember,value:An.remember,onChange:q=>q.target.checked&&F("postMiningPlaybackState",An.remember)}),label:M("postMinePlayback.remember")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:Oe===An.play,value:An.play,onChange:q=>q.target.checked&&F("postMiningPlaybackState",An.play)}),label:M("postMinePlayback.play")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:Oe===An.pause,value:An.pause,onChange:q=>q.target.checked&&F("postMiningPlaybackState",An.pause)}),label:M("postMinePlayback.pause")})]}),E.jsxs(Ki,{className:j.formGroup,children:[E.jsx(Cr,{control:E.jsx(En,{checked:Ie,onChange:q=>F("recordWithAudioPlayback",q.target.checked)}),label:M("settings.recordWithAudioPlayback"),labelPlacement:"start",className:j.switchLabel}),E.jsx(Cr,{control:E.jsx(En,{checked:We,onChange:q=>F("preferMp3",q.target.checked)}),label:M("settings.mp3Preference"),labelPlacement:"start",className:j.switchLabel}),E.jsx(Cr,{control:E.jsx(En,{checked:Pe,onChange:q=>F("copyToClipboardOnMine",q.target.checked)}),label:M("settings.copyOnMine"),labelPlacement:"start",className:j.switchLabel}),E.jsx(tr,{type:"number",label:M("settings.audioPaddingStart"),fullWidth:!0,value:he,color:"secondary",onChange:q=>F("audioPaddingStart",Number(q.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:E.jsx(bn,{position:"end",children:"ms"})}}),E.jsx(tr,{type:"number",label:M("settings.audioPaddingEnd"),fullWidth:!0,value:ke,color:"secondary",onChange:q=>F("audioPaddingEnd",Number(q.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:E.jsx(bn,{position:"end",children:"ms"})}}),E.jsx(tr,{type:"number",label:M("settings.maxImageWidth"),fullWidth:!0,value:Re,color:"secondary",onChange:q=>F("maxImageWidth",Number(q.target.value)),inputProps:{min:0,step:1}}),E.jsx(tr,{type:"number",label:M("settings.maxImageHeight"),fullWidth:!0,value:_e,color:"secondary",onChange:q=>F("maxImageHeight",Number(q.target.value)),inputProps:{min:0,step:1}}),E.jsx(tr,{type:"number",label:M("settings.surroundingSubtitlesCountRadius"),fullWidth:!0,value:et,color:"secondary",onChange:q=>F("surroundingSubtitlesCountRadius",Number(q.target.value)),inputProps:{min:1,step:1}}),E.jsx(tr,{type:"number",label:M("settings.surroundingSubtitlesTimeRadius"),fullWidth:!0,value:Me,color:"secondary",onChange:q=>F("surroundingSubtitlesTimeRadius",Number(q.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:E.jsx(bn,{position:"end",children:"ms"})}})]})]}),E.jsx(xo,{value:Ar,index:ir["subtitle-appearance"],children:E.jsx(Mt,{item:!0,children:E.jsxs(Ki,{className:j.formGroup,children:[(!r||c)&&E.jsxs(E.Fragment,{children:[E.jsx(ez,{track:wt===void 0?"all":wt,onTrackSelected:q=>Nt(q==="all"?void 0:q)}),wt!==void 0&&E.jsx(Ya,{startIcon:E.jsx(b9,{}),disabled:!je,onClick:Fe,variant:"outlined",children:M("settings.reset")})]}),E.jsx(rz,{subtitleSettings:e,text:fe,onTextChanged:q=>F("subtitlePreview",q)}),pr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"color",label:M("settings.subtitleColor"),fullWidth:!0,value:pr,color:"secondary",onChange:q=>ae("subtitleColor",q.target.value)})}),lr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"number",label:M("settings.subtitleSize"),fullWidth:!0,value:lr,color:"secondary",onChange:q=>ae("subtitleSize",Number(q.target.value)),inputProps:{min:1,step:1}})}),wr!==void 0&&E.jsxs("div",{children:[E.jsx(un,{variant:"subtitle2",color:"textSecondary",children:M("settings.subtitleThickness")}),E.jsx(Np,{color:"secondary",value:wr,onChange:(q,Ve)=>ae("subtitleThickness",Ve),min:100,max:900,step:100,marks:!0,valueLabelDisplay:"auto"})]}),_r!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"color",label:M("settings.subtitleOutlineColor"),fullWidth:!0,value:_r,color:"secondary",onChange:q=>ae("subtitleOutlineColor",q.target.value)})}),Br!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"number",label:M("settings.subtitleOutlineThickness"),helperText:M("settings.subtitleOutlineThicknessHelperText"),fullWidth:!0,value:Br,onChange:q=>ae("subtitleOutlineThickness",Number(q.target.value)),inputProps:{min:0,step:.1},color:"secondary"})}),br!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"color",label:M("settings.subtitleShadowColor"),fullWidth:!0,value:br,color:"secondary",onChange:q=>ae("subtitleShadowColor",q.target.value)})}),yr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"number",label:M("settings.subtitleShadowThickness"),fullWidth:!0,value:yr,onChange:q=>ae("subtitleShadowThickness",Number(q.target.value)),inputProps:{min:0,step:.1},color:"secondary"})}),mr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"color",label:M("settings.subtitleBackgroundColor"),fullWidth:!0,value:mr,color:"secondary",onChange:q=>ae("subtitleBackgroundColor",q.target.value)})}),Rr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"number",label:M("settings.subtitleBackgroundOpacity"),fullWidth:!0,inputProps:{min:0,max:1,step:.1},value:Rr,color:"secondary",onChange:q=>ae("subtitleBackgroundOpacity",Number(q.target.value))})}),Pr!==void 0&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"text",select:x.length>0,label:M("settings.subtitleFontFamily"),fullWidth:!0,value:Pr,color:"secondary",onChange:q=>ae("subtitleFontFamily",q.target.value),InputProps:{endAdornment:x.length===0&&v&&S==="prompt"?E.jsx(Er,{title:M("settings.unlockLocalFonts"),children:E.jsx(Bt,{onClick:T,children:E.jsx(c9,{fontSize:"small"})})}):null},children:x.length>0?x.map(q=>E.jsx(Ji,{value:q,children:q},q)):null})}),jr!==void 0&&E.jsx(Er,{placement:"bottom-end",title:M("settings.subtitleBlurDescription"),children:E.jsx(Cr,{control:E.jsx(En,{checked:jr,onChange:q=>{ae("subtitleBlur",q.target.checked)}}),label:M("settings.subtitleBlur"),labelPlacement:"start",className:j.switchLabel})}),Hr!==void 0&&E.jsxs(E.Fragment,{children:[E.jsx(Co,{className:j.top,component:"legend",children:M("settings.subtitleAlignment")}),E.jsxs(ws,{row:!0,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:Hr==="bottom",value:"bottom",onChange:q=>q.target.checked&&ae("subtitleAlignment","bottom")}),label:M("settings.subtitleAlignmentBottom")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:Hr==="top",value:"top",onChange:q=>q.target.checked&&ae("subtitleAlignment","top")}),label:M("settings.subtitleAlignmentTop")})]})]}),vr!==void 0&&E.jsxs(E.Fragment,{children:[vr.map((q,Ve)=>E.jsx(mz,{customStyle:q,onCustomStyle:vt=>{const ne=[...e.subtitleCustomStyles];ne[Ve]={...vt},ae("subtitleCustomStyles",ne)},onDelete:()=>{const vt=[];for(let ne=0;ne<e.subtitleCustomStyles.length;++ne)ne!==Ve&&vt.push(e.subtitleCustomStyles[ne]);ae("subtitleCustomStyles",vt)}},Ve)),E.jsx(gz,{styleKey:dr,onStyleKey:Sn,onAddCustomStyle:q=>ae("subtitleCustomStyles",[...e.subtitleCustomStyles,{key:q,value:""}])})]}),wt===void 0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{className:j.textField,type:"number",color:"secondary",fullWidth:!0,label:M("settings.subtitlePositionOffset"),value:le,inputProps:{min:0,step:1},onChange:q=>F("subtitlePositionOffset",Number(q.target.value))})}),E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{className:j.textField,type:"number",color:"secondary",fullWidth:!0,label:M("settings.topSubtitlePositionOffset"),value:de,inputProps:{min:0,step:1},onChange:q=>F("topSubtitlePositionOffset",Number(q.target.value))})}),(!r||h)&&E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{className:j.textField,color:"secondary",fullWidth:!0,label:M("settings.subtitlesWidth"),disabled:pe===-1,value:pe===-1?"auto":pe,onChange:q=>{const Ve=Number(q.target.value);!Number.isNaN(Ve)&&Ve>=0&&Ve<=100&&F("subtitlesWidth",Ve)},InputProps:{endAdornment:E.jsxs(E.Fragment,{children:[pe===-1&&E.jsx(bn,{position:"end",children:E.jsx(Bt,{onClick:()=>F("subtitlesWidth",100),children:E.jsx(wy,{})})}),pe!==-1&&E.jsxs(E.Fragment,{children:[E.jsx(bn,{position:"end",children:"%"}),E.jsx(bn,{position:"end",children:E.jsx(Bt,{onClick:()=>F("subtitlesWidth",-1),children:E.jsx(nR,{})})})]})]})}})}),E.jsx("div",{className:j.subtitleSetting,children:E.jsx(tr,{type:"number",label:M("settings.imageBasedSubtitleScaleFactor"),placeholder:"Inherited",fullWidth:!0,inputProps:{min:0,max:1,step:.1},value:be,color:"secondary",onChange:q=>F("imageBasedSubtitleScaleFactor",Number(q.target.value))})})]})]})})}),E.jsx(xo,{value:Ar,index:ir["keyboard-shortcuts"],children:E.jsx(Ki,{className:j.formGroup,children:Object.keys(z).map(q=>{const Ve=q,vt=z[Ve];return vt.hide?null:E.jsx(pz,{label:vt.label,keys:r&&vt.boundViaChrome?b[Ve]??"":yt[Ve].keys,boundViaChrome:r&&vt.boundViaChrome,onKeysChange:ne=>Lr(ne,Ve),onOpenExtensionShortcuts:_},q)})})}),E.jsx(xo,{value:Ar,index:ir["streaming-video"],children:E.jsxs(Mt,{container:!0,direction:"column",spacing:1,children:[E.jsx(Mt,{item:!0,children:E.jsxs(Ki,{className:j.formGroup,children:[E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:Xe!==Os.noSubtitleList,onChange:q=>F("streamingSubtitleListPreference",Xe===Os.noSubtitleList?Os.app:Os.noSubtitleList)}),label:M("extension.settings.openSubtitleList"),labelPlacement:"start"}),a&&E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:Ce,onChange:q=>F("streamingEnableOverlay",q.target.checked)}),label:M("extension.settings.enableOverlay"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:ze,onChange:q=>F("streamingDisplaySubtitles",q.target.checked)}),label:M("extension.settings.displaySubtitles"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:ot,onChange:q=>F("streamingRecordMedia",q.target.checked)}),label:M("extension.settings.recordAudio"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:Ue,onChange:q=>F("streamingTakeScreenshot",q.target.checked)}),label:M("extension.settings.takeScreenshot"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:ct,onChange:q=>F("streamingCleanScreenshot",q.target.checked)}),label:M("extension.settings.cleanScreenshot"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:_t,onChange:q=>F("streamingCropScreenshot",q.target.checked)}),label:M("extension.settings.cropScreenshot"),labelPlacement:"start"}),E.jsx(tr,{className:j.textField,type:"number",color:"secondary",fullWidth:!0,label:M("extension.settings.screenshotCaptureDelay"),value:gr,onChange:q=>F("streamingScreenshotDelay",Number(q.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:E.jsx(bn,{position:"end",children:"ms"})}})]})}),E.jsx(Mt,{item:!0,children:E.jsxs(Ki,{children:[E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:Vt,onChange:q=>F("streamingSubsDragAndDrop",q.target.checked)}),label:M("extension.settings.dragAndDrop"),labelPlacement:"start"}),E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:He,onChange:q=>F("streamingAutoSync",q.target.checked)}),label:M("extension.settings.autoLoadDetectedSubs"),labelPlacement:"start"})]})}),E.jsx(Mt,{item:!0,children:E.jsx(Ki,{className:j.formGroup,children:E.jsx(tr,{className:j.textField,type:"number",color:"secondary",fullWidth:!0,label:M("extension.settings.condensedPlaybackMinSkipInterval"),value:Zt,onChange:q=>F("streamingCondensedPlaybackMinimumSkipIntervalMs",Number(q.target.value)),inputProps:{min:0,step:1},InputProps:{endAdornment:E.jsx(bn,{position:"end",children:"ms"})}})})}),E.jsx(Mt,{item:!0,children:E.jsx(Ki,{className:j.formGroup,children:!g&&E.jsx(tr,{className:j.textField,color:"secondary",fullWidth:!0,label:M("extension.settings.asbplayerUrl"),value:xe,onChange:q=>F("streamingAppUrl",q.target.value)})})})]})}),E.jsx(xo,{value:Ar,index:ir["misc-settings"],children:E.jsxs(Mt,{container:!0,spacing:1,direction:"column",children:[E.jsxs(Mt,{item:!0,children:[E.jsxs(O0,{children:[E.jsx(Co,{className:j.top,children:M("settings.theme")}),E.jsxs(ws,{row:!0,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:tt==="light",value:"light",onChange:q=>q.target.checked&&F("themeType","light")}),label:M("settings.themeLight")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:tt==="dark",value:"dark",onChange:q=>q.target.checked&&F("themeType","dark")}),label:M("settings.themeDark")})]})]}),E.jsxs(Ki,{className:j.formGroup,children:[E.jsx(Cr,{control:E.jsx(En,{checked:Q,onChange:q=>F("rememberSubtitleOffset",q.target.checked)}),label:M("settings.rememberSubtitleOffset"),labelPlacement:"start",className:j.switchLabel}),E.jsx(Cr,{control:E.jsx(En,{checked:Et,onChange:q=>F("autoCopyCurrentSubtitle",q.target.checked)}),label:M("settings.autoCopy"),labelPlacement:"start",className:j.switchLabel}),E.jsx(Cr,{control:E.jsx(En,{checked:Tt,onChange:q=>F("alwaysPlayOnSubtitleRepeat",q.target.checked)}),label:M("settings.alwaysPlayOnSubtitleRepeat"),labelPlacement:"start",className:j.switchLabel}),E.jsx(tr,{type:"number",label:M("settings.miningHistoryStorageLimit"),fullWidth:!0,value:mt,color:"secondary",onChange:q=>F("miningHistoryStorageLimit",Number(q.target.value)),inputProps:{min:0,step:1}}),g&&E.jsx(tr,{label:M("settings.tabName"),fullWidth:!0,value:st,color:"secondary",onChange:q=>F("tabName",q.target.value)}),E.jsx(tr,{label:M("settings.subtitleRegexFilter"),fullWidth:!0,value:Z,color:"secondary",error:!sn,helperText:sn?void 0:"Invalid regular expression",onChange:q=>F("subtitleRegexFilter",q.target.value)}),E.jsx(tr,{label:M("settings.subtitleRegexFilterTextReplacement"),fullWidth:!0,value:ie,color:"secondary",onChange:q=>F("subtitleRegexFilterTextReplacement",q.target.value)}),E.jsx(tr,{select:!0,label:M("settings.language"),value:rt,color:"secondary",onChange:q=>F("language",q.target.value),children:k.map(q=>E.jsx(Ji,{value:q,children:q},q))})]})]}),E.jsxs(Mt,{item:!0,children:[E.jsxs(Mt,{container:!0,direction:"row",spacing:1,children:[E.jsx(Mt,{item:!0,children:E.jsx(Co,{children:M("settings.autoPausePreference")})}),E.jsx(Mt,{item:!0,children:E.jsx(Er,{title:M("settings.autoPausePreferenceHelperText"),placement:"top",children:E.jsx(ZC,{fontSize:"small"})})})]}),E.jsxs(ws,{row:!0,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:De===Ai.atStart,value:Ai.atStart,onChange:q=>q.target.checked&&F("autoPausePreference",Ai.atStart)}),label:M("settings.autoPauseAtSubtitleStart")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:De===Ai.atEnd,value:Ai.atEnd,onChange:q=>q.target.checked&&F("autoPausePreference",Ai.atEnd)}),label:M("settings.autoPauseAtSubtitleEnd")})]})]}),(!r||f)&&E.jsxs(Mt,{item:!0,children:[E.jsx(Co,{className:j.top,component:"legend",children:M("settings.pauseOnHoverMode")}),E.jsxs(ws,{row:!1,children:[E.jsx(Cr,{control:E.jsx(Bn,{checked:Ze===Ri.disabled,value:Ri.disabled,onChange:q=>q.target.checked&&F("pauseOnHoverMode",Ri.disabled)}),label:M("pauseOnHoverMode.disabled")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:Ze===Ri.inAndOut,value:Ri.inAndOut,onChange:q=>q.target.checked&&F("pauseOnHoverMode",Ri.inAndOut)}),label:M("pauseOnHoverMode.inAndOut")}),E.jsx(Cr,{control:E.jsx(Bn,{checked:Ze===Ri.inNotOut,value:Ri.inNotOut,onChange:q=>q.target.checked&&F("pauseOnHoverMode",Ri.inNotOut)}),label:M("pauseOnHoverMode.inNotOut")})]})]}),E.jsx(Mt,{item:!0,children:E.jsx(tr,{type:"number",label:M("settings.speedChangeStep"),fullWidth:!0,value:gt,color:"secondary",onChange:q=>F("speedChangeStep",Number(q.target.value)),inputProps:{min:.1,max:1,step:.1}})}),E.jsx(Mt,{item:!0,children:E.jsx(tr,{type:"number",label:M("settings.fastForwardModePlaybackRate"),fullWidth:!0,value:Ge,color:"secondary",onChange:q=>F("fastForwardModePlaybackRate",Number(q.target.value)),inputProps:{min:.1,max:5,step:.1}})}),E.jsx(Mt,{item:!0,children:E.jsx(Cr,{control:E.jsx(En,{checked:Be,onChange:q=>F("preCacheSubtitleDom",q.target.checked)}),label:E.jsxs(Mt,{container:!0,direction:"row",spacing:1,children:[E.jsx(Mt,{item:!0,className:j.verticallyCentered,children:M("settings.preCacheSubtitleDom")}),E.jsx(Mt,{item:!0,className:j.verticallyCentered,children:E.jsx(Er,{title:M("settings.preCacheSubtitleDomHelperText"),placement:"top",children:E.jsx(ZC,{})})})]}),labelPlacement:"start",className:j.switchLabel})}),!Fc&&E.jsxs(E.Fragment,{children:[E.jsx(Mt,{item:!0,children:E.jsx(Cr,{className:j.switchLabel,control:E.jsx(En,{checked:Ot,onChange:q=>F("webSocketClientEnabled",q.target.checked)}),label:M("settings.webSocketClientEnabled"),labelPlacement:"start"})}),E.jsx(Mt,{item:!0,children:E.jsx(tr,{className:j.textField,color:"secondary",fullWidth:!0,label:M("settings.webSocketServerUrl"),value:jt,disabled:!Ot,onChange:q=>F("webSocketServerUrl",q.target.value),error:Ot&&Ke===!1,helperText:Ir,InputProps:{endAdornment:E.jsx(bn,{position:"end",children:E.jsx(Bt,{onClick:bt,children:E.jsx(tE,{})})})}})})]}),E.jsx(Mt,{item:!0,children:E.jsx(Ya,{variant:"contained",color:"secondary",style:{width:"100%"},onClick:nt,children:M("action.importSettings")})}),E.jsx(Mt,{item:!0,children:E.jsx(Ya,{variant:"contained",color:"secondary",style:{width:"100%"},onClick:$t,children:M("action.exportSettings")})})]})}),E.jsx(xo,{value:Ar,index:ir.about,children:E.jsx(sz,{appVersion:g?p:void 0,extensionVersion:r?n:void 0})}),E.jsx("input",{ref:Se,onChange:ut,type:"file",accept:".json",multiple:!0,hidden:!0})]})}var Uu={},mE;function bz(){if(mE)return Uu;mE=1;var t=Wt(),e=Qt();Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");return Uu.default=i,Uu}var xz=bz();const wz=zt(xz),vE=16,Sz=5,kz=dn({newProfileTextField:{"& .MuiInputBase-root":{paddingRight:0}},menu:{"& .MuiSelect-root":{padding:0}}}),yE=dn({root:({collapsed:t})=>t?{"&:hover":{backgroundColor:"transparent"},margin:0}:{margin:0}});function bE({onRemoveProfile:t,onSetActiveProfile:e,divider:r,profile:n,collapsed:i,t:a,className:s}){return E.jsxs(Ji,{className:s,divider:r,value:(n==null?void 0:n.name)??"-",children:[E.jsx("div",{onClick:u=>{u.currentTarget===u.target&&e(n==null?void 0:n.name)},style:{flexGrow:1},children:(n==null?void 0:n.name)??a("settings.defaultProfile")}),n!==void 0&&E.jsx(Bt,{onMouseDown:u=>u.stopPropagation(),onClick:u=>{t(n.name)},style:{padding:4,marginRight:i?16:0},children:E.jsx(jp,{fontSize:"small"})})]},(n==null?void 0:n.name)??"")}function Cz({profiles:t,activeProfile:e,onNewProfile:r,onRemoveProfile:n,onSetActiveProfile:i}){const{t:a}=Mr(),s=kz(),u=yE({collapsed:!0}),c=yE({collapsed:!1}),[h,f]=m.useState(!1),g=m.useRef(),[p,y]=m.useState(""),b=p.trim(),v=b!==""&&b!=="-"&&b.length>=1&&b.length<=vE&&t.find(x=>x.name===b)===void 0;m.useEffect(()=>{if(!h)return;const x=k=>{if(k.key==="Enter"){if(!v)return;f(!1),r(p.trim())}};return document.addEventListener("keypress",x),()=>document.removeEventListener("keypress",x)},[h,p,r,v]);const S=t.length>=Sz;return E.jsxs(E.Fragment,{children:[h&&E.jsx(tr,{inputRef:x=>{g.current=x,x==null||x.focus()},className:s.newProfileTextField,fullWidth:!0,size:"small",color:"secondary",variant:"outlined",style:{paddingRight:0},label:a("settings.profileName"),placeholder:a("settings.enterProfileName"),value:p,onChange:x=>{y(x.target.value)},inputProps:{maxLength:vE},InputProps:{endAdornment:E.jsxs(bn,{position:"end",children:[E.jsx(Bt,{onClick:()=>{f(!1)},children:E.jsx(nR,{fontSize:"small"})}),E.jsx(Bt,{disabled:!v,onClick:()=>{f(!1),r(p.trim())},children:E.jsx(wz,{fontSize:"small"})})]})}}),!h&&E.jsxs(tr,{select:!0,fullWidth:!0,className:s.menu,size:"small",color:"secondary",variant:"outlined",label:a("settings.activeProfile"),value:e??"-",SelectProps:{renderValue:x=>bE({profile:t.find(k=>k.name===x),divider:!1,onRemoveProfile:n,onSetActiveProfile:i,collapsed:!0,t:a,className:u.root})},children:[E.jsx(Ji,{value:"-",onClick:()=>i(void 0),children:a("settings.defaultProfile")},""),t.map((x,k)=>bE({profile:x,divider:k===t.length-1,onRemoveProfile:n,onSetActiveProfile:i,collapsed:!1,t:a,className:c.root})),E.jsx(Ji,{disabled:S,onClick:()=>{y(""),f(!0)},style:{textAlign:"center"},children:a(S?"settings.profileLimitReached":"settings.newProfile")})]})]})}const Ez=ao(t=>({root:{"& .MuiPaper-root":{height:"100vh"}},content:{maxHeight:"100%"},profilesContainer:{paddingLeft:t.spacing(4),paddingRight:t.spacing(4),paddingBottom:t.spacing(2)},title:{flexGrow:1}}));function _z({anki:t,extension:e,open:r,settings:n,scrollToId:i,onSettingsChanged:a,onClose:s,...u}){const{t:c}=Mr(),h=Ez(),{updateLocalFontsPermission:f,updateLocalFonts:g,localFontsAvailable:p,localFontsPermission:y,localFontFamilies:b}=Q9(),v=m.useCallback(()=>{f(),g()},[f,g]);return E.jsxs(hT,{open:r,maxWidth:"md",fullWidth:!0,className:h.root,onClose:s,children:[E.jsxs(I0,{children:[E.jsx(un,{variant:"h6",className:h.title,children:c("settings.title")}),E.jsx(Bt,{edge:"end",onClick:s,children:E.jsx(A0,{})})]}),E.jsx(gT,{className:h.content,children:E.jsx(yz,{anki:t,extensionInstalled:e.installed,extensionVersion:e.installed?e.version:void 0,extensionSupportsAppIntegration:e.supportsAppIntegration,extensionSupportsOverlay:e.supportsStreamingVideoOverlay,extensionSupportsSidePanel:e.supportsSidePanel,extensionSupportsOrderableAnkiFields:e.supportsOrderableAnkiFields,extensionSupportsTrackSpecificSettings:e.supportsTrackSpecificSettings,extensionSupportsSubtitlesWidthSetting:e.supportsSubtitlesWidthSetting,extensionSupportsPauseOnHover:e.supportsPauseOnHover,insideApp:!0,appVersion:"da4145b5",chromeKeyBinds:e.extensionCommands,onOpenChromeExtensionShortcuts:e.openShortcuts,onSettingsChanged:a,settings:n,scrollToId:i,localFontsAvailable:p,localFontsPermission:y,localFontFamilies:b,supportedLanguages:JI,onUnlockLocalFonts:v})}),(!e.installed||e.supportsSettingsProfiles)&&E.jsx(np,{className:h.profilesContainer,children:E.jsx(Cz,{...u})})]})}class Pz{constructor(e){this.channel=new BroadcastChannel(e),this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.closeCallbacks=[],this.readyCallbacks=[],this.subtitlesCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.fullscreenToggleCallbacks=[],this.subtitleSettingsCallbacks=[],this.miscSettingsCallbacks=[],this.ankiSettingsCallbacks=[],this.alertCallbacks=[],this.copyCallbacks=[];const r=this;this.channel.onmessage=n=>{switch(n.data.command){case"init":break;case"ready":const i=n.data;for(let C of r.readyCallbacks)C(i.duration,i.videoFileName);break;case"play":for(let C of r.playCallbacks)C();break;case"pause":for(let C of r.pauseCallbacks)C();break;case"currentTime":const a=n.data;for(let C of r.currentTimeCallbacks)C(a.value);break;case"audioTrackSelected":const s=n.data;for(let C of r.audioTrackSelectedCallbacks)C(s.id);break;case"close":for(let C of r.closeCallbacks)C();break;case"subtitles":const u=n.data;for(let C of r.subtitlesCallbacks)C(u.value,u.names.length>0?u.names[0]:"");break;case"offset":const c=n.data;for(const C of r.offsetCallbacks)C(c.value);break;case"playbackRate":const h=n.data;for(const C of r.playbackRateCallbacks)C(h.value);break;case"subtitleSettings":const f=n.data;for(let C of r.subtitleSettingsCallbacks)C(f.value);break;case"playMode":const g=n.data;for(let C of r.playModeCallbacks)C(g.playMode);break;case"hideSubtitlePlayerToggle":const p=n.data;for(let C of r.hideSubtitlePlayerToggleCallbacks)C(p.value);break;case"appBarToggle":const y=n.data;for(let C of r.appBarToggleCallbacks)C(y.value);break;case"fullscreenToggle":const b=n.data;for(const C of r.fullscreenToggleCallbacks)C(b.value);break;case"ankiSettings":const v=n.data;for(let C of r.ankiSettingsCallbacks)C(v.value);break;case"miscSettings":const S=n.data;for(let C of r.miscSettingsCallbacks)C(S.value);break;case"alert":const x=n.data;for(const C of r.alertCallbacks)C(x.message,x.severity);break;case"copy":const k=n.data;for(const C of r.copyCallbacks){const{text:R,word:_,definition:T,customFieldValues:O}=k,D={text:R,word:_,definition:T,customFieldValues:O};C(k.postMineAction,k.subtitle,k.surroundingSubtitles,D)}break;default:console.error("Unrecognized event "+n.data.command)}}}currentTime(e,r=!0){var n;(n=this.channel)==null||n.postMessage({command:"currentTime",value:e,echo:r})}onPlay(e){return this.playCallbacks.push(e),()=>this._remove(e,this.playCallbacks)}onPause(e){return this.pauseCallbacks.push(e),()=>this._remove(e,this.pauseCallbacks)}onCurrentTime(e){return this.currentTimeCallbacks.push(e),()=>this._remove(e,this.currentTimeCallbacks)}onAudioTrackSelected(e){return this.audioTrackSelectedCallbacks.push(e),()=>this._remove(e,this.audioTrackSelectedCallbacks)}onClose(e){return this.closeCallbacks.push(e),()=>this._remove(e,this.closeCallbacks)}onReady(e){return this.readyCallbacks.push(e),()=>this._remove(e,this.readyCallbacks)}onSubtitles(e){return this.subtitlesCallbacks.push(e),()=>this._remove(e,this.subtitlesCallbacks)}onOffset(e){return this.offsetCallbacks.push(e),()=>this._remove(e,this.offsetCallbacks)}onPlaybackRate(e){return this.playbackRateCallbacks.push(e),()=>this._remove(e,this.playbackRateCallbacks)}onPlayMode(e){return this.playModeCallbacks.push(e),()=>this._remove(e,this.playModeCallbacks)}onHideSubtitlePlayerToggle(e){return this.hideSubtitlePlayerToggleCallbacks.push(e),()=>this._remove(e,this.hideSubtitlePlayerToggleCallbacks)}onAppBarToggle(e){return this.appBarToggleCallbacks.push(e),()=>this._remove(e,this.appBarToggleCallbacks)}onFullscreenToggle(e){return this.fullscreenToggleCallbacks.push(e),()=>this._remove(e,this.fullscreenToggleCallbacks)}onSubtitleSettings(e){return this.subtitleSettingsCallbacks.push(e),()=>this._remove(e,this.subtitleSettingsCallbacks)}onMiscSettings(e){return this.miscSettingsCallbacks.push(e),()=>this._remove(e,this.miscSettingsCallbacks)}onAnkiSettings(e){return this.ankiSettingsCallbacks.push(e),()=>this._remove(e,this.ankiSettingsCallbacks)}onAlert(e){return this.alertCallbacks.push(e),()=>this._remove(e,this.alertCallbacks)}onCopy(e){return this.copyCallbacks.push(e),()=>this._remove(e,this.copyCallbacks)}ready(e,r,n,i,a){var u;const s={command:"ready",duration:e,paused:r,currentTime:0,audioTracks:i,selectedAudioTrack:a,playbackRate:n};(u=this.channel)==null||u.postMessage(s)}readyState(e){var n;const r={command:"readyState",value:e};(n=this.channel)==null||n.postMessage(r)}play(e=!0){var n;const r={command:"play",echo:e};(n=this.channel)==null||n.postMessage(r)}pause(e=!0){var n;const r={command:"pause",echo:e};(n=this.channel)==null||n.postMessage(r)}audioTrackSelected(e){var n;const r={command:"audioTrackSelected",id:e};(n=this.channel)==null||n.postMessage(r)}offset(e){var n;const r={command:"offset",value:e};(n=this.channel)==null||n.postMessage(r)}playbackRate(e,r=!0){var i;const n={command:"playbackRate",value:e,echo:r};(i=this.channel)==null||i.postMessage(n)}popOutToggle(){var e;(e=this.channel)==null||e.postMessage({command:"popOutToggle"})}copy(e,r,n,i,a,s){var c;const u={command:"copy",subtitle:e,surroundingSubtitles:r,...n,subtitleFileName:i,postMineAction:s,mediaTimestamp:a};(c=this.channel)==null||c.postMessage(u)}playMode(e){var r;(r=this.channel)==null||r.postMessage({command:"playMode",playMode:e})}hideSubtitlePlayerToggle(){var e;(e=this.channel)==null||e.postMessage({command:"hideSubtitlePlayerToggle"})}appBarToggle(){var e;(e=this.channel)==null||e.postMessage({command:"appBarToggle"})}toggleSubtitleTrackInList(e){var n;const r={command:"toggleSubtitleTrackInList",track:e};(n=this.channel)==null||n.postMessage(r)}loadFiles(){var e;(e=this.channel)==null||e.postMessage({command:"loadFiles"})}close(){this.channel&&(this.channel.postMessage({command:"exit"}),this.channel.close(),this.channel=void 0,this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.closeCallbacks=[],this.readyCallbacks=[],this.subtitlesCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.fullscreenToggleCallbacks=[],this.subtitleSettingsCallbacks=[],this.miscSettingsCallbacks=[],this.ankiSettingsCallbacks=[],this.alertCallbacks=[],this.copyCallbacks=[])}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const Tz=(t,e)=>{const[r,n]=m.useState(new Nx);return m.useEffect(()=>{const i=new Nx;return n(i),()=>i.clear()},[t,e]),{getSubtitleDomCache:()=>{if(r.empty)for(const i of t)r.add(String(i.index),e(i));return r}}};function pc(t,e,r){const n=e;let i=-1,a=Number.MAX_SAFE_INTEGER;for(let s=0;s<r.length;++s){const u=r[s],c=t?u.start-n:n-u.start;a<=c||(t&&n<u.start?(a=c,i=s):!t&&n>u.start&&(a=c,i=n<u.end?Math.max(0,s-1):s))}return i!==-1?r[i]:null}class xE{constructor(e){this.keyBindSet=e}bindCopy(e,r,n,i=!1){const a=this.keyBindSet.copySubtitle.keys;if(!a)return()=>{};const s=this.copyHandler(e,r,n);return this._bind(a,i,s)}copyHandler(e,r,n){return i=>{if(r())return!1;const a=n();return a?(e(i,a),!0):!1}}bindAnkiExport(e,r,n=!1){const i=this.keyBindSet.ankiExport.keys;if(!i)return()=>{};const a=this.ankiExportHandler(e,r);return this._bind(i,n,a)}ankiExportHandler(e,r){return n=>r()?!1:(e(n),!0)}bindUpdateLastCard(e,r,n=!1){const i=this.keyBindSet.updateLastCard.keys;if(!i)return()=>{};const a=this.updateLastCardHandler(e,r);return this._bind(i,n,a)}updateLastCardHandler(e,r){return n=>r()?!1:(e(n),!0)}bindTakeScreenshot(e,r,n=!1){const i=this.keyBindSet.takeScreenshot.keys;if(!i)return()=>{};const a=this.takeScreenshotHandler(e,r);return this._bind(i,n,a)}takeScreenshotHandler(e,r){return n=>r()?!1:(e(n),!0)}bindToggleRecording(e,r,n=!1){const i=this.keyBindSet.toggleRecording.keys;if(!i)return()=>{};const a=this.takeScreenshotHandler(e,r);return this._bind(i,n,a)}toggleRecordingHandler(e,r){return n=>r()?!1:(e(n),!0)}bindSeekToSubtitle(e,r,n,i,a=!1){const s=(y,b)=>{if(r())return!1;const v=i();if(!v||v.length===0)return!1;const S=pc(b,n(),v);return S!==null&&S.start>=0&&S.end>=0?(e(y,S),!0):!1},u=this.keyBindSet.seekToPreviousSubtitle.keys,c=this.keyBindSet.seekToNextSubtitle.keys,h=y=>s(y,!1),f=y=>s(y,!0);let g,p;return u&&(g=this._bind(u,a,h)),c&&(p=this._bind(c,a,f)),()=>{g==null||g(),p==null||p()}}bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a=!1){const s=this.keyBindSet.seekToBeginningOfCurrentSubtitle.keys;if(!s)return()=>{};const u=c=>{if(r())return!1;const h=i();if(!h||h.length===0)return!1;const f=this._currentOrPreviousSubtitle(n(),h);return f!==void 0&&f.start>=0&&f.end>=0?(e(c,f),!0):!1};return this._bind(s,a,u)}_currentOrPreviousSubtitle(e,r){const n=e;let i,a,s=Number.MAX_SAFE_INTEGER;for(let u=0;u<r.length;++u){const c=r[u];if(c.start<0||c.end<0)continue;const h=n-c.start;n>=c.start&&n<c.end?h<s&&(i=c,s=h):n>c.end&&(a=c)}return i||a}bindSeekBackwardOrForward(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.seekBackward.keys,s=this.keyBindSet.seekForward.keys,u=g=>i(g,!1),c=g=>i(g,!0);let h,f;return a&&(h=this._bind(a,n,u)),s&&(f=this._bind(s,n,c)),()=>{h==null||h(),f==null||f()}}bindOffsetToSubtitle(e,r,n,i,a=!1){const s=(y,b)=>{if(r())return!1;const v=i();if(!v||v.length===0)return!1;const S=n(),x=pc(b,S,v);if(x!==null){const k=x.originalStart,C=S-k;return e(y,C),!0}return!1},u=this.keyBindSet.adjustOffsetToPreviousSubtitle.keys,c=this.keyBindSet.adjustOffsetToNextSubtitle.keys,h=y=>s(y,!1),f=y=>s(y,!0);let g,p;return u&&(g=this._bind(u,a,h)),c&&(p=this._bind(c,a,f)),()=>{g==null||g(),p==null||p()}}bindAdjustOffset(e,r,n,i=!1){const a=(p,y)=>{if(r())return!1;const b=n();if(!b||b.length===0)return!1;const S=b[0].start-b[0].originalStart+(y?100:-100);return e(p,S),!0},s=this.keyBindSet.decreaseOffset.keys,u=this.keyBindSet.increaseOffset.keys,c=p=>a(p,!1),h=p=>a(p,!0),f=s?this._bind(s,i,c):()=>{},g=u?this._bind(u,i,h):()=>{};return()=>{f(),g()}}bindResetOffet(e,r,n){const i=this.keyBindSet.resetOffset.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n??!1,a)}bindAdjustPlaybackRate(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.increasePlaybackRate.keys,s=this.keyBindSet.decreasePlaybackRate.keys,u=g=>i(g,!1),c=g=>i(g,!0);let h,f;return s&&(h=this._bind(s,n,u)),a&&(f=this._bind(a,n,c)),()=>{h==null||h(),f==null||f()}}bindToggleSubtitles(e,r,n=!1){const i=this.keyBindSet.toggleSubtitles.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindToggleSubtitleTrackInVideo(e,r,n=!1){const i=[this.keyBindSet.toggleVideoSubtitleTrack1.keys,this.keyBindSet.toggleVideoSubtitleTrack2.keys,this.keyBindSet.toggleVideoSubtitleTrack3.keys].filter(u=>u);if(i.length===0)return()=>{};const a=(u,c)=>r()?!1:(e(u,c),!0);let s=[];for(let u=0;u<i.length;++u){const c=f=>a(f,u),h=i[u]?this._bind(i[u],n,c):()=>{};s.push(h)}return()=>{for(let u=0;u<i.length;++u){const c=s[u];c()}}}bindToggleSubtitleTrackInList(e,r,n=!1){const i=[this.keyBindSet.toggleAsbplayerSubtitleTrack1.keys,this.keyBindSet.toggleAsbplayerSubtitleTrack2.keys,this.keyBindSet.toggleAsbplayerSubtitleTrack3.keys].filter(u=>u);if(i.length===0)return()=>{};const a=(u,c)=>r()?!1:(e(u,c),!0);let s=[];for(let u=0;u<9;++u){const c=f=>a(f,u),h=i[u]?this._bind(i[u],n,c):()=>{};s.push(h)}return()=>{for(let u=0;u<9;++u){const c=s[u];c()}}}bindUnblurTrack(e,r,n=!1){const i=[this.keyBindSet.unblurAsbplayerTrack1.keys,this.keyBindSet.unblurAsbplayerTrack2.keys,this.keyBindSet.unblurAsbplayerTrack3.keys].filter(u=>u);if(i.length===0)return()=>{};const a=(u,c)=>r()?!1:(e(u,c),!0);let s=[];for(let u=0;u<i.length;++u){const c=f=>a(f,u),h=i[u]?this._bind(i[u],n,c):()=>{};s.push(h)}return()=>{for(let u=0;u<i.length;++u){const c=s[u];c()}}}bindPlay(e,r,n=!1){const i=this.keyBindSet.togglePlay.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindAutoPause(e,r,n=!1){const i=this.keyBindSet.toggleAutoPause.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindCondensedPlayback(e,r,n=!1){const i=this.keyBindSet.toggleCondensedPlayback.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindFastForwardPlayback(e,r,n=!1){const i=this.keyBindSet.toggleFastForwardPlayback.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindToggleSidePanel(e,r,n=!1){const i=this.keyBindSet.toggleSidePanel.keys;if(!i)return()=>{};const a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}bindToggleRepeat(e,r,n=!1){const i=this.keyBindSet.toggleRepeat.keys,a=s=>r()?!1:(e(s),!0);return this._bind(i,n,a)}_bind(e,r,n){let i;const a=s=>{s.type==="keydown"?i=n(s):s.type==="keyup"&&(i&&(s.preventDefault(),s.stopImmediatePropagation()),i=void 0)};return gi(e,{capture:r,keydown:!0,keyup:!0},a),()=>gi.unbind(e,a)}}const gR=(t,e)=>{const[r,n]=m.useState(()=>new Fx(new xE(t),e));return m.useEffect(()=>{const i=new Fx(new xE(t),e);n(a=>(a.unsubscribeExtension(),i))},[t,e]),r},Rz=({onSwipe:t,rect:e,distance:r,ms:n})=>{const[i,a]=m.useState(),s=m.useCallback((u,c)=>e===void 0?!0:u>=e.left&&u<=e.right&&c>=e.top&&c<=e.bottom,[e]);m.useEffect(()=>{const u=c=>{const h=c.changedTouches[0].clientX,f=c.changedTouches[0].clientY;s(h,f)&&a({x:h,timestamp:Date.now()})};return document.addEventListener("touchstart",u),()=>document.removeEventListener("touchstart",u)},[s]),m.useEffect(()=>{if(i===void 0)return;const u=c=>{const h=c.changedTouches[0].clientX,f=c.changedTouches[0].clientY;s(h,f)&&Date.now()-i.timestamp<=n&&(i.x>=h+r?t("left"):i.x<=h-r&&t("right")),a(void 0)};return document.addEventListener("touchend",u),()=>document.removeEventListener("touchend",u)},[i,r,n,t,s])};function Dp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}function qc(t,e){if(e&&(cn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $i(t)}function ea(t){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ea(t)}function Oz(t){return H_(t)||V2(t)||l0(t)||U_()}function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Az={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},Iz=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,t),this.init(e,r)}return Xn(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||Az,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,SE(SE({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Xi=new Iz,eo=function(){function t(){vi(this,t),this.observers={}}return Xn(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var s=[].concat(this.observers[r]);s.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var u=[].concat(this.observers["*"]);u.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function Ku(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function kE(t){return t==null?"":""+t}function Nz(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function V0(t,e,r){function n(u){return u&&u.indexOf("###")>-1?u.replace(/###/g,"."):u}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var s=n(a.shift());!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function CE(t,e,r){var n=V0(t,e,Object),i=n.obj,a=n.k;i[a]=r}function Fz(t,e,r,n){var i=V0(t,e,Object),a=i.obj,s=i.k;a[s]=a[s]||[],a[s].push(r)}function ip(t,e){var r=V0(t,e),n=r.obj,i=r.k;if(n)return n[i]}function Mz(t,e,r){var n=ip(t,r);return n!==void 0?n:ip(e,r)}function mR(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):mR(t[n],e[n],r):t[n]=e[n]);return t}function ks(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $z(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return jz[e]}):t}var Bp=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Lz=[" ",",","?","!",";"];function Dz(t,e,r){e=e||"",r=r||"";var n=Lz.filter(function(u){return e.indexOf(u)<0&&r.indexOf(u)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(u){return u==="?"?"\\?":u}).join("|"),")")),a=!i.test(t);if(!a){var s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a}function ap(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var s=2,u=n.slice(a,a+s).join(r),c=i[u];c===void 0&&n.length>a+s;)s++,u=n.slice(a,a+s).join(r),c=i[u];if(c===void 0)return;if(c===null)return null;if(e.endsWith(u)){if(typeof c=="string")return c;if(u&&typeof c[u]=="string")return c[u]}var h=n.slice(a+s).join(r);return h?ap(c,h,r):void 0}i=i[n[a]]}return i}}function EE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bz(t){var e=zz();return function(){var n=ea(t),i;if(e){var a=ea(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qc(this,i)}}function zz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Vz=function(t){Dp(r,t);var e=Bz(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return vi(this,r),i=e.call(this),Bp&&eo.call($i(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Xn(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,h=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,a];s&&typeof s!="string"&&(f=f.concat(s)),s&&typeof s=="string"&&(f=f.concat(c?s.split(c):s)),i.indexOf(".")>-1&&(f=i.split("."));var g=ip(this.data,f);return g||!h||typeof s!="string"?g:ap(this.data&&this.data[i]&&this.data[i][a],s,c)}},{key:"addResource",value:function(i,a,s,u){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},h=this.options.keySeparator;h===void 0&&(h=".");var f=[i,a];s&&(f=f.concat(h?s.split(h):s)),i.indexOf(".")>-1&&(f=i.split("."),u=a,a=f[1]),this.addNamespaces(a),CE(this.data,f,u),c.silent||this.emit("added",i,a,s,u)}},{key:"addResources",value:function(i,a,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in s)(typeof s[c]=="string"||Object.prototype.toString.apply(s[c])==="[object Array]")&&this.addResource(i,a,c,s[c],{silent:!0});u.silent||this.emit("added",i,a,s)}},{key:"addResourceBundle",value:function(i,a,s,u,c){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,a];i.indexOf(".")>-1&&(f=i.split("."),u=s,s=a,a=f[1]),this.addNamespaces(a);var g=ip(this.data,f)||{};u?mR(g,s,c):g=xf(xf({},g),s),CE(this.data,f,g),h.silent||this.emit("added",i,a,s)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?xf(xf({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),s=a&&Object.keys(a)||[];return!!s.find(function(u){return a[u]&&Object.keys(a[u]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(eo),vR={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var s=this;return e.forEach(function(u){s.processors[u]&&(r=s.processors[u].process(r,n,i,a))}),r}};function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wz(t){var e=qz();return function(){var n=ea(t),i;if(e){var a=ea(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qc(this,i)}}function qz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PE={},TE=function(t){Dp(r,t);var e=Wz(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return vi(this,r),i=e.call(this),Bp&&eo.call($i(i)),Nz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,$i(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Xi.create("translator"),i}return Xn(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var s=this.resolve(i,a);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(i,a){var s=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");var u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],h=s&&i.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Dz(i,s,u);if(h&&!f){var g=i.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:i,namespaces:c};var p=i.split(s);(s!==u||s===u&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),i=p.join(u)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,s){var u=this;if(cn(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,h=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],a),g=f.key,p=f.namespaces,y=p[p.length-1],b=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b&&b.toLowerCase()==="cimode"){if(v){var S=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(y).concat(S).concat(g),usedKey:g,exactUsedKey:g,usedLng:b,usedNS:y}:"".concat(y).concat(S).concat(g)}return c?{res:g,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:y}:g}var x=this.resolve(i,a),k=x&&x.res,C=x&&x.usedKey||g,R=x&&x.exactUsedKey||g,_=Object.prototype.toString.apply(k),T=["[object Number]","[object Function]","[object RegExp]"],O=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,j=typeof k!="string"&&typeof k!="boolean"&&typeof k!="number";if(D&&k&&j&&T.indexOf(_)<0&&!(typeof O=="string"&&_==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,k,Un(Un({},a),{},{ns:p})):"key '".concat(g," (").concat(this.language,")' returned an object instead of string.");return c?(x.res=F,x):F}if(h){var M=_==="[object Array]",z=M?[]:{},I=M?R:C;for(var $ in k)if(Object.prototype.hasOwnProperty.call(k,$)){var K="".concat(I).concat(h).concat($);z[$]=this.translate(K,Un(Un({},a),{joinArrays:!1,ns:p})),z[$]===K&&(z[$]=k[$])}k=z}}else if(D&&typeof O=="string"&&_==="[object Array]")k=k.join(O),k&&(k=this.extendTranslation(k,i,a,s));else{var U=!1,G=!1,B=a.count!==void 0&&typeof a.count!="string",H=r.hasDefaultValue(a),N=B?this.pluralResolver.getSuffix(b,a.count,a):"",L=a["defaultValue".concat(N)]||a.defaultValue;!this.isValidLookup(k)&&H&&(U=!0,k=L),this.isValidLookup(k)||(G=!0,k=g);var W=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,X=W&&G?void 0:k,Y=H&&L!==k&&this.options.updateMissing;if(G||U||Y){if(this.logger.log(Y?"updateKey":"missingKey",b,y,g,Y?L:k),h){var ce=this.resolve(g,Un(Un({},a),{},{keySeparator:!1}));ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ee=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var le=0;le<fe.length;le++)ee.push(fe[le]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(a.lng||this.language):ee.push(a.lng||this.language);var de=function(he,ke,Re){var _e=H&&Re!==k?Re:X;u.options.missingKeyHandler?u.options.missingKeyHandler(he,y,ke,_e,Y,a):u.backendConnector&&u.backendConnector.saveMissing&&u.backendConnector.saveMissing(he,y,ke,_e,Y,a),u.emit("missingKey",he,y,ke,k)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?ee.forEach(function(pe){u.pluralResolver.getSuffixes(pe,a).forEach(function(he){de([pe],g+he,a["defaultValue".concat(he)]||L)})}):de(ee,g,L))}k=this.extendTranslation(k,i,a,x,s),G&&k===g&&this.options.appendNamespaceToMissingKey&&(k="".concat(y,":").concat(g)),(G||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?k=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(y,":").concat(g):g,U?k:void 0):k=this.options.parseMissingKeyHandler(k))}return c?(x.res=k,x):k}},{key:"extendTranslation",value:function(i,a,s,u,c){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Un(Un({},this.options.interpolation.defaultVariables),s),u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(Un(Un({},s),{interpolation:Un(Un({},this.options.interpolation),s.interpolation)}));var f=typeof i=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),g;if(f){var p=i.match(this.interpolator.nestingRegexp);g=p&&p.length}var y=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(y=Un(Un({},this.options.interpolation.defaultVariables),y)),i=this.interpolator.interpolate(i,y,s.lng||this.language,s),f){var b=i.match(this.interpolator.nestingRegexp),v=b&&b.length;g<v&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&u&&u.res&&(s.lng=u.usedLng),s.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var k=arguments.length,C=new Array(k),R=0;R<k;R++)C[R]=arguments[R];return c&&c[0]===C[0]&&!s.context?(h.logger.warn("It seems you are nesting recursively key: ".concat(C[0]," in key: ").concat(a[0])),null):h.translate.apply(h,C.concat([a]))},s)),s.interpolation&&this.interpolator.reset()}var S=s.postProcess||this.options.postProcess,x=typeof S=="string"?[S]:S;return i!=null&&x&&x.length&&s.applyPostProcessor!==!1&&(i=vR.handle(x,i,a,this.options&&this.options.postProcessPassResolved?Un({i18nResolved:u},s):s,this)),i}},{key:"resolve",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u,c,h,f,g;return typeof i=="string"&&(i=[i]),i.forEach(function(p){if(!a.isValidLookup(u)){var y=a.extractFromKey(p,s),b=y.key;c=b;var v=y.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var S=s.count!==void 0&&typeof s.count!="string",x=S&&!s.ordinal&&s.count===0&&a.pluralResolver.shouldUseIntlApi(),k=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",C=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);v.forEach(function(R){a.isValidLookup(u)||(g=R,!PE["".concat(C[0],"-").concat(R)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(g)&&(PE["".concat(C[0],"-").concat(R)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(C.join(", "),`" won't get resolved as namespace "`).concat(g,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(function(_){if(!a.isValidLookup(u)){f=_;var T=[b];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(T,b,_,R,s);else{var O;S&&(O=a.pluralResolver.getSuffix(_,s.count,s));var D="".concat(a.options.pluralSeparator,"zero");if(S&&(T.push(b+O),x&&T.push(b+D)),k){var j="".concat(b).concat(a.options.contextSeparator).concat(s.context);T.push(j),S&&(T.push(j+O),x&&T.push(j+D))}}for(var F;F=T.pop();)a.isValidLookup(u)||(h=F,u=a.getResource(_,R,F,s))}}))})}}),{res:u,usedKey:c,exactUsedKey:h,usedLng:f,usedNS:g}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,s,u):this.resourceStore.getResource(i,a,s,u)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&a===s.substring(0,a.length)&&i[s]!==void 0)return!0;return!1}}]),r}(eo);function Nv(t){return t.charAt(0).toUpperCase()+t.slice(1)}var RE=function(){function t(e){vi(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xi.create("languageUtils")}return Xn(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Nv(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Nv(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Nv(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var s=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(s))&&(i=s)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var s=n.getLanguagePartFromCode(a);if(n.isSupportedCode(s))return i=s;i=n.options.supportedLngs.find(function(u){if(u===s)return u;if(!(u.indexOf("-")<0&&s.indexOf("-")<0)&&u.indexOf(s)===0)return u})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),s=[],u=function(h){h&&(i.isSupportedCode(h)?s.push(h):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(r))):typeof r=="string"&&u(this.formatLanguageCode(r)),a.forEach(function(c){s.indexOf(c)<0&&u(i.formatLanguageCode(c))}),s}}]),t}(),Hz=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Uz={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},Kz=["v1","v2","v3"],OE={zero:0,one:1,two:2,few:3,many:4,other:5};function Gz(){var t={};return Hz.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:Uz[e.fc]}})}),t}var Xz=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,t),this.languageUtils=e,this.options=r,this.logger=Xi.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Gz()}return Xn(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(s,u){return OE[s]-OE[u]}).map(function(s){return"".concat(n.options.prepend).concat(s)}):a.numbers.map(function(s){return n.getSuffix(r,s,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),s=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));var u=function(){return i.options.prepend&&s.toString()?i.options.prepend+s.toString():s.toString()};return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?"_plural_".concat(s.toString()):u():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?u():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!Kz.includes(this.options.compatibilityJSON)}}]),t}();function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IE(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Mz(t,e,r);return!a&&i&&typeof r=="string"&&(a=ap(t,r,n),a===void 0&&(a=ap(e,r,n))),a}var Yz=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vi(this,t),this.logger=Xi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Xn(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:$z,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ks(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ks(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ks(n.nestingPrefix):n.nestingPrefixEscaped||ks("$t("),this.nestingSuffix=n.nestingSuffix?ks(n.nestingSuffix):n.nestingSuffixEscaped||ks(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var s=this,u,c,h,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function g(S){return S.replace(/\$/g,"$$$$")}var p=function(x){if(x.indexOf(s.formatSeparator)<0){var k=IE(n,f,x,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(k,void 0,i,ji(ji(ji({},a),n),{},{interpolationkey:x})):k}var C=x.split(s.formatSeparator),R=C.shift().trim(),_=C.join(s.formatSeparator).trim();return s.format(IE(n,f,R,s.options.keySeparator,s.options.ignoreJSONStructure),_,i,ji(ji(ji({},a),n),{},{interpolationkey:R}))};this.resetRegExp();var y=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,b=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(x){return g(x)}},{regex:this.regexp,safeValue:function(x){return s.escapeValue?g(s.escape(x)):g(x)}}];return v.forEach(function(S){for(h=0;u=S.regex.exec(r);){var x=u[1].trim();if(c=p(x),c===void 0)if(typeof y=="function"){var k=y(r,u,a);c=typeof k=="string"?k:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))c="";else if(b){c=u[0];continue}else s.logger.warn("missed to pass in variable ".concat(x," for interpolating ").concat(r)),c="";else typeof c!="string"&&!s.useRawValueToEscape&&(c=kE(c));var C=S.safeValue(c);if(r=r.replace(u[0],C),b?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=u[0].length):S.regex.lastIndex=0,h++,h>=s.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,u,c;function h(y,b){var v=this.nestingOptionsSeparator;if(y.indexOf(v)<0)return y;var S=y.split(new RegExp("".concat(v,"[ ]*{"))),x="{".concat(S[1]);y=S[0],x=this.interpolate(x,c);var k=x.match(/'/g),C=x.match(/"/g);(k&&k.length%2===0&&!C||C.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),b&&(c=ji(ji({},b),c))}catch(R){return this.logger.warn("failed parsing options string in nesting for key ".concat(y),R),"".concat(y).concat(v).concat(x)}return delete c.defaultValue,y}for(;s=this.nestingRegexp.exec(r);){var f=[];c=ji({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){var p=s[1].split(this.formatSeparator).map(function(y){return y.trim()});s[1]=p.shift(),f=p,g=!0}if(u=n(h.call(this,s[1].trim(),c),c),u&&s[0]===r&&typeof u!="string")return u;typeof u!="string"&&(u=kE(u)),u||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(r)),u=""),g&&(u=f.reduce(function(y,b){return i.format(y,b,a.lng,ji(ji({},a),{},{interpolationkey:s[1].trim()}))},u.trim())),r=r.replace(s[0],u),this.regexp.lastIndex=0}return r}}]),t}();function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zz(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(s){if(s){var u=s.split(":"),c=Oz(u),h=c[0],f=c.slice(1),g=f.join(":").trim().replace(/^'+|'+$/g,"");r[h.trim()]||(r[h.trim()]=g),g==="false"&&(r[h.trim()]=!1),g==="true"&&(r[h.trim()]=!0),isNaN(g)||(r[h.trim()]=parseInt(g,10))}})}}return{formatName:e,formatOptions:r}}function Cs(t){var e={};return function(n,i,a){var s=i+JSON.stringify(a),u=e[s];return u||(u=t(i,a),e[s]=u),u(n)}}var Jz=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vi(this,t),this.logger=Xi.create("formatter"),this.options=e,this.formats={number:Cs(function(r,n){var i=new Intl.NumberFormat(r,pa({},n));return function(a){return i.format(a)}}),currency:Cs(function(r,n){var i=new Intl.NumberFormat(r,pa(pa({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Cs(function(r,n){var i=new Intl.DateTimeFormat(r,pa({},n));return function(a){return i.format(a)}}),relativetime:Cs(function(r,n){var i=new Intl.RelativeTimeFormat(r,pa({},n));return function(a){return i.format(a,n.range||"day")}}),list:Cs(function(r,n){var i=new Intl.ListFormat(r,pa({},n));return function(a){return i.format(a)}})},this.init(e)}return Xn(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Cs(n)}},{key:"format",value:function(r,n,i){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=n.split(this.formatSeparator),c=u.reduce(function(h,f){var g=Zz(f),p=g.formatName,y=g.formatOptions;if(a.formats[p]){var b=h;try{var v=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},S=v.locale||v.lng||s.locale||s.lng||i;b=a.formats[p](h,S,pa(pa(pa({},y),s),v))}catch(x){a.logger.warn(x)}return b}else a.logger.warn("there was no format function for ".concat(p));return h},r);return c}}]),t}();function FE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qz(t){var e=eV();return function(){var n=ea(t),i;if(e){var a=ea(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qc(this,i)}}function eV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tV(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var rV=function(t){Dp(r,t);var e=Qz(r);function r(n,i,a){var s,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return vi(this,r),s=e.call(this),Bp&&eo.call($i(s)),s.backend=n,s.store=i,s.services=a,s.languageUtils=a.languageUtils,s.options=u,s.logger=Xi.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=u.maxParallelReads||10,s.readingCalls=0,s.maxRetries=u.maxRetries>=0?u.maxRetries:5,s.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(a,u.backend,u),s}return Xn(r,[{key:"queueLoad",value:function(i,a,s,u){var c=this,h={},f={},g={},p={};return i.forEach(function(y){var b=!0;a.forEach(function(v){var S="".concat(y,"|").concat(v);!s.reload&&c.store.hasResourceBundle(y,v)?c.state[S]=2:c.state[S]<0||(c.state[S]===1?f[S]===void 0&&(f[S]=!0):(c.state[S]=1,b=!1,f[S]===void 0&&(f[S]=!0),h[S]===void 0&&(h[S]=!0),p[v]===void 0&&(p[v]=!0)))}),b||(g[y]=!0)}),(Object.keys(h).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(h),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(i,a,s){var u=i.split("|"),c=u[0],h=u[1];a&&this.emit("failedLoading",c,h,a),s&&this.store.addResourceBundle(c,h,s),this.state[i]=a?-1:2;var f={};this.queue.forEach(function(g){Fz(g.loaded,[c],h),tV(g,i),a&&g.errors.push(a),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(function(p){f[p]||(f[p]={});var y=g.loaded[p];y.length&&y.forEach(function(b){f[p][b]===void 0&&(f[p][b]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(g){return!g.done})}},{key:"read",value:function(i,a,s){var u=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:s,tried:c,wait:h,callback:f});return}this.readingCalls++;var g=function(v,S){if(u.readingCalls--,u.waitingReads.length>0){var x=u.waitingReads.shift();u.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(v&&S&&c<u.maxRetries){setTimeout(function(){u.read.call(u,i,a,s,c+1,h*2,f)},h);return}f(v,S)},p=this.backend[s].bind(this.backend);if(p.length===2){try{var y=p(i,a);y&&typeof y.then=="function"?y.then(function(b){return g(null,b)}).catch(g):g(null,y)}catch(b){g(b)}return}return p(i,a,g)}},{key:"prepareLoading",value:function(i,a){var s=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var h=this.queueLoad(i,a,u,c);if(!h.toLoad.length)return h.pending.length||c(),null;h.toLoad.forEach(function(f){s.loadOne(f)})}},{key:"load",value:function(i,a,s){this.prepareLoading(i,a,{},s)}},{key:"reload",value:function(i,a,s){this.prepareLoading(i,a,{reload:!0},s)}},{key:"loadOne",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=i.split("|"),c=u[0],h=u[1];this.read(c,h,"read",void 0,void 0,function(f,g){f&&a.logger.warn("".concat(s,"loading namespace ").concat(h," for language ").concat(c," failed"),f),!f&&g&&a.logger.log("".concat(s,"loaded namespace ").concat(h," for language ").concat(c),g),a.loaded(i,f,g)})}},{key:"saveMissing",value:function(i,a,s,u,c){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(s,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){var g=ME(ME({},h),{},{isUpdate:c}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var y;p.length===5?y=p(i,a,s,u,g):y=p(i,a,s,u),y&&typeof y.then=="function"?y.then(function(b){return f(null,b)}).catch(f):f(null,y)}catch(b){f(b)}else p(i,a,s,u,f,g)}!i||!i[0]||this.store.addResource(i[0],a,s,u)}}}]),r}(eo);function jE(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(cn(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),cn(e[2])==="object"||cn(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function $E(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nV(t){var e=iV();return function(){var n=ea(t),i;if(e){var a=ea(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qc(this,i)}}function iV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(){}function aV(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var op=function(t){Dp(r,t);var e=nV(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(vi(this,r),n=e.call(this),Bp&&eo.call($i(n)),n.options=$E(i),n.services={},n.logger=Xi,n.modules={external:[]},aV($i(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),qc(n,$i(n));setTimeout(function(){n.init(i,a)},0)}return n}return Xn(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(s=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var u=jE();this.options=Ui(Ui(Ui({},u),this.options),$E(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ui(Ui({},u.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(x){return x?typeof x=="function"?new x:x:null}if(!this.options.isClone){this.modules.logger?Xi.init(c(this.modules.logger),this.options):Xi.init(null,this.options);var h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=Jz);var f=new RE(this.options);this.store=new Vz(this.options.resources,this.options);var g=this.services;g.logger=Xi,g.resourceStore=this.store,g.languageUtils=f,g.pluralResolver=new Xz(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(g.formatter=c(h),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Yz(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new rV(c(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(x){for(var k=arguments.length,C=new Array(k>1?k-1:0),R=1;R<k;R++)C[R-1]=arguments[R];i.emit.apply(i,[x].concat(C))}),this.modules.languageDetector&&(g.languageDetector=c(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=c(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new TE(this.services,this.options),this.translator.on("*",function(x){for(var k=arguments.length,C=new Array(k>1?k-1:0),R=1;R<k;R++)C[R-1]=arguments[R];i.emit.apply(i,[x].concat(C))}),this.modules.external.forEach(function(x){x.init&&x.init(i)})}if(this.format=this.options.interpolation.format,s||(s=wf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var y=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];y.forEach(function(x){i[x]=function(){var k;return(k=i.store)[x].apply(k,arguments)}});var b=["addResource","addResources","addResourceBundle","removeResourceBundle"];b.forEach(function(x){i[x]=function(){var k;return(k=i.store)[x].apply(k,arguments),i}});var v=Ku(),S=function(){var k=function(R,_){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(_),s(R,_)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return k(null,i.t.bind(i));i.changeLanguage(i.options.lng,k)};return this.options.resources||!this.options.initImmediate?S():setTimeout(S,0),v}},{key:"loadResources",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wf,u=s,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(u=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return u();var h=[],f=function(y){if(y){var b=a.services.languageUtils.toResolveHierarchy(y);b.forEach(function(v){h.indexOf(v)<0&&h.push(v)})}};if(c)f(c);else{var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.forEach(function(p){return f(p)})}this.options.preload&&this.options.preload.forEach(function(p){return f(p)}),this.services.backendConnector.load(h,this.options.ns,function(p){!p&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),u(p)})}else u(null)}},{key:"reloadResources",value:function(i,a,s){var u=Ku();return i||(i=this.languages),a||(a=this.options.ns),s||(s=wf),this.services.backendConnector.reload(i,a,function(c){u.resolve(),s(c)}),u}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&vR.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var s=this.languages[a];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}},{key:"changeLanguage",value:function(i,a){var s=this;this.isLanguageChangingTo=i;var u=Ku();this.emit("languageChanging",i);var c=function(p){s.language=p,s.languages=s.services.languageUtils.toResolveHierarchy(p),s.resolvedLanguage=void 0,s.setResolvedLanguage(p)},h=function(p,y){y?(c(y),s.translator.changeLanguage(y),s.isLanguageChangingTo=void 0,s.emit("languageChanged",y),s.logger.log("languageChanged",y)):s.isLanguageChangingTo=void 0,u.resolve(function(){return s.t.apply(s,arguments)}),a&&a(p,function(){return s.t.apply(s,arguments)})},f=function(p){!i&&!p&&s.services.languageDetector&&(p=[]);var y=typeof p=="string"?p:s.services.languageUtils.getBestMatchFromCodes(p);y&&(s.language||c(y),s.translator.language||s.translator.changeLanguage(y),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage&&s.services.languageDetector.cacheUserLanguage(y)),s.loadResources(y,function(b){h(b,y)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),u}},{key:"getFixedT",value:function(i,a,s){var u=this,c=function h(f,g){var p;if(cn(g)!=="object"){for(var y=arguments.length,b=new Array(y>2?y-2:0),v=2;v<y;v++)b[v-2]=arguments[v];p=u.options.overloadTranslationOptionHandler([f,g].concat(b))}else p=Ui({},g);p.lng=p.lng||h.lng,p.lngs=p.lngs||h.lngs,p.ns=p.ns||h.ns,p.keyPrefix=p.keyPrefix||s||h.keyPrefix;var S=u.options.keySeparator||".",x;return p.keyPrefix&&Array.isArray(f)?x=f.map(function(k){return"".concat(p.keyPrefix).concat(S).concat(k)}):x=p.keyPrefix?"".concat(p.keyPrefix).concat(S).concat(f):f,u.t(x,p)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=s,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var u=this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(u.toLowerCase()==="cimode")return!0;var f=function(y,b){var v=a.services.backendConnector.state["".concat(y,"|").concat(b)];return v===-1||v===2};if(s.precheck){var g=s.precheck(this,f);if(g!==void 0)return g}return!!(this.hasResourceBundle(u,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(u,i)&&(!c||f(h,i)))}},{key:"loadNamespaces",value:function(i,a){var s=this,u=Ku();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){s.options.ns.indexOf(c)<0&&s.options.ns.push(c)}),this.loadResources(function(c){u.resolve(),a&&a(c)}),u):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var s=Ku();typeof i=="string"&&(i=[i]);var u=this.options.preload||[],c=i.filter(function(h){return u.indexOf(h)<0});return c.length?(this.options.preload=u.concat(c),this.loadResources(function(h){s.resolve(),a&&a(h)}),s):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new RE(jE());return a.indexOf(s.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wf,u=Ui(Ui(Ui({},this.options),a),{isClone:!0}),c=new r(u);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var h=["store","services","language"];return h.forEach(function(f){c[f]=i[f]}),c.services=Ui({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new TE(c.services,c.options),c.translator.on("*",function(f){for(var g=arguments.length,p=new Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];c.emit.apply(c,[f].concat(p))}),c.init(u,s),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(eo);fr(op,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new op(t,e)});var wn=op.createInstance();wn.createInstance=op.createInstance;wn.createInstance;wn.dir;wn.init;wn.loadResources;wn.reloadResources;wn.use;wn.changeLanguage;wn.getFixedT;wn.t;wn.exists;wn.setDefaultNamespace;wn.hasLoadedNamespace;wn.loadNamespaces;wn.loadLanguages;const yR=(t,e)=>{const{rememberSubtitleOffset:r,lastSubtitleOffset:n,subtitleAlignment:i,subtitlePositionOffset:a,topSubtitlePositionOffset:s}=t;return m.useMemo(()=>new hI({rememberSubtitleOffset:r,lastSubtitleOffset:n,subtitleAlignment:i,subtitlePositionOffset:a,topSubtitlePositionOffset:s},e),[r,n,i,a,s,e])},oV=(t,e)=>m.useMemo(()=>{const r=[];for(let n=0;n<e;++n){const i=Yi(t,n);r.push({styles:Yy(i),styleString:HA(i),classes:i.subtitleBlur?"asbplayer-subtitles-blurred":""})}return r},[t,e]),sV=()=>{const[t,e]=m.useState(document.fullscreenElement!=null);m.useEffect(()=>{const n=()=>{e(document.fullscreenElement!=null)};return document.addEventListener("fullscreenchange",n),()=>document.removeEventListener("fullscreenchange",n)},[]);const r=m.useCallback(n=>{n&&!document.fullscreenElement?document.documentElement.requestFullscreen():!n&&document.fullscreenElement&&document.exitFullscreen()},[]);return{fullscreen:t,requestFullscreen:r}};var Gu={},DE;function lV(){if(DE)return Gu;DE=1;var t=Wt(),e=Qt();Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");return Gu.default=i,Gu}var uV=lV();const cV=zt(uV);var Xu={},BE;function dV(){if(BE)return Xu;BE=1;var t=Wt(),e=Qt();Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=void 0;var r=e(Ht()),n=t(er()),i=(0,n.default)(r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");return Xu.default=i,Xu}var fV=dV();const pV=zt(fV),hV=t=>E.jsx(Zf,{...t,children:E.jsx("path",{d:"M20 4H6.83l8 8H20v2h-3.17l4.93 4.93c.15-.28.24-.59.24-.93V6c0-1.1-.9-2-2-2M1.04 3.87l1.2 1.2C2.09 5.35 2 5.66 2 6v12c0 1.1.9 2 2 2h13.17l2.96 2.96 1.41-1.41L2.45 2.45zM8 12v2H4v-2zm6 4.83V18H4v-2h9.17z"})}),zE=({onHold:t,onClick:e,children:r,...n})=>{const[i,a]=m.useState(),s=m.useCallback(()=>i===void 0?void 0:(Date.now()-i)/250,[i]),u=h=>{const f=s();f!==void 0&&f<1&&(e==null||e()),a(void 0)},c=h=>{a(Date.now())};return m.useEffect(()=>{if(i===void 0)return;const h=setInterval(()=>{const f=s();f!==void 0&&f>0&&(t==null||t(f))},250);return()=>clearInterval(h)},[i,t,s]),E.jsxs(E.Fragment,{children:[ii.isMobile&&E.jsx(Bt,{onTouchStart:c,onTouchEnd:u,onClick:()=>{},...n,children:r}),!ii.isMobile&&E.jsx(Bt,{onMouseDown:c,onMouseUp:u,onClick:()=>{},...n,children:r})]})},_o=48,gV=_o/2+1,mV=ao({container:{height:_o,overflowY:"scroll",scrollSnapType:"y mandatory",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},textAlign:"center"},child:{scrollbarWidth:"none",scrollSnapAlign:"center","&::-webkit-scrollbar":{display:"none"},scrollSnapStop:"always"}}),vV=({currentMilliseconds:t,totalMilliseconds:e,offset:r,offsetInputRef:n,onOffset:i,playbackRate:a,playbackRateInputRef:s,onPlaybackRate:u,initialControlType:c,onScrollTo:h})=>{const f=mV(),[g,p]=m.useState(on.timeDisplay),y=m.useRef(0),[b,v]=m.useState(0),S=m.useRef();S.current=b;const x=m.useRef(),k=m.useRef(),C=m.useRef(g),R=m.useRef();R.current=h,C.current=g;const _=m.useCallback(D=>{const j=D.currentTarget.scrollTop,M=j>y.current?Math.ceil(Math.floor(j)/_o):Math.floor(j/_o);b===2&&M!==g&&(h(M),p(M)),y.current=j},[h,b,g]),T=m.useCallback(D=>{var M,z;if(k.current!==void 0){D.preventDefault();return}if(Number.isInteger(D.deltaY)||D.deltaX!==0||Math.abs(D.deltaY)<1)return;D.preventDefault();const j=D.deltaY>0;let F=!1;j&&C.current<2?((M=x.current)==null||M.scrollBy({top:gV,behavior:"smooth"}),F=!0):!j&&C.current>0&&((z=x.current)==null||z.scrollBy({top:-25,behavior:"smooth"}),F=!0),F&&(k.current!==void 0&&clearTimeout(k.current),k.current=setTimeout(()=>{k.current=void 0},500))},[]),O=m.useCallback(D=>{b>0||D&&(c===void 0?v(2):setTimeout(()=>{D.scrollTop=_o*2;const j=(F,M)=>{D.scroll({top:F,behavior:"smooth"}),D.addEventListener("scrollend",z=>{var I,$;((I=z.currentTarget)==null?void 0:I.scrollTop)>=_o*2||S.current===1&&(($=R.current)==null||$.call(R,M),p(M),v(2))}),v(1)};c===1?j(_o+1,c):c===0?j(0,c):v(2)},0),D.addEventListener("wheel",T,{passive:!1}),D.addEventListener("scrollend",()=>{k.current=void 0}),x.current=D)},[b,c,T]);return E.jsxs("div",{ref:O,onScroll:_,className:f.container,children:[E.jsx(XT,{currentMilliseconds:t,totalMilliseconds:e,className:f.child}),E.jsx(UT,{inputRef:n,offset:r,onOffset:i,className:f.child}),E.jsx(KT,{inputRef:s,playbackRate:a,onPlaybackRate:u,className:f.child})]})},yV=ao(({anchor:t})=>({button:{color:"white"},inactiveButton:{color:"rgba(120, 120, 120, 0.7)"},recordingButton:{color:"red"},container:{display:"inline-flex",width:"auto",backgroundColor:"rgba(0, 0, 0, .7)",borderRadius:16},playModePopOver:{"& .MuiPopover-paper":{maxHeight:"none"}},tooltip:{"& .MuiTooltip-tooltipPlacementTop":t==="top"?{marginTop:16}:{},"& .MuiTooltip-tooltipPlacementBottom":t==="bottom"?{marginBottom:16}:{}}})),bV=({children:t,...e})=>E.jsx(Mt,{container:!0,alignContent:"center",justifyContent:"center",...e,children:t}),xV=({model:t,className:e,anchor:r,tooltipsEnabled:n,initialControlType:i,onScrollToControlType:a,onMineSubtitle:s,onLoadSubtitles:u,onOffset:c,onPlaybackRate:h,onPlayModeSelected:f,onSeek:g,onToggleSubtitles:p})=>{const y=yV({anchor:r}),b=m.useRef(),v=m.useRef(),[S,x]=m.useState(!1),[k,C]=m.useState(),[R,_]=m.useState(on.timeDisplay),T=m.useCallback(_e=>{_(_e),a(_e)},[a]),O=m.useCallback(()=>{x(!1),C(void 0)},[]),D=m.useCallback(_e=>{C(_e.currentTarget),x(!0)},[]),j=m.useCallback(()=>{!t||t.previousSubtitleTimestamp===void 0||c(t.currentTimestamp-t.previousSubtitleTimestamp)},[c,t]),F=m.useCallback(()=>{!t||t.nextSubtitleTimestamp===void 0||c(t.currentTimestamp-t.nextSubtitleTimestamp)},[c,t]),M=m.useCallback(()=>{t&&c(t.offset+100)},[c,t]),z=m.useCallback(()=>{t&&c(t.offset-100)},[c,t]),I=m.useCallback(()=>{t&&h(Math.max(.1,t.playbackRate-.1))},[h,t]),$=m.useCallback(()=>{t&&h(Math.min(5,t.playbackRate+.1))},[h,t]),K=m.useCallback(()=>{!t||t.previousSubtitleTimestamp===void 0||g(t.previousSubtitleTimestamp)},[g,t]),U=m.useCallback(()=>{t&&g(Math.max(0,t.currentTimestamp-1e4))},[g,t]),G=m.useCallback(()=>{!t||t.nextSubtitleTimestamp===void 0||g(t.nextSubtitleTimestamp)},[g,t]),B=m.useCallback(()=>{t&&g(t.currentTimestamp+1e4)},[g,t]),H=m.useCallback(()=>{switch(R){case on.timeDisplay:t!=null&&t.emptySubtitleTrack?U():K();break;case on.subtitleOffset:j();break;case on.playbackRate:I();break}},[R,t==null?void 0:t.emptySubtitleTrack,U,K,j,I]),N=m.useCallback(()=>{switch(R){case on.timeDisplay:t!=null&&t.emptySubtitleTrack?B():G();break;case on.subtitleOffset:F();break;case on.playbackRate:$();break}},[R,t==null?void 0:t.emptySubtitleTrack,B,G,F,$]),L=m.useCallback(()=>{switch(R){case on.timeDisplay:break;case on.subtitleOffset:M();break;case on.playbackRate:I();break}},[R,M,I]),W=m.useCallback(()=>{switch(R){case on.timeDisplay:break;case on.subtitleOffset:z();break;case on.playbackRate:$();break}},[R,z,$]),{t:X}=Mr(),Y=m.useMemo(()=>(t==null?void 0:t.themeType)===void 0?void 0:_P(t.themeType),[t==null?void 0:t.themeType]),{leftNumberControlTitle:ce,numberControlTitle:ee,rightNumberControlTitle:fe}=m.useMemo(()=>{switch(R){case on.timeDisplay:return{leftNumberControlTitle:t!=null&&t.emptySubtitleTrack?X("binds.seekBackward"):X("binds.seekToPreviousSubtitle"),numberControlTitle:X("controls.currentTimestamp"),rightNumberControlTitle:t!=null&&t.emptySubtitleTrack?X("binds.seekForward"):X("binds.seekToNextSubtitle")};case on.subtitleOffset:return{leftNumberControlTitle:X("action.increaseOffsetButton"),numberControlTitle:X("controls.subtitleOffset"),rightNumberControlTitle:X("action.decreaseOffsetButton")};case on.playbackRate:return{leftNumberControlTitle:X("binds.decreasePlaybackRate"),numberControlTitle:X("controls.playbackRate"),rightNumberControlTitle:X("binds.increasePlaybackRate")}}},[R,t,X]);if(!t||!Y)return null;let le,de;switch(R){case on.timeDisplay:le=!t.emptySubtitleTrack&&t.nextSubtitleTimestamp===void 0||t.recording,de=!t.emptySubtitleTrack&&t.previousSubtitleTimestamp===void 0||t.recording||t.currentTimestamp===0;break;case on.subtitleOffset:le=t.nextSubtitleTimestamp===void 0||t.recording,de=t.previousSubtitleTimestamp===void 0||t.recording;break;case on.playbackRate:le=t.playbackRate>=5||t.recording,de=t.playbackRate<=.1||t.recording;break}const pe=!t.emptySubtitleTrack&&!t.subtitleDisplaying||t.recording;function he(_e){if(!_e)return null;if(_e.emptySubtitleTrack)return _e.recordingEnabled?_e.recording?X("action.stopRecording"):X("action.startRecording"):X("action.mine");switch(_e.postMineAction){case hr.exportCard:case hr.showAnkiDialog:case hr.none:return X("action.mine");case hr.updateLastCard:return X("action.updateLastCard")}}const ke={className:y.tooltip,placement:r,disabled:!n},Re=e===void 0?y.container:`${e} ${y.container}`;return E.jsxs(b0,{theme:Y,children:[E.jsx(LT,{}),E.jsxs(bV,{direction:"row",wrap:"nowrap",className:Re,children:[u&&E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:X("action.loadSubtitles"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:t.recording,onClick:u,children:E.jsx(hR,{className:t.recording?y.inactiveButton:y.button})})})})}),E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:he(t),children:t.emptySubtitleTrack&&t.recordingEnabled?E.jsx("span",{children:E.jsx(Bt,{onClick:s,children:E.jsx(FT,{className:t.recording?y.recordingButton:y.button})})}):E.jsx("span",{children:E.jsx(Bt,{disabled:pe,onClick:s,children:E.jsx(B0,{className:pe?y.inactiveButton:y.button})})})})}),!t.emptySubtitleTrack&&E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:X("binds.toggleSubtitles"),children:E.jsx("span",{children:E.jsxs(Bt,{disabled:t.recording,onClick:p,children:[t.subtitlesAreVisible&&E.jsx(hV,{className:t.recording?y.inactiveButton:y.button}),!t.subtitlesAreVisible&&E.jsx(qT,{className:t.recording?y.inactiveButton:y.button})]})})})}),!t.emptySubtitleTrack&&E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:X("controls.playbackMode"),children:E.jsx("span",{children:E.jsx(Bt,{disabled:t.recording,onClick:D,children:E.jsx(WT,{className:t.recording?y.inactiveButton:y.button})})})})}),!t.recording&&E.jsxs(E.Fragment,{children:[E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:ce,children:E.jsx("span",{children:E.jsx(zE,{onClick:H,onHold:L,disabled:de,children:E.jsx(cV,{className:de?y.inactiveButton:y.button})})})})}),E.jsx(ga,{...ke,title:ee,children:E.jsx(Mt,{item:!0,children:E.jsx(vV,{offsetInputRef:b,playbackRateInputRef:v,offset:t.offset,onOffset:c,playbackRate:t.playbackRate,onPlaybackRate:h,initialControlType:i,onScrollTo:T,currentMilliseconds:t.currentTimestamp})})}),E.jsx(Mt,{item:!0,children:E.jsx(ga,{...ke,title:fe,children:E.jsx("span",{children:E.jsx(zE,{onClick:N,onHold:W,disabled:le,children:E.jsx(pV,{className:le?y.inactiveButton:y.button})})})})})]})]}),S&&E.jsx(GT,{open:S,anchorEl:k,onClose:O,selectedPlayMode:t.playMode,onPlayMode:f,listStyle:{display:"flex",flexDirection:"row",padding:0,overflowX:"auto"},className:y.playModePopOver,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},wV=({isMobile:t,fetchLastControlType:e,saveLastControlType:r})=>{const[n,i]=m.useState(),a=m.useMemo(()=>t?on.timeDisplay:on.subtitleOffset,[t]);m.useEffect(()=>{e().then(u=>{i(u===void 0?a:u)})},[a,e]);const s=m.useCallback(u=>{i(u),r(u)},[r]);return{lastControlType:n,setLastControlType:s}},SV=48,kV=dn(t=>({root:{position:"relative",backgroundColor:"black",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},video:{margin:"auto"},cursorHidden:{cursor:"none"},mobileOverlay:{position:"absolute",zIndex:10,bottom:t.spacing(1.5)}}));function Fv(t,e,r,n){if(window.outerWidth&&t.videoWidth>0&&t.videoHeight>0){const s=window.screen.availWidth-(window.outerWidth-window.innerWidth),u=window.screen.availHeight-(window.outerHeight-window.innerHeight),c=Math.min(1,Math.min(s/t.videoWidth,u/t.videoHeight));window.resizeTo(c*t.videoWidth+(window.outerWidth-window.innerWidth),c*t.videoHeight+(window.outerHeight-window.innerHeight))}let i,a;if(t.audioTracks){i=[];for(let s of t.audioTracks)i.push({id:s.id,label:s.label,language:s.language}),s.enabled&&(a=s.id)}else i=void 0,a=void 0;r(i),n(a),e.ready(t.duration,t.paused,t.playbackRate,i,a)}function CV(t){var r,n;let e;switch((r=t.error)==null?void 0:r.code){case 1:e="MEDIA_ERR_ABORTED";break;case 2:e="MEDIA_ERR_ABORTED";break;case 3:e="MEDIA_ERR_DECODE";break;case 4:e="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:e="Unknown error";break}return e+": "+(((n=t.error)==null?void 0:n.message)||"<details missing>")}const EV=(t,e,r,n,i)=>{var c;if(t.textImage)return`
<div style="max-width:${i*(((c=e.current)==null?void 0:c.width)??window.screen.availWidth)/t.textImage.screen.width*t.textImage.image.width}px;margin:auto;">
<img
    style="width:100%;"
    alt="subtitle"
    src="${t.textImage.dataUrl}"
    class="${n}"
/>
</div>
`;const a=t.text.split(`
`),s=n?`${n} subtitle-line`:"subtitle-line";return a.map(h=>`<p class="${s}" style="${r}">${h}</p>`).join("")},_V=({subtitle:t,videoRef:e,subtitleStyles:r,imageBasedSubtitleScaleFactor:n,className:i,onMouseOver:a})=>{var u;let s;return t.textImage?s=E.jsx(L0,{availableWidth:((u=e.current)==null?void 0:u.width)??window.screen.availWidth,subtitle:t,scale:n}):s=t.text.split(`
`).map((h,f)=>E.jsx("p",{className:"subtitle-line",style:r,children:h},f)),E.jsx("div",{className:i||"",onMouseOver:a,children:s})},PV=nr.memo(function({index:e,domCache:r,className:n,onMouseOver:i}){return E.jsx("div",{className:n||"",onMouseOver:i,ref:a=>{if(a){for(;a.firstChild;)r.return(a.lastChild);a.appendChild(r.get(String(e)))}}})}),TV=dn({subtitleContainer:{position:"absolute",paddingLeft:20,paddingRight:20,textAlign:"center",whiteSpace:"normal",lineHeight:"inherit"}}),VE=({subtitleSettings:t,alignment:e,baseOffset:r,children:n})=>{const i=TV();return E.jsx("div",{className:i.subtitleContainer,style:{...e==="bottom"?{bottom:t.subtitlePositionOffset+r}:{top:t.topSubtitlePositionOffset+r},...t.subtitlesWidth===-1?{}:{width:`${t.subtitlesWidth}%`}},children:n})},WE=t=>xI(t).map(e=>e.subtitleAlignment),bR="lastScrollableControlType",xR=new Jy,RV=async()=>{const t=xR.get(bR);if(t!=null)return parseInt(t)},OV=t=>{xR.set(bR,String(t))};function AV({settings:t,extension:e,videoFile:r,channel:n,popOut:i,miningContext:a,ankiDialogOpen:s,seekRequest:u,onAnkiDialogRequest:c,onError:h,onPlayModeChangedViaBind:f,onAnkiDialogRewind:g,onSettingsChanged:p}){var Ve,vt;const y=kV(),{t:b}=Mr(),v=m.useRef(),S=m.useRef(),[x,k]=x0(!0);S.current&&(S.current.width=x,S.current.height=k);const C=m.useMemo(()=>new Pz(n),[n]),[R,_]=m.useState(!1),{fullscreen:T,requestFullscreen:O}=sV(),D=()=>{var ne;return!((ne=S.current)!=null&&ne.paused)||!1},[j,F]=m.useState(0),[M,z]=m.useState(),[I,$]=m.useState(0),[K,U]=m.useState(),[G,B]=m.useState(),[H,N]=m.useState(!1),[L,W]=m.useState([]),X=m.useMemo(()=>new Ks(L,{returnLastShown:!1,showingCheckRadiusMs:150}),[L]),[Y,ce]=m.useState([]),[ee,fe]=m.useState(t),[le,de]=m.useState(t),[pe,he]=m.useState(t),ke=yR({...ee,...le},e),[Re,_e]=m.useState(ke.displaySubtitles),[et,Me]=m.useState({}),[De,gt]=m.useState(sr.normal),[Ge,yt]=m.useState(!1),[ht,Oe]=m.useState(ke.theaterMode),[Ie,We]=m.useState(WE(le)),[,mt]=m.useState(le.subtitlePositionOffset),[,Be]=m.useState(le.topSubtitlePositionOffset),tt=m.useRef([]);tt.current=Y;const Pe=m.useMemo(()=>new VT,[]),Q=m.useRef(void 0),[Et,Tt]=m.useState(!1),st=m.useRef(0),Z=m.useRef(null),[ie,rt]=m.useState(!1),[se,te]=m.useState(""),[me,be]=m.useState("info"),[xe,ze]=m.useState(!1),[ot,Ue]=m.useState(),[ct,_t]=m.useState(0),[,Vt]=m.useState(),[He,Zt]=m.useState();m.useEffect(()=>{fe(t),de(t),he(t)},[t]),m.useEffect(()=>{We(WE(le)),mt(le.subtitlePositionOffset),Be(le.topSubtitlePositionOffset)},[le]);const gr=m.useMemo(()=>{const ne=new v2;return ne.onStartedShowing=()=>{De!==sr.autoPause||ee.autoPausePreference!==Ai.atStart||C.pause()},ne.onWillStopShowing=()=>{De!==sr.autoPause||ee.autoPausePreference!==Ai.atEnd||C.pause()},ne},[C,ee,De]),Xe=m.useRef();Xe.current=gr;const Ce=gR(ee.keyBindSet,e);m.useEffect(()=>{wn.language!==ee.language&&wn.changeLanguage(ee.language)},[ee]);const Ot=m.useCallback(()=>{const ne=S.current;ne&&(ne.paused?C.pause(!1):C.play(!1),C.playbackRate(ne.playbackRate,!1),C.currentTime(ne.currentTime,!1),Vt({}))},[C]),jt=m.useRef(h);jt.current=h;const Ze=m.useCallback(ne=>{if(ne){const $e=ne;S.current=$e,$e.readyState===4?Fv($e,C,U,B):($e.onloadeddata=()=>Fv($e,C,U,B),$e.ondurationchange=()=>Fv($e,C,U,B)),$e.oncanplay=Ye=>{C.readyState(4),D()&&Pe.start()},$e.ontimeupdate=Ye=>Pe.setTime(ne.currentTime*1e3),$e.onerror=Ye=>{var St;return(St=jt.current)==null?void 0:St.call(jt,CV(ne))},$e.onplay=Ot,$e.onpause=Ot,$e.onratechange=Ot,$e.onseeked=Ot,ii.isMobile&&(S.current.volume=1)}},[Pe,C,Ot]);function wt(ne){var Ye;const $e=(Ye=S.current)==null?void 0:Ye.audioTracks;if($e)for(const St of $e)St.id===ne?St.enabled=!0:St.enabled=!1}const Nt=m.useCallback(ne=>{$(ne),W($e=>$e.map((Ye,St)=>({text:Ye.text,textImage:Ye.textImage,start:Ye.originalStart+ne,originalStart:Ye.originalStart,end:Ye.originalEnd+ne,originalEnd:Ye.originalEnd,track:Ye.track,index:St})))},[]),lr=m.useCallback((ne,$e)=>{S.current&&(S.current.playbackRate=ne,Pe.rate=ne,$e&&C.playbackRate(ne))},[C,Pe]);m.useEffect(()=>(C.onReady((ne,$e)=>{F(ne),z($e)}),C.onPlay(async()=>{var ne;await((ne=S.current)==null?void 0:ne.play()),Pe.start()}),C.onPause(()=>{var ne;(ne=S.current)==null||ne.pause(),Pe.stop()}),C.onCurrentTime(ne=>{var Ye,St;let $e=ne;S.current&&($e=KA(S.current,ne)),((Ye=S.current)==null?void 0:Ye.readyState)===4&&C.readyState(4),Pe.stop(),Pe.setTime($e*1e3),(St=Xe.current)==null||St.clear()}),C.onAudioTrackSelected(ne=>{wt(ne),B(ne),C.audioTrackSelected(ne)}),C.onClose(()=>{C.close(),window.close()}),C.onSubtitles(ne=>{var $e;if(W(ne.map((Ye,St)=>({...Ye,index:St}))),_t(Math.max(...ne.map(Ye=>Ye.track))+1),ne&&ne.length>0){const Ye=ne[0],St=Ye.start-Ye.originalStart;$(St)}ce([]),($e=Xe.current)==null||$e.clear()}),C.onPlayMode(ne=>gt(ne)),C.onHideSubtitlePlayerToggle(ne=>yt(ne)),C.onAppBarToggle(ne=>Oe(ne)),C.onFullscreenToggle(ne=>O(ne)),C.onSubtitleSettings(de),C.onMiscSettings(fe),C.onAnkiSettings(he),C.onOffset(Nt),C.onPlaybackRate(ne=>{lr(ne,!1)}),C.onAlert((ne,$e)=>{rt(!0),te(ne),be($e)}),window.onbeforeunload=ne=>{v.current||C.close()},_(!0),()=>C.close()),[Pe,C,O,Nt,lr]);const pr=m.useCallback(()=>{S.current&&C.play()},[C]),wr=m.useCallback(()=>C.pause(),[C]),Br=m.useCallback(ne=>{if(!Number.isFinite(j))return;D()&&Pe.stop();const $e=ne*j;C.currentTime($e/1e3)},[j,Pe,C]),_r=m.useCallback(ne=>{C.currentTime(ne/1e3)},[C]);m.useEffect(()=>{u!==void 0&&Br(u.timestamp/j)},[Br,u,j]);const yr=m.useCallback(ne=>{if(st.current=Date.now(),!!Z.current){var $e=Z.current.getBoundingClientRect();Q.current={x:ne.clientX-$e.left,y:ne.clientY-$e.top}}},[]),br=m.useCallback(ne=>{Q.current=void 0},[]),mr=m.useCallback(ne=>{D()&&(Pe.stop(),C.pause()),wt(ne),B(ne),C.currentTime(0),C.audioTrackSelected(ne)},[C,Pe]),Rr=m.useCallback(()=>{C.loadFiles()},[C]);m.useEffect(()=>{if(!L||L.length===0)return;const ne=setInterval(()=>{const $e=Pe.time(j);let Ye=[];const St=X.subtitlesAt($e);for(const dt of St.showing)et[dt.track]||Ye.push(dt);St.startedShowing&&!et[St.startedShowing.track]&&gr.startedShowing(St.startedShowing),St.willStopShowing&&!et[St.willStopShowing.track]&&gr.willStopShowing(St.willStopShowing),Ye=Ye.sort((dt,nn)=>dt.track-nn.track),s6(Ye,tt.current,(dt,nn)=>dt.index===nn.index)||(ce(Ye),Ye.length>0&&ee.autoCopyCurrentSubtitle&&document.hasFocus()&&navigator.clipboard.writeText(Ye.map(dt=>dt.text).join(`
`)).catch(dt=>{}))},100);return()=>clearInterval(ne)},[X,C,L,et,Pe,j,gr,ee,e]);const Pr=m.useCallback(ne=>{Nt(ne),C.offset(ne)},[C,Nt]),vr=m.useCallback(ne=>{lr(ne,!0)},[lr]);m.useEffect(()=>Ce.bindSeekToSubtitle((ne,$e)=>{ne.preventDefault(),C.currentTime($e.start/1e3)},()=>!S.current,()=>Pe.time(j),()=>L),[Ce,C,L,j,Pe]),m.useEffect(()=>Ce.bindSeekToBeginningOfCurrentSubtitle((ne,$e)=>{ne.preventDefault(),C.currentTime($e.start/1e3),t.alwaysPlayOnSubtitleRepeat&&C.play()},()=>!S.current,()=>Pe.time(j),()=>L),[Ce,C,L,j,Pe,t]),m.useEffect(()=>Ce.bindSeekBackwardOrForward((ne,$e)=>{ne.preventDefault();const Ye=Pe.time(j);$e?C.currentTime(Math.min(j/1e3,(Ye+1e4)/1e3)):C.currentTime(Math.max(0,(Ye-1e4)/1e3))},()=>!S.current),[Ce,C,j,Pe]);const jr=m.useCallback(ne=>d2(L,ne,pe.surroundingSubtitlesCountRadius,pe.surroundingSubtitlesTimeRadius),[L,pe.surroundingSubtitlesCountRadius,pe.surroundingSubtitlesTimeRadius]);m.useEffect(()=>Ce.bindAdjustOffset((ne,$e)=>{ne.preventDefault(),Pr($e)},()=>!1,()=>L),[Ce,Pr,L]),m.useEffect(()=>Ce.bindResetOffet(ne=>{ne.preventDefault(),Pr(0)},()=>!1),[Ce,Pr]),m.useEffect(()=>Ce.bindAdjustPlaybackRate((ne,$e)=>{ne.preventDefault();const Ye=S.current;Ye&&lr($e?Math.min(5,Ye.playbackRate+ee.speedChangeStep):Math.max(.1,Ye.playbackRate-ee.speedChangeStep),!0)},()=>!1),[lr,Ce,ee]),m.useEffect(()=>Ce.bindToggleSubtitles(ne=>{ne.preventDefault(),_e(!Re),ke.displaySubtitles=!Re},()=>!1),[Ce,Re,ke]),m.useEffect(()=>Ce.bindToggleSubtitleTrackInVideo((ne,$e)=>{ne.preventDefault(),Me(Ye=>{const St={...Ye};return St[$e]=!Ye[$e],St})},()=>!1),[Ce]),m.useEffect(()=>Ce.bindToggleSubtitleTrackInList((ne,$e)=>{ne.preventDefault(),C.toggleSubtitleTrackInList($e)},()=>!1),[Ce,C]),m.useEffect(()=>Ce.bindUnblurTrack((ne,$e)=>{ne.preventDefault();let Ye={...le};for(let St=0;St<ct;++St){const dt=Yi(le,St).subtitleBlur,Pn=Hf({subtitleBlur:St===$e?!dt:dt},Ye,St);Ye={...Ye,...Pn}}p(Ye),de(Ye)},()=>!1),[Ce,le,ct,p]),m.useEffect(()=>Ce.bindOffsetToSubtitle((ne,$e)=>{ne.preventDefault(),Pr($e)},()=>!1,()=>Pe.time(j),()=>L),[Ce,Pr,L,Pe,j]);const Hr=m.useCallback(()=>{if(!L||L.length===0){const ne=Pe.time(j),$e=Math.min(ne+5e3,j),Ye={text:"",start:ne,originalStart:ne,end:$e,originalEnd:$e,track:0};return{currentSubtitle:Ye,surroundingSubtitles:Uv(Ye,j,5e3)}}else if(tt.current&&tt.current.length>0){const ne=tt.current[0];return{currentSubtitle:ne,surroundingSubtitles:jr(ne.index)}}},[L,jr,j,Pe]),$r=m.useCallback((ne,$e,Ye,St,dt,nn,Pn,xi,Ho)=>{switch(ne){case hr.showAnkiDialog:C.copy(nn,Pn,xi,Ye??"",Ho,hr.none),c($e,Ye??"",St,dt,nn,Pn,xi,Ho),D()?(C.pause(),N(!0)):N(!1);break;default:C.copy(nn,Pn,xi,Ye??"",Ho,ne)}Ue({videoFileUrl:$e,videoFileName:Ye??"",selectedAudioTrack:St,playbackRate:dt,subtitle:nn,surroundingSubtitles:Pn,timestamp:Ho})},[c,C]),ur=m.useCallback((ne,$e,Ye,St)=>{const dt=S.current;if(!dt)return;let nn;if($e===void 0||Ye===void 0){const Pn=Hr();if(Pn===void 0)return;$e=Pn.currentSubtitle,Ye=Pn.surroundingSubtitles,nn=Pe.time(j)}else nn=$e.start;$r(ne,r,M??"",G,dt.playbackRate,$e,Ye,St??{},nn)},[$r,Hr,Pe,j,G,r,M]),Sr=m.useCallback((ne,$e)=>{var Ye;if(He===void 0)Zt(Pe.time(j)),D()||C.play(),ii.isMobile||(be("info"),te(b("info.manualMiningIntervalPrompt")),ze(!0),rt(!0));else{ze(!1),rt(!1);const St=S.current;if(!St)return;const dt=Pe.time(j);if(dt>He){let nn={text:"",start:He,originalStart:He,end:dt,originalEnd:dt,track:0},Pn;if(L.length===0)Pn=Uv(nn,j,5e3);else{const xi=Xy(L,He,dt,t.surroundingSubtitlesCountRadius,t.surroundingSubtitlesTimeRadius);nn={...nn,text:((Ye=xi.subtitle)==null?void 0:Ye.text)??""},Pn=xi.surroundingSubtitles??[]}$r(ne,r,M??"",G,St.playbackRate,nn,Pn,$e??{},He)}Zt(void 0)}},[b,$r,C,He,Pe,j,G,r,M,L,t.surroundingSubtitlesCountRadius,t.surroundingSubtitlesTimeRadius]),Lr=m.useCallback((ne,$e,Ye,St)=>{!$e&&!Ye&&L.length===0?Sr(ne,St):(He!==void 0&&(ze(!1),rt(!1),Zt(void 0)),ur(ne,$e,Ye,St))},[ur,Sr,He,L]);m.useEffect(()=>C.onCopy(Lr),[C,Lr]),m.useEffect(()=>Ce.bindAnkiExport(ne=>{ne.preventDefault(),ne.stopPropagation(),Lr(hr.showAnkiDialog)},()=>!1),[Lr,Ce]),m.useEffect(()=>a.onEvent("stopped-mining",()=>{switch(ee.postMiningPlaybackState){case An.play:C.play();break;case An.pause:C.pause();break;case An.remember:H&&C.play();break}}),[a,H,ee,C]),m.useEffect(()=>Ce.bindUpdateLastCard(ne=>{ne.preventDefault(),ne.stopPropagation(),Lr(hr.updateLastCard)},()=>!1),[Lr,Ce]),m.useEffect(()=>Ce.bindTakeScreenshot(ne=>{if(ne.preventDefault(),s)g();else if(ot){const $e=Pe.time(j);$r(hr.showAnkiDialog,ot.videoFileUrl,ot.videoFileName,ot.selectedAudioTrack,ot.playbackRate,ot.subtitle,ot.surroundingSubtitles,{},$e)}},()=>!1),[Pe,j,Ce,ot,$r,i,s,g]),m.useEffect(()=>Ce.bindToggleRecording(ne=>{ne.preventDefault(),Sr(hr.showAnkiDialog)},()=>!1),[Ce,Sr]),m.useEffect(()=>Ce.bindCopy((ne,$e)=>{ne.preventDefault(),Lr(hr.none)},()=>!1,()=>{const ne=Hr();if(ne!==void 0)return ne.currentSubtitle}),[Hr,Lr,Ce]),m.useEffect(()=>Ce.bindPlay(ne=>{ne.preventDefault(),D()?C.pause():C.play()},()=>!1),[Ce,C]);const Te=m.useCallback((ne,$e)=>{if(L.length===0)return;ne.preventDefault();const Ye=De===$e?sr.normal:$e;C.playMode(Ye),f(De,Ye)},[De,C,L,f]);m.useEffect(()=>Ce.bindAutoPause(ne=>Te(ne,sr.autoPause),()=>!1),[Ce,Te]),m.useEffect(()=>Ce.bindCondensedPlayback(ne=>Te(ne,sr.condensed),()=>!1),[Ce,Te]),m.useEffect(()=>Ce.bindFastForwardPlayback(ne=>Te(ne,sr.fastForward),()=>!1),[Ce,Te]),m.useEffect(()=>Ce.bindToggleRepeat(ne=>{Y.length>0&&Te(ne,sr.repeat)},()=>!1),[Ce,Te,Y]);const ft=m.useCallback(()=>{_e(!Re),ke.displaySubtitles=!Re},[Re,ke]),ve=m.useCallback(()=>{O(!T)},[T,O]),kt=m.useCallback(ne=>{S.current&&(S.current.volume=ne)},[]),lt=m.useCallback(()=>{C.popOutToggle(),i&&(v.current=!0,window.close())},[C,i]),Kt=m.useCallback(ne=>{C.playMode(ne)},[C]),Jt=m.useCallback(()=>{C.close(),window.close()},[C]),Pt=m.useCallback(()=>{C.hideSubtitlePlayerToggle()},[C]),dr=m.useCallback(()=>{C.appBarToggle()},[C]),Sn=m.useCallback(ne=>{let $e={};for(let St=0;St<Ie.length;++St)$e={...$e,...Hf({subtitleAlignment:ne},le,St)};const Ye={...le,...$e};We([ne]),p(Ye),de(Ye)},[p,le,Ie]),pt=m.useCallback(()=>{D()?C.pause():C.play()},[C]),Ke=m.useCallback(()=>ve(),[ve]);m.useEffect(()=>{const ne=setInterval(()=>{Date.now()-st.current>300?Et&&Tt(!1):Et||Tt(!0)},100);return()=>clearInterval(ne)},[Et]);const Ae=m.useCallback(()=>{ze(!1),rt(!1)},[]),bt=oV(le,ct??1),{getSubtitleDomCache:Ir}=Tz(L,m.useCallback(ne=>{var $e,Ye;return EV(ne,S,(($e=bt[ne.track])==null?void 0:$e.styleString)??bt[0].styleString,((Ye=bt[ne.track])==null?void 0:Ye.classes)??bt[0].classes,le.imageBasedSubtitleScaleFactor)},[bt,le.imageBasedSubtitleScaleFactor])),zr=m.useCallback(ne=>{const $e=pc(ne==="right",Pe.time(j),L);$e&&C.currentTime($e.start/1e3)},[Pe,j,L,C]);Rz({onSwipe:zr,distance:50,ms:500});const ir=m.useRef(),Ar=m.useCallback(()=>{var ne;ee.pauseOnHoverMode!==Ri.disabled&&((ne=S.current)==null?void 0:ne.paused)===!1&&(C.pause(),ir.current=!0)},[ee.pauseOnHoverMode,C]),Vr=m.useCallback(()=>{ee.pauseOnHoverMode===Ri.inAndOut&&ir.current&&C.play(),ir.current=!1},[ee.pauseOnHoverMode,C]),{lastControlType:sn,setLastControlType:Se}=wV({isMobile:ii.isMobile,fetchLastControlType:RV,saveLastControlType:OV}),ut=!Ge&&((Ve=parent==null?void 0:parent.document)==null?void 0:Ve.body)!==void 0&&parent.document.body.clientWidth===document.body.clientWidth,nt=ne=>Ie[ne]??Ie[0],$t=(ne,$e)=>{var Ye;return ee.preCacheSubtitleDom?E.jsx(PV,{index:ne.index,domCache:Ir(),onMouseOver:Ar},$e):E.jsx(_V,{subtitle:ne,subtitleStyles:((Ye=bt[ne.track])==null?void 0:Ye.styles)??bt[0].styles,className:bt[ne.track].classes,videoRef:S,imageBasedSubtitleScaleFactor:le.imageBasedSubtitleScaleFactor,onMouseOver:Ar},$e)},or=ne=>Y.filter($e=>nt($e.track)===ne).map($t),ye=Re?or("top"):[],ae=Re?or("bottom"):[],Fe=()=>{var $e,Ye,St;if(!ii.isMobile||D()&&He===void 0)return;const ne=Pe.time(j);return{offset:I,playbackRate:(($e=S.current)==null?void 0:$e.playbackRate)??1,emptySubtitleTrack:L.length===0,recordingEnabled:!0,recording:He!==void 0,previousSubtitleTimestamp:((Ye=pc(!1,ne,L))==null?void 0:Ye.originalStart)??void 0,nextSubtitleTimestamp:((St=pc(!0,ne,L))==null?void 0:St.originalStart)??void 0,currentTimestamp:ne,postMineAction:t.clickToMineDefaultAction,subtitleDisplaying:Y.length>0,subtitlesAreVisible:Re,playMode:De,themeType:t.themeType}},je=!D()&&ii.isMobile?SV:0,q=Ie[0]==="top"?"bottom":"top";return!R||sn===void 0?null:E.jsxs("div",{ref:Z,onMouseMove:yr,onMouseLeave:br,className:y.root,children:[E.jsx(DP,{open:ie,disableAutoHide:xe,onClose:Ae,autoHideDuration:3e3,severity:me,anchor:q,children:se}),E.jsx(xV,{model:Fe(),className:y.mobileOverlay,anchor:"bottom",tooltipsEnabled:!0,initialControlType:sn,onScrollToControlType:Se,onMineSubtitle:()=>Lr(t.clickToMineDefaultAction),onOffset:Pr,onPlaybackRate:vr,onPlayModeSelected:Kt,onSeek:_r,onToggleSubtitles:ft}),E.jsx("video",{preload:"auto",controls:!1,onClick:pt,onDoubleClick:Ke,className:Et?y.video:`${y.cursorHidden} ${y.video}`,ref:Ze,src:r,onMouseOver:Vr}),ye.length>0&&E.jsx(VE,{alignment:"top",subtitleSettings:le,baseOffset:0,children:ye}),ae.length>0&&E.jsx(VE,{alignment:"bottom",subtitleSettings:le,baseOffset:je,children:ae}),E.jsx(YT,{mousePositionRef:Q,clock:Pe,length:j,audioTracks:K,selectedAudioTrack:G,subtitlesToggle:L&&L.length>0,subtitlesEnabled:Re,offsetEnabled:!0,offset:I,playbackRate:((vt=S.current)==null?void 0:vt.playbackRate)??1,playbackRateEnabled:!0,fullscreenEnabled:!0,fullscreen:T,closeEnabled:!i,popOut:i,volumeEnabled:!0,popOutEnabled:!ii.isMobile,playModeEnabled:L&&L.length>0,playMode:De,hideSubtitlePlayerToggleEnabled:(L==null?void 0:L.length)>0&&!i&&!T&&!ut,subtitlePlayerHidden:Ge,onPlay:pr,onPause:wr,onSeek:Br,onAudioTrackSelected:mr,onSubtitlesToggle:ft,onFullscreenToggle:ve,onVolumeChange:kt,onOffsetChange:Pr,onPlaybackRateChange:vr,onPopOutToggle:lt,onPlayMode:Kt,onClose:Jt,onHideSubtitlePlayerToggle:Pt,playbackPreferences:ke,showOnMouseMovement:!1,theaterModeToggleEnabled:!i&&!T,theaterModeEnabled:ht,onTheaterModeToggle:dr,subtitleAlignment:Ie[0],subtitleAlignmentEnabled:Ie.length===1,onSubtitleAlignment:Sn,hideToolbar:ii.isMobile,onLoadFiles:i?void 0:Rr})]})}const IV="modulepreload",NV=function(t){return"/asbplayer-staging/"+t},qE={},qa=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=NV(c),c in qE)return;qE[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":IV,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((p,y)=>{g.addEventListener("load",p),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},FV=(t,e,r)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var MV=function(e){return{type:"backend",init:function(n,i,a){},read:function(n,i,a){if(typeof e=="function"){if(e.length<3){try{var s=e(n,i);s&&typeof s.then=="function"?s.then(function(u){return a(null,u&&u.default||u)}).catch(a):a(null,s)}catch(u){a(u)}return}e(n,i,a);return}a(null,e&&e[n]&&e[n][i])}}};let Mv=wn.use(MV(t=>FV(Object.assign({"../../locales/de.json":()=>qa(()=>import("./de-7lu0T27Y.js"),[]),"../../locales/en.json":()=>qa(()=>import("./en-BuUTOciz.js"),[]),"../../locales/es.json":()=>qa(()=>import("./es-G5wN1JW8.js"),[]),"../../locales/ja.json":()=>qa(()=>import("./ja-BxXb2CZX.js"),[]),"../../locales/pl.json":()=>qa(()=>import("./pl-IP_QB_kc.js"),[]),"../../locales/pt_BR.json":()=>qa(()=>import("./pt_BR-DrvYO3iX.js"),[]),"../../locales/ru.json":()=>qa(()=>import("./ru-ClKrG-LH.js"),[]),"../../locales/zh_CN.json":()=>qa(()=>import("./zh_CN-DoEbEqod.js"),[])}),`../../locales/${t}.json`,4))).use(tL).init({partialBundledLanguages:!0,resources:{},fallbackLng:"en",debug:!1,ns:"translation",defaultNS:"translation",interpolation:{escapeValue:!1}});const jV=({language:t})=>{const[e,r]=m.useState(!1);return m.useEffect(()=>{e||Mv.then(()=>r(!0))},[e]),m.useEffect(()=>{Mv=Mv.then(()=>wn.changeLanguage(t))},[t]),{initialized:e}},$V=['"',"*","_","\\",":"],HE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",LV=()=>{let t="";for(let e=0;e<8;++e)t+=HE.charAt(Math.floor(Math.random()*HE.length));return t},DV=t=>{const e=/(.*)\.(.*)/.exec(t);if(e===null||e.length<3)return t;const r=e[1],n=e[2];return`${r}_${LV()}.${n}`},wR="<([^/ >])*[^>]*>(.*?)</\\1>",BV=t=>{const e=new RegExp(wR);let r=t,n=[t];for(;;){const i=e.exec(r);if(i===null||i.length<3)break;r=i[2],n.push(r)}return n},zV=(t,e)=>{const r=new RegExp(wR,"ig"),n=e.replaceAll("<br>","");let i=t;for(;;){const a=r.exec(n);if(a===null||a.length<3)break;let s=i;if(!i.includes(a[0])){const u=BV(a[2]);for(const c of u)if(s=i.replace(c,a[0]),s!==i)break}i=s}return i};class VV{constructor(e,r=new m2){this.settingsProvider=e,this.fetcher=r}async deckNames(e){return(await this._executeAction("deckNames",null,e)).result}async modelNames(e){return(await this._executeAction("modelNames",null,e)).result}async modelFieldNames(e,r){return(await this._executeAction("modelFieldNames",{modelName:e},r)).result}async findNotesWithWord(e,r){return(await this._executeAction("findNotes",{query:this.settingsProvider.wordField+":"+this._escapeQuery(e)},r)).result}async findNotesWithWordGui(e,r){return(await this._executeAction("guiBrowse",{query:this.settingsProvider.wordField+":"+this._escapeQuery(e)},r)).result}_escapeQuery(e){let r="";for(let n=0;n<e.length;++n){const i=e[n];$V.includes(i)?r+=`\\${i}`:r+=i}return`"${r}"`}async requestPermission(e){return(await this._executeAction("requestPermission",null,e)).result}async version(e){return(await this._executeAction("version",null,e)).result}async export({text:e,track1:r,track2:n,track3:i,definition:a,audioClip:s,image:u,word:c,source:h,url:f,customFieldValues:g,tags:p,mode:y,ankiConnectUrl:b}){const v={};if(this._appendField(v,this.settingsProvider.sentenceField,e,!0),this._appendField(v,this.settingsProvider.track1Field,r,!0),this._appendField(v,this.settingsProvider.track2Field,n,!0),this._appendField(v,this.settingsProvider.track3Field,i,!0),this._appendField(v,this.settingsProvider.definitionField,a,!0),this._appendField(v,this.settingsProvider.wordField,c,!1),this._appendField(v,this.settingsProvider.sourceField,h,!1),this._appendField(v,this.settingsProvider.urlField,f,!1),g)for(const C of Object.keys(g))this._appendField(v,this.settingsProvider.customAnkiFields[C],g[C],!0);const S={note:{deckName:this.settingsProvider.deck,modelName:this.settingsProvider.noteType,tags:p,options:{allowDuplicate:!1,duplicateScope:"deck",duplicateScopeOptions:{deckName:this.settingsProvider.deck,checkChildren:!1}}}},x=y==="gui",k=y==="updateLast";if(this.settingsProvider.audioField&&s&&s.error===void 0){const C=this._sanitizeFileName(s.name),R=await s.base64();if(R)if(x||k){const _=(await this._storeMediaFile(C,R,b)).result;this._appendField(v,this.settingsProvider.audioField,`[sound:${_}]`,!1)}else S.note.audio={filename:C,data:R,fields:[this.settingsProvider.audioField]}}if(this.settingsProvider.imageField&&u&&u.error===void 0){const C=this._sanitizeFileName(u.name),R=await u.base64();if(R)if(x||k){const _=(await this._storeMediaFile(C,R,b)).result;this._appendField(v,this.settingsProvider.imageField,`<img src="${_}">`,!1)}else S.note.picture={filename:C,data:R,fields:[this.settingsProvider.imageField]}}switch(S.note.fields=v,y){case"gui":return(await this._executeAction("guiAddCards",S,b)).result;case"updateLast":const C=(await this._executeAction("findNotes",{query:"added:1"},b)).result.sort();if(C.length===0)throw new Error("Could not find note to update");const R=C[C.length-1];S.note.id=R;const _=await this._executeAction("notesInfo",{notes:[R]});if(_.result.length>0&&_.result[0].noteId===R){const T=_.result[0];if(this._inheritHtmlMarkupFromField("sentenceField",T,S),this._inheritHtmlMarkupFromField("track1Field",T,S),this._inheritHtmlMarkupFromField("track2Field",T,S),this._inheritHtmlMarkupFromField("track3Field",T,S),await this._executeAction("updateNoteFields",S,b),p.length>0&&await this._executeAction("addTags",{notes:[R],tags:p.join(" ")},b),!this.settingsProvider.wordField||!T.fields)return T.noteId;const O=T.fields[this.settingsProvider.wordField];return!O||!O.value?T.noteId:O.value}throw new Error("Could not update last card because the card info could not be fetched");case"default":return(await this._executeAction("addNote",S,b)).result;default:throw new Error("Unknown export mode: "+y)}}_appendField(e,r,n,i){if(!r||!n)return;let a=i?n.split(`
`).join("<br>"):n;const s=e[r];s&&(a=s+"<br>"+a),e[r]=a}_sanitizeFileName(e){return typeof e.toWellFormed=="function"&&(e=e.toWellFormed()),c2(e,{replacement:"_"})}async _storeMediaFile(e,r,n){return this._executeAction("storeMediaFile",{filename:DV(e),data:r,deleteExisting:!1},n)}_inheritHtmlMarkupFromField(e,r,n){var a;const i=this.settingsProvider[e];i&&r.fields&&typeof((a=r.fields[i])==null?void 0:a.value)=="string"&&typeof n.note.fields[i]=="string"&&(n.note.fields[i]=zV(n.note.fields[i],r.fields[i].value))}async _executeAction(e,r,n){const i={action:e,version:6};r&&(i.params=r);const a=await this.fetcher.fetch(n||this.settingsProvider.ankiConnectUrl,i);if(a.error)throw new Error(a.error);return a}}class WV{get ankiConnectUrl(){return this.settings.ankiConnectUrl}get deck(){return this.settings.deck}get noteType(){return this.settings.noteType}get sentenceField(){return this.settings.sentenceField}get definitionField(){return this.settings.definitionField}get audioField(){return this.settings.audioField}get imageField(){return this.settings.imageField}get wordField(){return this.settings.wordField}get sourceField(){return this.settings.sourceField}get urlField(){return this.settings.urlField}get track1Field(){return this.settings.track1Field}get track2Field(){return this.settings.track2Field}get track3Field(){return this.settings.track3Field}get ankiFieldSettings(){return this.settings.ankiFieldSettings}get customAnkiFields(){return this.settings.customAnkiFields}get customAnkiFieldSettings(){return this.settings.customAnkiFieldSettings}get tags(){return this.settings.tags}get preferMp3(){return this.settings.preferMp3}get audioPaddingStart(){return this.settings.audioPaddingStart}get audioPaddingEnd(){return this.settings.audioPaddingEnd}get maxImageWidth(){return this.settings.maxImageWidth}get maxImageHeight(){return this.settings.maxImageHeight}get surroundingSubtitlesCountRadius(){return this.settings.surroundingSubtitlesCountRadius}get surroundingSubtitlesTimeRadius(){return this.settings.surroundingSubtitlesTimeRadius}get recordWithAudioPlayback(){return this.settings.recordWithAudioPlayback}}const UE=new WV,qV=({settings:t,fetcher:e})=>(UE.settings=t,m.useMemo(()=>new VV(UE,e),[e]));class HV{constructor(){this._callbacks={"started-mining":[],"stopped-mining":[]},this._mining=!1}get mining(){return this._mining}onEvent(e,r){return this._callbacks[e].push(r),()=>this._remove(r,this._callbacks[e])}started(){this._mining=!0,this._callbacks["started-mining"].forEach(e=>e())}stopped(){this._mining=!1,this._callbacks["stopped-mining"].forEach(e=>e())}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const UV=({settings:t})=>{const[e,r]=m.useState();return m.useEffect(()=>{if(t.webSocketClientEnabled&&t.webSocketServerUrl){const n=new pR;return n.bind(t.webSocketServerUrl).catch(console.error),r(n),()=>n.unbind()}r(void 0)},[t.webSocketServerUrl,t.webSocketClientEnabled]),e};class KV{constructor(e){this._extension=e}async fetch(e){return(await this._extension.requestCopyHistory(e)).copyHistoryItems}async clear(){await this._extension.clearCopyHistory()}async delete(e){await this._extension.deleteCopyHistory(e)}async save(e){await this._extension.saveCopyHistory(e)}liveFetch(e,r){return()=>{}}}const Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mn=Object.keys,Vn=Array.isArray;function Gn(t,e){return typeof e!="object"||mn(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||Jr.Promise||(Jr.Promise=Promise);const Pc=Object.getPrototypeOf,GV={}.hasOwnProperty;function mi(t,e){return GV.call(t,e)}function Gs(t,e){typeof e=="function"&&(e=e(Pc(t))),(typeof Reflect>"u"?mn:Reflect.ownKeys)(e).forEach(r=>{Sa(t,r,e[r])})}const SR=Object.defineProperty;function Sa(t,e,r,n){SR(t,e,Gn(r&&mi(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Ms(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Sa(t.prototype,"constructor",t),{extend:Gs.bind(null,t.prototype)}}}}const XV=Object.getOwnPropertyDescriptor;function W0(t,e){let r;return XV(t,e)||(r=Pc(t))&&W0(r,e)}const YV=[].slice;function sp(t,e,r){return YV.call(t,e,r)}function kR(t,e){return e(t)}function ac(t){if(!t)throw new Error("Assertion Failed")}function CR(t){Jr.setImmediate?setImmediate(t):setTimeout(t,0)}function ER(t,e){return t.reduce((r,n,i)=>{var a=e(n,i);return a&&(r[a[0]]=a[1]),r},{})}function ka(t,e){if(mi(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,i=e.length;n<i;++n){var a=ka(t,e[n]);r.push(a)}return r}var s=e.indexOf(".");if(s!==-1){var u=t[e.substr(0,s)];return u===void 0?void 0:ka(u,e.substr(s+1))}}function Li(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){ac(typeof r!="string"&&"length"in r);for(var n=0,i=e.length;n<i;++n)Li(t,e[n],r[n])}else{var a=e.indexOf(".");if(a!==-1){var s=e.substr(0,a),u=e.substr(a+1);if(u==="")r===void 0?Vn(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=r;else{var c=t[s];c&&mi(t,s)||(c=t[s]={}),Li(c,u,r)}}else r===void 0?Vn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function _R(t){var e={};for(var r in t)mi(t,r)&&(e[r]=t[r]);return e}const ZV=[].concat;function PR(t){return ZV.apply([],t)}const TR="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(PR([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>Jr[t]),JV=TR.map(t=>Jr[t]);ER(TR,t=>[t,!0]);let Ga=null;function Hc(t){Ga=typeof WeakMap<"u"&&new WeakMap;const e=Ey(t);return Ga=null,e}function Ey(t){if(!t||typeof t!="object")return t;let e=Ga&&Ga.get(t);if(e)return e;if(Vn(t)){e=[],Ga&&Ga.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(Ey(t[r]))}else if(JV.indexOf(t.constructor)>=0)e=t;else{const a=Pc(t);for(var i in e=a===Object.prototype?{}:Object.create(a),Ga&&Ga.set(t,e),t)mi(t,i)&&(e[i]=Ey(t[i]))}return e}const{toString:QV}={};function _y(t){return QV.call(t).slice(8,-1)}const Py=typeof Symbol<"u"?Symbol.iterator:"@@iterator",eW=typeof Py=="symbol"?function(t){var e;return t!=null&&(e=t[Py])&&e.apply(t)}:function(){return null},Rs={};function ya(t){var e,r,n,i;if(arguments.length===1){if(Vn(t))return t.slice();if(this===Rs&&typeof t=="string")return[t];if(i=eW(t)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const q0=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var na=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function RR(t,e){na=t,OR=e}var OR=()=>!0;const tW=!new Error("").stack;function qo(){if(tW)try{throw qo.arguments,new Error}catch(t){return t}return new Error}function Ty(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),r.split(`
`).slice(e).filter(OR).map(n=>`
`+n).join("")):""}var AR=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],H0=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(AR),rW={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function js(t,e){this._e=qo(),this.name=t,this.message=e}function IR(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,i)=>i.indexOf(r)===n).join(`
`)}function lp(t,e,r,n){this._e=qo(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=IR(t,e)}function hc(t,e){this._e=qo(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=IR(t,e)}Ms(js).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ty(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ms(lp).from(js),Ms(hc).from(js);var U0=H0.reduce((t,e)=>(t[e]=e+"Error",t),{});const nW=js;var rr=H0.reduce((t,e)=>{var r=e+"Error";function n(i,a){this._e=qo(),this.name=r,i?typeof i=="string"?(this.message=`${i}${a?`
 `+a:""}`,this.inner=a||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=rW[e]||r,this.inner=null)}return Ms(n).from(nW),t[e]=n,t},{});rr.Syntax=SyntaxError,rr.Type=TypeError,rr.Range=RangeError;var KE=AR.reduce((t,e)=>(t[e+"Error"]=rr[e],t),{}),jf=H0.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=rr[e]),t),{});function qr(){}function Tc(t){return t}function iW(t,e){return t==null||t===Tc?e:function(r){return e(t(r))}}function Do(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function aW(t,e){return t===qr?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Do(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Do(i,this.onerror):i),a!==void 0?a:r}}function oW(t,e){return t===qr?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Do(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Do(n,this.onerror):n)}}function sW(t,e){return t===qr?e:function(r){var n=t.apply(this,arguments);Gn(r,n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Do(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Do(a,this.onerror):a),n===void 0?s===void 0?void 0:s:Gn(n,s)}}function lW(t,e){return t===qr?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function K0(t,e){return t===qr?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return r.then(function(){return e.apply(n,a)})}return e.apply(this,arguments)}}jf.ModifyError=lp,jf.DexieError=js,jf.BulkError=hc;var Rc={};const[Ry,up,Oy]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Pc(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Pc(e),t]})(),NR=up&&up.then,$f=Ry&&Ry.constructor,G0=!!Oy;var Ay=!1,uW=Oy?()=>{Oy.then(Sf)}:Jr.setImmediate?setImmediate.bind(null,Sf):Jr.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Sf(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Sf,0)},gc=function(t,e){oc.push([t,e]),cp&&(uW(),cp=!1)},Iy=!0,cp=!0,Ao=[],Lf=[],Ny=null,Fy=Tc,$s={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:XE,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{XE(t[0],t[1])}catch{}})}},Xt=$s,oc=[],Io=0,Df=[];function It(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=qr,this._lib=!1;var e=this._PSD=Xt;if(na&&(this._stackHolder=qo(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Rc)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&jy(this,this._value))}this._state=null,this._value=null,++e.ref,MR(this,t)}const My={get:function(){var t=Xt,e=dp;function r(n,i){var a=!t.global&&(t!==Xt||e!==dp);const s=a&&!_a();var u=new It((c,h)=>{X0(this,new FR(fp(n,t,a,s),fp(i,t,a,s),c,h,t))});return na&&LR(u,this),u}return r.prototype=Rc,r},set:function(t){Sa(this,"then",t&&t.prototype===Rc?My:{get:function(){return t},set:My.set})}};function FR(t,e,r,n,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=i}function MR(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Uc();r&&typeof r.then=="function"?MR(t,(i,a)=>{r instanceof It?r._then(i,a):r.then(i,a)}):(t._state=!0,t._value=r,jR(t)),n&&Kc()}},jy.bind(null,t))}catch(r){jy(t,r)}}function jy(t,e){if(Lf.push(e),t._state===null){var r=t._lib&&Uc();e=Fy(e),t._state=!1,t._value=e,na&&e!==null&&typeof e=="object"&&!e._promise&&function(n,i,a){try{n.apply(null,a)}catch{}}(()=>{var n=W0(e,"stack");e._promise=t,Sa(e,"stack",{get:()=>Ay?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){Ao.some(i=>i._value===n._value)||Ao.push(n)}(t),jR(t),r&&Kc()}}function jR(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)X0(t,e[r]);var i=t._PSD;--i.ref||i.finalize(),Io===0&&(++Io,gc(()=>{--Io==0&&Y0()},[]))}function X0(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Io,gc(cW,[r,t,e])}else t._listeners.push(e)}function cW(t,e,r){try{Ny=e;var n,i=e._value;e._state?n=t(i):(Lf.length&&(Lf=[]),n=t(i),Lf.indexOf(i)===-1&&function(a){for(var s=Ao.length;s;)if(Ao[--s]._value===a._value)return void Ao.splice(s,1)}(e)),r.resolve(n)}catch(a){r.reject(a)}finally{Ny=null,--Io==0&&Y0(),--r.psd.ref||r.psd.finalize()}}function $R(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var i,a,s=t._value;s!=null?(i=s.name||"Error",a=s.message||s,n=Ty(s,0)):(i=s,a=""),e.push(i+(a?": "+a:"")+n)}return na&&((n=Ty(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&$R(t._prev,e,r)),e}function LR(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function Sf(){Uc()&&Kc()}function Uc(){var t=Iy;return Iy=!1,cp=!1,t}function Kc(){var t,e,r;do for(;oc.length>0;)for(t=oc,oc=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(oc.length>0);Iy=!0,cp=!0}function Y0(){var t=Ao;Ao=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=Df.slice(0),r=e.length;r;)e[--r]()}function kf(t){return new It(Rc,!1,t)}function rn(t,e){var r=Xt;return function(){var n=Uc(),i=Xt;try{return ro(r,!0),t.apply(this,arguments)}catch(a){e&&e(a)}finally{ro(i,!1),n&&Kc()}}}Gs(It.prototype,{then:My,_then:function(t,e){X0(this,new FR(null,null,t,e,Xt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):kf(n)):this.then(null,n=>n&&n.name===e?r(n):kf(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),kf(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Ay=!0;var t=$R(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Ay=!1}}},timeout:function(t,e){return t<1/0?new It((r,n)=>{var i=setTimeout(()=>n(new rr.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Sa(It.prototype,Symbol.toStringTag,"Dexie.Promise"),$s.env=DR(),Gs(It,{all:function(){var t=ya.apply(null,arguments).map(Cf);return new It(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((i,a)=>It.resolve(i).then(s=>{t[a]=s,--n||e(t)},r))})},resolve:t=>{if(t instanceof It)return t;if(t&&typeof t.then=="function")return new It((r,n)=>{t.then(r,n)});var e=new It(Rc,!0,t);return LR(e,Ny),e},reject:kf,race:function(){var t=ya.apply(null,arguments).map(Cf);return new It((e,r)=>{t.map(n=>It.resolve(n).then(e,r))})},PSD:{get:()=>Xt,set:t=>Xt=t},totalEchoes:{get:()=>dp},newPSD:to,usePSD:rl,scheduler:{get:()=>gc,set:t=>{gc=t}},rejectionMapper:{get:()=>Fy,set:t=>{Fy=t}},follow:(t,e)=>new It((r,n)=>to((i,a)=>{var s=Xt;s.unhandleds=[],s.onunhandled=a,s.finalize=Do(function(){(function(u){function c(){u(),Df.splice(Df.indexOf(c),1)}Df.push(c),++Io,gc(()=>{--Io==0&&Y0()},[])})(()=>{this.unhandleds.length===0?i():a(this.unhandleds[0])})},s.finalize),t()},e,r,n))}),$f&&($f.allSettled&&Sa(It,"allSettled",function(){const t=ya.apply(null,arguments).map(Cf);return new It(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((i,a)=>It.resolve(i).then(s=>n[a]={status:"fulfilled",value:s},s=>n[a]={status:"rejected",reason:s}).then(()=>--r||e(n)))})}),$f.any&&typeof AggregateError<"u"&&Sa(It,"any",function(){const t=ya.apply(null,arguments).map(Cf);return new It((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const i=new Array(n);t.forEach((a,s)=>It.resolve(a).then(u=>e(u),u=>{i[s]=u,--n||r(new AggregateError(i))}))})}));const zn={awaits:0,echoes:0,id:0};var dW=0,Bf=[],jv=0,dp=0,fW=0;function to(t,e,r,n){var i=Xt,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++fW;var s=$s.env;a.env=G0?{Promise:It,PromiseProp:{value:It,configurable:!0,writable:!0},all:It.all,race:It.race,allSettled:It.allSettled,any:It.any,resolve:It.resolve,reject:It.reject,nthen:GE(s.nthen,a),gthen:GE(s.gthen,a)}:{},e&&Gn(a,e),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=rl(a,t,r,n);return a.ref===0&&a.finalize(),u}function tl(){return zn.id||(zn.id=++dW),++zn.awaits,zn.echoes+=100,zn.id}function _a(){return!!zn.awaits&&(--zn.awaits==0&&(zn.id=0),zn.echoes=100*zn.awaits,!0)}function Cf(t){return zn.echoes&&t&&t.constructor===$f?(tl(),t.then(e=>(_a(),e),e=>(_a(),xn(e)))):t}function pW(t){++dp,zn.echoes&&--zn.echoes!=0||(zn.echoes=zn.id=0),Bf.push(Xt),ro(t,!0)}function hW(){var t=Bf[Bf.length-1];Bf.pop(),ro(t,!1)}function ro(t,e){var r=Xt;if((e?!zn.echoes||jv++&&t===Xt:!jv||--jv&&t===Xt)||BR(e?pW.bind(null,t):hW),t!==Xt&&(Xt=t,r===$s&&($s.env=DR()),G0)){var n=$s.env.Promise,i=t.env;up.then=i.nthen,n.prototype.then=i.gthen,(r.global||t.global)&&(Object.defineProperty(Jr,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function DR(){var t=Jr.Promise;return G0?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Jr,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:up.then,gthen:t.prototype.then}:{}}function rl(t,e,r,n,i){var a=Xt;try{return ro(t,!0),e(r,n,i)}finally{ro(a,!1)}}function BR(t){NR.call(Ry,t)}function fp(t,e,r,n){return typeof t!="function"?t:function(){var i=Xt;r&&tl(),ro(e,!0);try{return t.apply(this,arguments)}finally{ro(i,!1),n&&BR(_a)}}}function GE(t,e){return function(r,n){return t.call(this,fp(r,e),fp(n,e))}}(""+NR).indexOf("[native code]")===-1&&(tl=_a=qr);function XE(t,e){var r;try{r=e.onuncatched(t)}catch{}if(r!==!1)try{var n,i={promise:e,reason:t};if(Jr.document&&document.createEvent?((n=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Gn(n,i)):Jr.CustomEvent&&Gn(n=new CustomEvent("unhandledrejection",{detail:i}),i),n&&Jr.dispatchEvent&&(dispatchEvent(n),!Jr.PromiseRejectionEvent&&Jr.onunhandledrejection))try{Jr.onunhandledrejection(n)}catch{}na&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var xn=It.reject;function $y(t,e,r,n){if(t.idbdb&&(t._state.openComplete||Xt.letThrough||t._vip)){var i=t._createTransaction(e,r,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===U0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>$y(t,e,r,n))):xn(a)}return i._promise(e,(a,s)=>to(()=>(Xt.trans=i,n(a,s,i)))).then(a=>i._completion.then(()=>a))}if(t._state.openComplete)return xn(new rr.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return xn(new rr.DatabaseClosed);t.open().catch(qr)}return t._state.dbReadyPromise.then(()=>$y(t,e,r,n))}const Ro="￿",ha="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mc=[],zp=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gW=zp,mW=zp,zR=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function Bo(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const VR={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ef(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Hc(e))[t],e)}class vW{_trans(e,r,n){const i=this._tx||Xt.trans,a=this.name;function s(c,h,f){if(!f.schema[a])throw new rr.NotFound("Table "+a+" not part of transaction");return r(f.idbtrans,f)}const u=Uc();try{return i&&i.db===this.db?i===Xt.trans?i._promise(e,s,n):to(()=>i._promise(e,s,n),{trans:i,transless:Xt.transless||Xt}):$y(this.db,e,[this.name],s)}finally{u&&Kc()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(i=>this.hook.reading.fire(i))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Vn(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const r=mn(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(h=>h.compound&&r.every(f=>h.keyPath.indexOf(f)>=0)&&h.keyPath.every(f=>r.indexOf(f)>=0))[0];if(n&&this.db._maxKey!==Ro)return this.where(n.name).equals(n.keyPath.map(h=>e[h]));!n&&na&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:i}=this.schema,a=this.db._deps.indexedDB;function s(h,f){try{return a.cmp(h,f)===0}catch{return!1}}const[u,c]=r.reduce(([h,f],g)=>{const p=i[g],y=e[g];return[h||p,h||!p?Bo(f,p&&p.multi?b=>{const v=ka(b,g);return Vn(v)&&v.some(S=>s(y,S))}:b=>s(y,ka(b,g))):f]},[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Vn(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const i=Object.create(e.prototype);for(var a in n)if(mi(n,a))try{i[a]=n[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Gn(this,e)})}add(e,r){const{auto:n,keyPath:i}=this.schema.primKey;let a=e;return i&&n&&(a=Ef(i)(e)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:r!=null?[r]:null,values:[a]})).then(s=>s.numFailures?It.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{Li(e,i,s)}catch{}return s})}update(e,r){if(typeof e!="object"||Vn(e))return this.where(":id").equals(e).modify(r);{const n=ka(e,this.schema.primKey.keyPath);if(n===void 0)return xn(new rr.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?mn(r).forEach(i=>{Li(e,i,r[i])}):r(e,{value:e,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:i}=this.schema.primKey;let a=e;return i&&n&&(a=Ef(i)(e)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[a],keys:r!=null?[r]:null})).then(s=>s.numFailures?It.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{Li(e,i,s)}catch{}return s})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?It.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:VR})).then(e=>e.numFailures?It.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,r,n){const i=Array.isArray(r)?r:void 0,a=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:u,keyPath:c}=this.schema.primKey;if(c&&i)throw new rr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new rr.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let f=c&&u?e.map(Ef(c)):e;return this.core.mutate({trans:s,type:"add",keys:i,values:f,wantResults:a}).then(({numFailures:g,results:p,lastResult:y,failures:b})=>{if(g===0)return a?p:y;throw new hc(`${this.name}.bulkAdd(): ${g} of ${h} operations failed`,b)})})}bulkPut(e,r,n){const i=Array.isArray(r)?r:void 0,a=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:u,keyPath:c}=this.schema.primKey;if(c&&i)throw new rr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new rr.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let f=c&&u?e.map(Ef(c)):e;return this.core.mutate({trans:s,type:"put",keys:i,values:f,wantResults:a}).then(({numFailures:g,results:p,lastResult:y,failures:b})=>{if(g===0)return a?p:y;throw new hc(`${this.name}.bulkPut(): ${g} of ${h} operations failed`,b)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:i,failures:a})=>{if(n===0)return i;throw new hc(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,a)})}}function vc(t){var e={},r=function(u,c){if(c){for(var h=arguments.length,f=new Array(h-1);--h;)f[h-1]=arguments[h];return e[u].subscribe.apply(null,f),t}if(typeof u=="string")return e[u]};r.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return r;function a(u,c,h){if(typeof u=="object")return s(u);c||(c=lW),h||(h=qr);var f={subscribers:[],fire:h,subscribe:function(g){f.subscribers.indexOf(g)===-1&&(f.subscribers.push(g),f.fire=c(f.fire,g))},unsubscribe:function(g){f.subscribers=f.subscribers.filter(function(p){return p!==g}),f.fire=f.subscribers.reduce(c,h)}};return e[u]=r[u]=f,f}function s(u){mn(u).forEach(function(c){var h=u[c];if(Vn(h))a(c,u[c][0],u[c][1]);else{if(h!=="asap")throw new rr.InvalidArgument("Invalid event config");var f=a(c,Tc,function(){for(var g=arguments.length,p=new Array(g);g--;)p[g]=arguments[g];f.subscribers.forEach(function(y){CR(function(){y.apply(null,p)})})})}})}}function Yu(t,e){return Ms(e).from({prototype:t}),e}function Es(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function $v(t,e){t.filter=Bo(t.filter,e)}function Lv(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Bo(n(),e()):e,t.justLimit=r&&!n}function zf(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new rr.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function YE(t,e,r){const n=zf(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function _f(t,e,r,n){const i=t.replayFilter?Bo(t.filter,t.replayFilter()):t.filter;if(t.or){const a={},s=(u,c,h)=>{if(!i||i(c,h,p=>c.stop(p),p=>c.fail(p))){var f=c.primaryKey,g=""+f;g==="[object ArrayBuffer]"&&(g=""+new Uint8Array(f)),mi(a,g)||(a[g]=!0,e(u,c,h))}};return Promise.all([t.or._iterate(s,r),ZE(YE(t,n,r),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return ZE(YE(t,n,r),Bo(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function ZE(t,e,r,n){var i=rn(n?(a,s,u)=>r(n(a),s,u):r);return t.then(a=>{if(a)return a.start(()=>{var s=()=>a.continue();e&&!e(a,u=>s=u,u=>{a.stop(u),s=qr},u=>{a.fail(u),s=qr})||i(a.value,a,u=>s=u),s()})})}function Kn(t,e){try{const r=JE(t),n=JE(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(i,a){const s=i.length,u=a.length,c=s<u?s:u;for(let h=0;h<c;++h)if(i[h]!==a[h])return i[h]<a[h]?-1:1;return s===u?0:s<u?-1:1}(QE(t),QE(e));case"Array":return function(i,a){const s=i.length,u=a.length,c=s<u?s:u;for(let h=0;h<c;++h){const f=Kn(i[h],a[h]);if(f!==0)return f}return s===u?0:s<u?-1:1}(t,e)}}catch{}return NaN}function JE(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=_y(t);return r==="ArrayBuffer"?"binary":r}function QE(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class yW{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,xn.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,xn.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Bo(r.algorithm,e)}_iterate(e,r){return _f(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Gn(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>_f(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,i=n.table.core;if(Es(n,!0))return i.count({trans:r,query:{index:zf(n,i.schema),range:n.range}}).then(s=>Math.min(s,n.limit));var a=0;return _f(n,()=>(++a,!1),r,i).then(()=>a)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),i=n[0],a=n.length-1;function s(h,f){return f?s(h[n[f]],f-1):h[i]}var u=this._ctx.dir==="next"?1:-1;function c(h,f){var g=s(h,a),p=s(f,a);return g<p?-u:g>p?u:0}return this.toArray(function(h){return h.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Es(n,!0)&&n.limit>0){const{valueMapper:i}=n,a=zf(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:a,range:n.range}}).then(({result:s})=>i?s.map(i):s)}{const i=[];return _f(n,a=>i.push(a),r,n.table.core).then(()=>i)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Es(r)?Lv(r,()=>{var n=e;return(i,a)=>n===0||(n===1?(--n,!1):(a(()=>{i.advance(n),n=0}),!1))}):Lv(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Lv(this._ctx,()=>{var r=e;return function(n,i,a){return--r<=0&&i(a),r>=0}},!0),this}until(e,r){return $v(this._ctx,function(n,i,a){return!e(n.value)||(i(a),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return $v(this._ctx,function(i){return e(i.value)}),r=this._ctx,n=e,r.isMatch=Bo(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){e(i.primaryKey,i)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Es(r,!0)&&r.limit>0)return this._read(i=>{var a=zf(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(({result:i})=>i).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return $v(this._ctx,function(i){var a=i.primaryKey.toString(),s=mi(n,a);return n[a]=!0,!s}),this}modify(e){var r=this._ctx;return this._write(n=>{var i;if(typeof e=="function")i=e;else{var a=mn(e),s=a.length;i=function(v){for(var S=!1,x=0;x<s;++x){var k=a[x],C=e[k];ka(v,k)!==C&&(Li(v,k,C),S=!0)}return S}}const u=r.table.core,{outbound:c,extractKey:h}=u.schema.primaryKey,f=this.db._options.modifyChunkSize||200,g=[];let p=0;const y=[],b=(v,S)=>{const{failures:x,numFailures:k}=S;p+=v-k;for(let C of mn(x))g.push(x[C])};return this.clone().primaryKeys().then(v=>{const S=x=>{const k=Math.min(f,v.length-x);return u.getMany({trans:n,keys:v.slice(x,x+k),cache:"immutable"}).then(C=>{const R=[],_=[],T=c?[]:null,O=[];for(let j=0;j<k;++j){const F=C[j],M={value:Hc(F),primKey:v[x+j]};i.call(M,M.value,M)!==!1&&(M.value==null?O.push(v[x+j]):c||Kn(h(F),h(M.value))===0?(_.push(M.value),c&&T.push(v[x+j])):(O.push(v[x+j]),R.push(M.value)))}const D=Es(r)&&r.limit===1/0&&(typeof e!="function"||e===Dv)&&{index:r.index,range:r.range};return Promise.resolve(R.length>0&&u.mutate({trans:n,type:"add",values:R}).then(j=>{for(let F in j.failures)O.splice(parseInt(F),1);b(R.length,j)})).then(()=>(_.length>0||D&&typeof e=="object")&&u.mutate({trans:n,type:"put",keys:T,values:_,criteria:D,changeSpec:typeof e!="function"&&e}).then(j=>b(_.length,j))).then(()=>(O.length>0||D&&e===Dv)&&u.mutate({trans:n,type:"delete",keys:O,criteria:D}).then(j=>b(O.length,j))).then(()=>v.length>x+k&&S(x+f))})};return S(0).then(()=>{if(g.length>0)throw new lp("Error modifying one or more objects",g,p,y);return v.length})})})}delete(){var e=this._ctx,r=e.range;return Es(e)&&(e.isPrimKey&&!mW||r.type===3)?this._write(n=>{const{primaryKey:i}=e.table.core.schema,a=r;return e.table.core.count({trans:n,query:{index:i,range:a}}).then(s=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(({failures:u,lastResult:c,results:h,numFailures:f})=>{if(f)throw new lp("Could not delete some values",Object.keys(u).map(g=>u[g]),s-f);return s-f}))}):this.modify(Dv)}}const Dv=(t,e)=>e.value=null;function bW(t,e){return t<e?-1:t===e?0:1}function xW(t,e){return t>e?-1:t===e?0:1}function hi(t,e,r){var n=t instanceof qR?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function _s(t){return new t.Collection(t,()=>WR("")).limit(0)}function wW(t,e,r,n,i,a){for(var s=Math.min(t.length,n.length),u=-1,c=0;c<s;++c){var h=e[c];if(h!==n[c])return i(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):i(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):u>=0?t.substr(0,u)+e[u]+r.substr(u+1):null;i(t[c],h)<0&&(u=c)}return s<n.length&&a==="next"?t+r.substr(t.length):s<t.length&&a==="prev"?t.substr(0,r.length):u<0?null:t.substr(0,u)+n[u]+r.substr(u+1)}function Pf(t,e,r,n){var i,a,s,u,c,h,f,g=r.length;if(!r.every(v=>typeof v=="string"))return hi(t,"String expected.");function p(v){i=function(x){return x==="next"?k=>k.toUpperCase():k=>k.toLowerCase()}(v),a=function(x){return x==="next"?k=>k.toLowerCase():k=>k.toUpperCase()}(v),s=v==="next"?bW:xW;var S=r.map(function(x){return{lower:a(x),upper:i(x)}}).sort(function(x,k){return s(x.lower,k.lower)});u=S.map(function(x){return x.upper}),c=S.map(function(x){return x.lower}),h=v,f=v==="next"?"":n}p("next");var y=new t.Collection(t,()=>Ka(u[0],c[g-1]+n));y._ondirectionchange=function(v){p(v)};var b=0;return y._addAlgorithm(function(v,S,x){var k=v.key;if(typeof k!="string")return!1;var C=a(k);if(e(C,c,b))return!0;for(var R=null,_=b;_<g;++_){var T=wW(k,C,u[_],c[_],s,h);T===null&&R===null?b=_+1:(R===null||s(R,T)>0)&&(R=T)}return S(R!==null?function(){v.continue(R+f)}:x),!1}),y}function Ka(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function WR(t){return{type:1,lower:t,upper:t}}class qR{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||i)&&(!n||!i)?_s(this):new this.Collection(this,()=>Ka(e,r,!n,!i))}catch{return hi(this,ha)}}equals(e){return e==null?hi(this,ha):new this.Collection(this,()=>WR(e))}above(e){return e==null?hi(this,ha):new this.Collection(this,()=>Ka(e,void 0,!0))}aboveOrEqual(e){return e==null?hi(this,ha):new this.Collection(this,()=>Ka(e,void 0,!1))}below(e){return e==null?hi(this,ha):new this.Collection(this,()=>Ka(void 0,e,!1,!0))}belowOrEqual(e){return e==null?hi(this,ha):new this.Collection(this,()=>Ka(void 0,e))}startsWith(e){return typeof e!="string"?hi(this,"String expected."):this.between(e,e+Ro,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Pf(this,(r,n)=>r.indexOf(n[0])===0,[e],Ro)}equalsIgnoreCase(e){return Pf(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=ya.apply(Rs,arguments);return e.length===0?_s(this):Pf(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ya.apply(Rs,arguments);return e.length===0?_s(this):Pf(this,(r,n)=>n.some(i=>r.indexOf(i)===0),e,Ro)}anyOf(){const e=ya.apply(Rs,arguments);let r=this._cmp;try{e.sort(r)}catch{return hi(this,ha)}if(e.length===0)return _s(this);const n=new this.Collection(this,()=>Ka(e[0],e[e.length-1]));n._ondirectionchange=a=>{r=a==="next"?this._ascending:this._descending,e.sort(r)};let i=0;return n._addAlgorithm((a,s,u)=>{const c=a.key;for(;r(c,e[i])>0;)if(++i,i===e.length)return s(u),!1;return r(c,e[i])===0||(s(()=>{a.continue(e[i])}),!1)}),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ya.apply(Rs,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return hi(this,ha)}const r=e.reduce((n,i)=>n?n.concat([[n[n.length-1][1],i]]):[[-1/0,i]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,i=this._ascending,a=this._descending,s=this._min,u=this._max;if(e.length===0)return _s(this);if(!e.every(k=>k[0]!==void 0&&k[1]!==void 0&&i(k[0],k[1])<=0))return hi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",rr.InvalidArgument);const c=!r||r.includeLowers!==!1,h=r&&r.includeUppers===!0;let f,g=i;function p(k,C){return g(k[0],C[0])}try{f=e.reduce(function(k,C){let R=0,_=k.length;for(;R<_;++R){const T=k[R];if(n(C[0],T[1])<0&&n(C[1],T[0])>0){T[0]=s(T[0],C[0]),T[1]=u(T[1],C[1]);break}}return R===_&&k.push(C),k},[]),f.sort(p)}catch{return hi(this,ha)}let y=0;const b=h?k=>i(k,f[y][1])>0:k=>i(k,f[y][1])>=0,v=c?k=>a(k,f[y][0])>0:k=>a(k,f[y][0])>=0;let S=b;const x=new this.Collection(this,()=>Ka(f[0][0],f[f.length-1][1],!c,!h));return x._ondirectionchange=k=>{k==="next"?(S=b,g=i):(S=v,g=a),f.sort(p)},x._addAlgorithm((k,C,R)=>{for(var _=k.key;S(_);)if(++y,y===f.length)return C(R),!1;return!!function(T){return!b(T)&&!v(T)}(_)||(this._cmp(_,f[y][1])===0||this._cmp(_,f[y][0])===0||C(()=>{g===i?k.continue(f[y][0]):k.continue(f[y][1])}),!1)}),x}startsWithAnyOf(){const e=ya.apply(Rs,arguments);return e.every(r=>typeof r=="string")?e.length===0?_s(this):this.inAnyRange(e.map(r=>[r,r+Ro])):hi(this,"startsWithAnyOf() only works with strings")}}function Gi(t){return rn(function(e){return Oc(e),t(e.target.error),!1})}function Oc(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const no=vc(null,"storagemutated");class SW{_lock(){return ac(!Xt.global),++this._reculock,this._reculock!==1||Xt.global||(Xt.lockOwnerFor=this),this}_unlock(){if(ac(!Xt.global),--this._reculock==0)for(Xt.global||(Xt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{rl(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&Xt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(ac(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new rr.DatabaseClosed(n);case"MissingAPIError":throw new rr.MissingAPI(n.message,n);default:throw new rr.OpenFailed(n)}if(!this.active)throw new rr.TransactionInactive;return ac(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=rn(i=>{Oc(i),this._reject(e.error)}),e.onabort=rn(i=>{Oc(i),this.active&&this._reject(new rr.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=rn(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&no.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return xn(new rr.ReadOnly("Transaction is readonly"));if(!this.active)return xn(new rr.TransactionInactive);if(this._locked())return new It((a,s)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(a,s)},Xt])});if(n)return to(()=>{var a=new It((s,u)=>{this._lock();const c=r(s,u,this);c&&c.then&&c.then(s,u)});return a.finally(()=>this._unlock()),a._lib=!0,a});var i=new It((a,s)=>{var u=r(a,s,this);u&&u.then&&u.then(a,s)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=It.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function s(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var a=r._waitingFor;return new It((s,u)=>{n.then(c=>r._waitingQueue.push(rn(s.bind(null,c))),c=>r._waitingQueue.push(rn(u.bind(null,c)))).finally(()=>{r._waitingFor===a&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new rr.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(mi(r,e))return r[e];const n=this.schema[e];if(!n)throw new rr.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,n,this);return i.core=this.db.core.table(e),r[e]=i,i}}function Ly(t,e,r,n,i,a,s){return{name:t,keyPath:e,unique:r,multi:n,auto:i,compound:a,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+HR(e)}}function HR(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function UR(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:ER(r,n=>[n.name,n])}}let Ac=t=>{try{return t.only([[]]),Ac=()=>[[]],[[]]}catch{return Ac=()=>Ro,Ro}};function Dy(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>ka(r,e)}(t):e=>ka(e,t)}function e2(t){return[].slice.call(t)}let kW=0;function yc(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function CW(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:f,lowerOpen:g,upperOpen:p}=c;return h===void 0?f===void 0?null:e.upperBound(f,!!p):f===void 0?e.lowerBound(h,!!g):e.bound(h,f,!!g,!!p)}const{schema:i,hasGetAll:a}=function(c,h){const f=e2(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(g=>h.objectStore(g)).map(g=>{const{keyPath:p,autoIncrement:y}=g,b=Vn(p),v=p==null,S={},x={name:g.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:b,keyPath:p,autoIncrement:y,unique:!0,extractKey:Dy(p)},indexes:e2(g.indexNames).map(k=>g.index(k)).map(k=>{const{name:C,unique:R,multiEntry:_,keyPath:T}=k,O={name:C,compound:Vn(T),keyPath:T,unique:R,multiEntry:_,extractKey:Dy(T)};return S[yc(T)]=O,O}),getIndexByKeyPath:k=>S[yc(k)]};return S[":id"]=x.primaryKey,p!=null&&(S[yc(p)]=x.primaryKey),x})},hasGetAll:f.length>0&&"getAll"in h.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),s=i.tables.map(c=>function(h){const f=h.name;return{name:f,schema:h,mutate:function({trans:g,type:p,keys:y,values:b,range:v}){return new Promise((S,x)=>{S=rn(S);const k=g.objectStore(f),C=k.keyPath==null,R=p==="put"||p==="add";if(!R&&p!=="delete"&&p!=="deleteRange")throw new Error("Invalid operation type: "+p);const{length:_}=y||b||{length:1};if(y&&b&&y.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(_===0)return S({numFailures:0,failures:{},results:[],lastResult:void 0});let T;const O=[],D=[];let j=0;const F=z=>{++j,Oc(z)};if(p==="deleteRange"){if(v.type===4)return S({numFailures:j,failures:D,results:[],lastResult:void 0});v.type===3?O.push(T=k.clear()):O.push(T=k.delete(n(v)))}else{const[z,I]=R?C?[b,y]:[b,null]:[y,null];if(R)for(let $=0;$<_;++$)O.push(T=I&&I[$]!==void 0?k[p](z[$],I[$]):k[p](z[$])),T.onerror=F;else for(let $=0;$<_;++$)O.push(T=k[p](z[$])),T.onerror=F}const M=z=>{const I=z.target.result;O.forEach(($,K)=>$.error!=null&&(D[K]=$.error)),S({numFailures:j,failures:D,results:p==="delete"?y:O.map($=>$.result),lastResult:I})};T.onerror=z=>{F(z),M(z)},T.onsuccess=M})},getMany:({trans:g,keys:p})=>new Promise((y,b)=>{y=rn(y);const v=g.objectStore(f),S=p.length,x=new Array(S);let k,C=0,R=0;const _=O=>{const D=O.target;x[D._pos]=D.result,++R===C&&y(x)},T=Gi(b);for(let O=0;O<S;++O)p[O]!=null&&(k=v.get(p[O]),k._pos=O,k.onsuccess=_,k.onerror=T,++C);C===0&&y(x)}),get:({trans:g,key:p})=>new Promise((y,b)=>{y=rn(y);const v=g.objectStore(f).get(p);v.onsuccess=S=>y(S.target.result),v.onerror=Gi(b)}),query:function(g){return p=>new Promise((y,b)=>{y=rn(y);const{trans:v,values:S,limit:x,query:k}=p,C=x===1/0?void 0:x,{index:R,range:_}=k,T=v.objectStore(f),O=R.isPrimaryKey?T:T.index(R.name),D=n(_);if(x===0)return y({result:[]});if(g){const j=S?O.getAll(D,C):O.getAllKeys(D,C);j.onsuccess=F=>y({result:F.target.result}),j.onerror=Gi(b)}else{let j=0;const F=S||!("openKeyCursor"in O)?O.openCursor(D):O.openKeyCursor(D),M=[];F.onsuccess=z=>{const I=F.result;return I?(M.push(S?I.value:I.primaryKey),++j===x?y({result:M}):void I.continue()):y({result:M})},F.onerror=Gi(b)}})}(a),openCursor:function({trans:g,values:p,query:y,reverse:b,unique:v}){return new Promise((S,x)=>{S=rn(S);const{index:k,range:C}=y,R=g.objectStore(f),_=k.isPrimaryKey?R:R.index(k.name),T=b?v?"prevunique":"prev":v?"nextunique":"next",O=p||!("openKeyCursor"in _)?_.openCursor(n(C),T):_.openKeyCursor(n(C),T);O.onerror=Gi(x),O.onsuccess=rn(D=>{const j=O.result;if(!j)return void S(null);j.___id=++kW,j.done=!1;const F=j.continue.bind(j);let M=j.continuePrimaryKey;M&&(M=M.bind(j));const z=j.advance.bind(j),I=()=>{throw new Error("Cursor not stopped")};j.trans=g,j.stop=j.continue=j.continuePrimaryKey=j.advance=()=>{throw new Error("Cursor not started")},j.fail=rn(x),j.next=function(){let $=1;return this.start(()=>$--?this.continue():this.stop()).then(()=>this)},j.start=$=>{const K=new Promise((G,B)=>{G=rn(G),O.onerror=Gi(B),j.fail=B,j.stop=H=>{j.stop=j.continue=j.continuePrimaryKey=j.advance=I,G(H)}}),U=()=>{if(O.result)try{$()}catch(G){j.fail(G)}else j.done=!0,j.start=()=>{throw new Error("Cursor behind last entry")},j.stop()};return O.onsuccess=rn(G=>{O.onsuccess=U,U()}),j.continue=F,j.continuePrimaryKey=M,j.advance=z,U(),K},S(j)},x)})},count({query:g,trans:p}){const{index:y,range:b}=g;return new Promise((v,S)=>{const x=p.objectStore(f),k=y.isPrimaryKey?x:x.index(y.name),C=n(b),R=C?k.count(C):k.count();R.onsuccess=rn(_=>v(_.target.result)),R.onerror=Gi(S)})}}}(c)),u={};return s.forEach(c=>u[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!u[c])throw new Error(`Table '${c}' not found`);return u[c]},MIN_KEY:-1/0,MAX_KEY:Ac(e),schema:i}}function By({_novip:t},e){const r=e.db,n=function(i,a,{IDBKeyRange:s,indexedDB:u},c){return{dbcore:function(f,g){return g.reduce((p,{create:y})=>({...p,...y(p)}),f)}(CW(a,s,c),i.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(i=>{const a=i.name;t.core.schema.tables.some(s=>s.name===a)&&(i.core=t.core.table(a),t[a]instanceof t.Table&&(t[a].core=i.core))})}function pp({_novip:t},e,r,n){r.forEach(i=>{const a=n[i];e.forEach(s=>{const u=W0(s,i);(!u||"value"in u&&u.value===void 0)&&(s===t.Transaction.prototype||s instanceof t.Transaction?Sa(s,i,{get(){return this.table(i)},set(c){SR(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new t.Table(i,a))})})}function zy({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function EW(t,e){return t._cfg.version-e._cfg.version}function _W(t,e,r,n){const i=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,i);a.create(r),a._completion.catch(n);const s=a._reject.bind(a),u=Xt.transless||Xt;to(()=>{Xt.trans=a,Xt.transless=u,e===0?(mn(i).forEach(c=>{Bv(r,c,i[c].primKey,i[c].indexes)}),By(t,r),It.follow(()=>t.on.populate.fire(a)).catch(s)):function({_novip:c},h,f,g){const p=[],y=c._versions;let b=c._dbSchema=Wy(c,c.idbdb,g),v=!1;function S(){return p.length?It.resolve(p.shift()(f.idbtrans)).then(S):It.resolve()}return y.filter(x=>x._cfg.version>=h).forEach(x=>{p.push(()=>{const k=b,C=x._cfg.dbschema;qy(c,k,g),qy(c,C,g),b=c._dbSchema=C;const R=KR(k,C);R.add.forEach(T=>{Bv(g,T[0],T[1].primKey,T[1].indexes)}),R.change.forEach(T=>{if(T.recreate)throw new rr.Upgrade("Not yet support for changing primary key");{const O=g.objectStore(T.name);T.add.forEach(D=>Vy(O,D)),T.change.forEach(D=>{O.deleteIndex(D.name),Vy(O,D)}),T.del.forEach(D=>O.deleteIndex(D))}});const _=x._cfg.contentUpgrade;if(_&&x._cfg.version>h){By(c,g),f._memoizedTables={},v=!0;let T=_R(C);R.del.forEach(F=>{T[F]=k[F]}),zy(c,[c.Transaction.prototype]),pp(c,[c.Transaction.prototype],mn(T),T),f.schema=T;const O=q0(_);let D;O&&tl();const j=It.follow(()=>{if(D=_(f),D&&O){var F=_a.bind(null,null);D.then(F,F)}});return D&&typeof D.then=="function"?It.resolve(D):j.then(()=>D)}}),p.push(k=>{(!v||!gW)&&function(C,R){[].slice.call(R.db.objectStoreNames).forEach(_=>C[_]==null&&R.db.deleteObjectStore(_))}(x._cfg.dbschema,k),zy(c,[c.Transaction.prototype]),pp(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),f.schema=c._dbSchema})}),S().then(()=>{var x,k;k=g,mn(x=b).forEach(C=>{k.db.objectStoreNames.contains(C)||Bv(k,C,x[C].primKey,x[C].indexes)})})}(t,e,a,r).catch(s)})}function KR(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const i=t[n],a=e[n];if(i){const s={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!zp)s.recreate=!0,r.change.push(s);else{const u=i.idxByName,c=a.idxByName;let h;for(h in u)c[h]||s.del.push(h);for(h in c){const f=u[h],g=c[h];f?f.src!==g.src&&s.change.push(g):s.add.push(g)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}else r.add.push([n,a])}return r}function Bv(t,e,r,n){const i=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(a=>Vy(i,a)),i}function Vy(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Wy(t,e,r){const n={};return sp(e.objectStoreNames,0).forEach(i=>{const a=r.objectStore(i);let s=a.keyPath;const u=Ly(HR(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),c=[];for(let f=0;f<a.indexNames.length;++f){const g=a.index(a.indexNames[f]);s=g.keyPath;var h=Ly(g.name,s,!!g.unique,!!g.multiEntry,!1,s&&typeof s!="string",!1);c.push(h)}n[i]=UR(i,u,c)}),n}function qy({_novip:t},e,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const a=n[i],s=r.objectStore(a);t._hasGetAll="getAll"in s;for(let u=0;u<s.indexNames.length;++u){const c=s.indexNames[u],h=s.index(c).keyPath,f=typeof h=="string"?h:"["+sp(h).join("+")+"]";if(e[a]){const g=e[a].idxByName[f];g&&(g.name=c,delete e[a].idxByName[f],e[a].idxByName[c]=g)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Jr.WorkerGlobalScope&&Jr instanceof Jr.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class PW{_parseStoresSpec(e,r){mn(e).forEach(n=>{if(e[n]!==null){var i=e[n].split(",").map((s,u)=>{const c=(s=s.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Ly(c,h||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),Vn(h),u===0)}),a=i.shift();if(a.multi)throw new rr.Schema("Primary key cannot be multi-valued");i.forEach(s=>{if(s.auto)throw new rr.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new rr.Schema("Index must have a name and cannot be an empty string")}),r[n]=UR(n,a,i)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Gn(this._cfg.storesSource,e):e;const n=r._versions,i={};let a={};return n.forEach(s=>{Gn(i,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(i,a)}),r._dbSchema=a,zy(r,[r._allTables,r,r.Transaction.prototype]),pp(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],mn(a),a),r._storeNames=mn(a),this}upgrade(e){return this._cfg.contentUpgrade=K0(this._cfg.contentUpgrade||qr,e),this}}function Z0(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new No("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function J0(t){return t&&typeof t.databases=="function"}function Hy(t){return to(function(){return Xt.letThrough=!0,t()})}function TW(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function RW(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?xn(e.dbOpenError):t);na&&(e.openCanceller._stackHolder=qo()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function i(){if(e.openCanceller!==n)throw new rr.DatabaseClosed("db.open() was cancelled")}let a=e.dbReadyResolve,s=null,u=!1;return It.race([n,(typeof navigator>"u"?It.resolve():TW()).then(()=>new It((c,h)=>{if(i(),!r)throw new rr.MissingAPI;const f=t.name,g=e.autoSchema?r.open(f):r.open(f,Math.round(10*t.verno));if(!g)throw new rr.MissingAPI;g.onerror=Gi(h),g.onblocked=rn(t._fireOnBlocked),g.onupgradeneeded=rn(p=>{if(s=g.transaction,e.autoSchema&&!t._options.allowEmptyDB){g.onerror=Oc,s.abort(),g.result.close();const b=r.deleteDatabase(f);b.onsuccess=b.onerror=rn(()=>{h(new rr.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{s.onerror=Gi(h);var y=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;u=y<1,t._novip.idbdb=g.result,_W(t,y/10,s,h)}},h),g.onsuccess=rn(()=>{s=null;const p=t._novip.idbdb=g.result,y=sp(p.objectStoreNames);if(y.length>0)try{const v=p.transaction((b=y).length===1?b[0]:b,"readonly");e.autoSchema?function({_novip:S},x,k){S.verno=x.version/10;const C=S._dbSchema=Wy(0,x,k);S._storeNames=sp(x.objectStoreNames,0),pp(S,[S._allTables],mn(C),C)}(t,p,v):(qy(t,t._dbSchema,v),function(S,x){const k=KR(Wy(0,S.idbdb,x),S._dbSchema);return!(k.add.length||k.change.some(C=>C.add.length||C.change.length))}(t,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),By(t,v)}catch{}var b;mc.push(t),p.onversionchange=rn(v=>{e.vcFired=!0,t.on("versionchange").fire(v)}),p.onclose=rn(v=>{t.on("close").fire(v)}),u&&function({indexedDB:v,IDBKeyRange:S},x){!J0(v)&&x!=="__dbnames"&&Z0(v,S).put({name:x}).catch(qr)}(t._deps,f),c()},h)}))]).then(()=>(i(),e.onReadyBeingFired=[],It.resolve(Hy(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let h=e.onReadyBeingFired.reduce(K0,qr);return e.onReadyBeingFired=[],It.resolve(Hy(()=>h(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{s&&s.abort()}catch{}return n===e.openCanceller&&t._close(),xn(c)}).finally(()=>{e.openComplete=!0,a()})}function Uy(t){var e=a=>t.next(a),r=i(e),n=i(a=>t.throw(a));function i(a){return s=>{var u=a(s),c=u.value;return u.done?c:c&&typeof c.then=="function"?c.then(r,n):Vn(c)?Promise.all(c).then(r,n):r(c)}}return i(e)()}function OW(t,e,r){var n=arguments.length;if(n<2)throw new rr.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var a=PR(i);return[t,a,r]}function GR(t,e,r,n,i){return It.resolve().then(()=>{const a=Xt.transless||Xt,s=t._createTransaction(e,r,t._dbSchema,n),u={trans:s,transless:a};if(n)s.idbtrans=n.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(g){return g.name===U0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>GR(t,e,r,null,i))):xn(g)}const c=q0(i);let h;c&&tl();const f=It.follow(()=>{if(h=i.call(s,s),h)if(c){var g=_a.bind(null,null);h.then(g,g)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=Uy(h))},u);return(h&&typeof h.then=="function"?It.resolve(h).then(g=>s.active?g:xn(new rr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):f.then(()=>h)).then(g=>(n&&s._resolve(),s._completion.then(()=>g))).catch(g=>(s._reject(g),xn(g)))})}function Tf(t,e,r){const n=Vn(t)?t.slice():[t];for(let i=0;i<r;++i)n.push(e);return n}const AW={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,i={},a=[];function s(f,g,p){const y=yc(f),b=i[y]=i[y]||[],v=f==null?0:typeof f=="string"?1:f.length,S=g>0,x={...p,isVirtual:S,keyTail:g,keyLength:v,extractKey:Dy(f),unique:!S&&p.unique};return b.push(x),x.isPrimaryKey||a.push(x),v>1&&s(v===2?f[0]:f.slice(0,v-1),g+1,p),b.sort((k,C)=>k.keyTail-C.keyTail),x}const u=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[u];for(const f of n.indexes)s(f.keyPath,0,f);function c(f){const g=f.query.index;return g.isVirtual?{...f,query:{index:g,range:(p=f.query.range,y=g.keyTail,{type:p.type===1?2:p.type,lower:Tf(p.lower,p.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:Tf(p.upper,p.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:f;var p,y}return{...r,schema:{...n,primaryKey:u,indexes:a,getIndexByKeyPath:function(f){const g=i[yc(f)];return g&&g[0]}},count:f=>r.count(c(f)),query:f=>r.query(c(f)),openCursor(f){const{keyTail:g,isVirtual:p,keyLength:y}=f.query.index;return p?r.openCursor(c(f)).then(b=>b&&function(v){return Object.create(v,{continue:{value:function(x){x!=null?v.continue(Tf(x,f.reverse?t.MAX_KEY:t.MIN_KEY,g)):f.unique?v.continue(v.key.slice(0,y).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,g)):v.continue()}},continuePrimaryKey:{value(x,k){v.continuePrimaryKey(Tf(x,t.MAX_KEY,g),k)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const x=v.key;return y===1?x[0]:x.slice(0,y)}},value:{get:()=>v.value}})}(b)):r.openCursor(f)}}}}}};function Q0(t,e,r,n){return r=r||{},n=n||"",mn(t).forEach(i=>{if(mi(e,i)){var a=t[i],s=e[i];if(typeof a=="object"&&typeof s=="object"&&a&&s){const u=_y(a);u!==_y(s)?r[n+i]=e[i]:u==="Object"?Q0(a,s,r,n+i+"."):a!==s&&(r[n+i]=e[i])}else a!==s&&(r[n+i]=e[i])}else r[n+i]=void 0}),mn(e).forEach(i=>{mi(t,i)||(r[n+i]=e[i])}),r}const IW={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(a){const s=Xt.trans,{deleting:u,creating:c,updating:h}=s.table(e).hook;switch(a.type){case"add":if(c.fire===qr)break;return s._promise("readwrite",()=>f(a),!0);case"put":if(c.fire===qr&&h.fire===qr)break;return s._promise("readwrite",()=>f(a),!0);case"delete":if(u.fire===qr)break;return s._promise("readwrite",()=>f(a),!0);case"deleteRange":if(u.fire===qr)break;return s._promise("readwrite",()=>function(p){return g(p.trans,p.range,1e4)}(a),!0)}return r.mutate(a);function f(p){const y=Xt.trans,b=p.keys||function(v,S){return S.type==="delete"?S.keys:S.keys||S.values.map(v.extractKey)}(n,p);if(!b)throw new Error("Keys missing");return(p=p.type==="add"||p.type==="put"?{...p,keys:b}:{...p}).type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),function(v,S,x){return S.type==="add"?Promise.resolve([]):v.getMany({trans:S.trans,keys:x,cache:"immutable"})}(r,p,b).then(v=>{const S=b.map((x,k)=>{const C=v[k],R={onerror:null,onsuccess:null};if(p.type==="delete")u.fire.call(R,x,C,y);else if(p.type==="add"||C===void 0){const _=c.fire.call(R,x,p.values[k],y);x==null&&_!=null&&(x=_,p.keys[k]=x,n.outbound||Li(p.values[k],n.keyPath,x))}else{const _=Q0(C,p.values[k]),T=h.fire.call(R,_,x,C,y);if(T){const O=p.values[k];Object.keys(T).forEach(D=>{mi(O,D)?O[D]=T[D]:Li(O,D,T[D])})}}return R});return r.mutate(p).then(({failures:x,results:k,numFailures:C,lastResult:R})=>{for(let _=0;_<b.length;++_){const T=k?k[_]:b[_],O=S[_];T==null?O.onerror&&O.onerror(x[_]):O.onsuccess&&O.onsuccess(p.type==="put"&&v[_]?p.values[_]:T)}return{failures:x,results:k,numFailures:C,lastResult:R}}).catch(x=>(S.forEach(k=>k.onerror&&k.onerror(x)),Promise.reject(x)))})}function g(p,y,b){return r.query({trans:p,values:!1,query:{index:n,range:y},limit:b}).then(({result:v})=>f({type:"delete",keys:v,trans:p}).then(S=>S.numFailures>0?Promise.reject(S.failures[0]):v.length<b?{failures:[],numFailures:0,lastResult:void 0}:g(p,{...y,lower:v[v.length-1],lowerOpen:!0},b)))}}}}})};function XR(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let i=0,a=0;i<e.keys.length&&a<t.length;++i)Kn(e.keys[i],t[a])===0&&(n.push(r?Hc(e.values[i]):e.values[i]),++a);return n.length===t.length?n:null}catch{return null}}const NW={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const i=XR(n.keys,n.trans._cache,n.cache==="clone");return i?It.resolve(i):r.getMany(n).then(a=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?Hc(a):a},a))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function eb(t){return!("from"in t)}const ma=function(t,e){if(!this){const r=new ma;return t&&"d"in t&&Gn(r,t),r}Gn(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Ic(t,e,r){const n=Kn(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(eb(t))return Gn(t,{from:e,to:r,d:1});const i=t.l,a=t.r;if(Kn(r,t.from)<0)return i?Ic(i,e,r):t.l={from:e,to:r,d:1,l:null,r:null},t2(t);if(Kn(e,t.to)>0)return a?Ic(a,e,r):t.r={from:e,to:r,d:1,l:null,r:null},t2(t);Kn(e,t.from)<0&&(t.from=e,t.l=null,t.d=a?a.d+1:1),Kn(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const s=!t.r;i&&!t.l&&hp(t,i),a&&s&&hp(t,a)}function hp(t,e){eb(e)||function r(n,{from:i,to:a,l:s,r:u}){Ic(n,i,a),s&&r(n,s),u&&r(n,u)}(t,e)}function FW(t,e){const r=Ky(e);let n=r.next();if(n.done)return!1;let i=n.value;const a=Ky(t);let s=a.next(i.from),u=s.value;for(;!n.done&&!s.done;){if(Kn(u.from,i.to)<=0&&Kn(u.to,i.from)>=0)return!0;Kn(i.from,u.from)<0?i=(n=r.next(u.from)).value:u=(s=a.next(i.from)).value}return!1}function Ky(t){let e=eb(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Kn(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Kn(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function t2(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const a=i==="r"?"l":"r",s={...t},u=t[i];t.from=u.from,t.to=u.to,t[i]=u[i],s[i]=u[a],t[a]=s,s.d=r2(s)}t.d=r2(t)}function r2({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Gs(ma.prototype,{add(t){return hp(this,t),this},addKey(t){return Ic(this,t,t),this},addKeys(t){return t.forEach(e=>Ic(this,e,e)),this},[Py](){return Ky(this)}});const MW={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ma(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const i=t.table(n),{schema:a}=i,{primaryKey:s}=a,{extractKey:u,outbound:c}=s,h={...i,mutate:p=>{const y=p.trans,b=y.mutatedParts||(y.mutatedParts={}),v=T=>{const O=`idb://${e}/${n}/${T}`;return b[O]||(b[O]=new ma)},S=v(""),x=v(":dels"),{type:k}=p;let[C,R]=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[];const _=p.trans._cache;return i.mutate(p).then(T=>{if(Vn(C)){k!=="delete"&&(C=T.results),S.addKeys(C);const O=XR(C,_);O||k==="add"||x.addKeys(C),(O||R)&&function(D,j,F,M){function z(I){const $=D(I.name||"");function K(G){return G!=null?I.extractKey(G):null}const U=G=>I.multiEntry&&Vn(G)?G.forEach(B=>$.addKey(B)):$.addKey(G);(F||M).forEach((G,B)=>{const H=F&&K(F[B]),N=M&&K(M[B]);Kn(H,N)!==0&&(H!=null&&U(H),N!=null&&U(N))})}j.indexes.forEach(z)}(v,a,O,R)}else if(C){const O={from:C.lower,to:C.upper};x.add(O),S.add(O)}else S.add(r),x.add(r),a.indexes.forEach(O=>v(O.name).add(r));return T})}},f=({query:{index:p,range:y}})=>{var b,v;return[p,new ma((b=y.lower)!==null&&b!==void 0?b:t.MIN_KEY,(v=y.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},g={get:p=>[s,new ma(p.key)],getMany:p=>[s,new ma().addKeys(p.keys)],count:f,query:f,openCursor:f};return mn(g).forEach(p=>{h[p]=function(y){const{subscr:b}=Xt;if(b){const v=R=>{const _=`idb://${e}/${n}/${R}`;return b[_]||(b[_]=new ma)},S=v(""),x=v(":dels"),[k,C]=g[p](y);if(v(k.name||"").add(C),!k.isPrimaryKey){if(p!=="count"){const R=p==="query"&&c&&y.values&&i.query({...y,values:!1});return i[p].apply(this,arguments).then(_=>{if(p==="query"){if(c&&y.values)return R.then(({result:O})=>(S.addKeys(O),_));const T=y.values?_.result.map(u):_.result;y.values?S.addKeys(T):x.addKeys(T)}else if(p==="openCursor"){const T=_,O=y.values;return T&&Object.create(T,{key:{get:()=>(x.addKey(T.primaryKey),T.key)},primaryKey:{get(){const D=T.primaryKey;return x.addKey(D),D}},value:{get:()=>(O&&S.addKey(T.primaryKey),T.value)}})}return _})}x.add(r)}}return i[p].apply(this,arguments)}}),h}}}};class No{constructor(e,r){this._middlewares={},this.verno=0;const n=No.dependencies;this._options=r={addons:No.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:i}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:qr,dbReadyPromise:null,cancelOpen:qr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;a.dbReadyPromise=new It(u=>{a.dbReadyResolve=u}),a.openCanceller=new It((u,c)=>{a.cancelOpen=c}),this._state=a,this.name=e,this.on=vc(this,"populate","blocked","versionchange","close",{ready:[K0,qr]}),this.on.ready.subscribe=kR(this.on.ready.subscribe,u=>(c,h)=>{No.vip(()=>{const f=this._state;if(f.openComplete)f.dbOpenError||It.resolve().then(c),h&&u(c);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(c),h&&u(c);else{u(c);const g=this;h||u(function p(){g.on.ready.unsubscribe(c),g.on.ready.unsubscribe(p)})}})}),this.Collection=(s=this,Yu(yW.prototype,function(u,c){this.db=s;let h=VR,f=null;if(c)try{h=c()}catch(b){f=b}const g=u._ctx,p=g.table,y=p.hook.reading.fire;this._ctx={table:p,index:g.index,isPrimKey:!g.index||p.schema.primKey.keyPath&&g.index===p.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:g.or,valueMapper:y!==Tc?y:null}})),this.Table=function(u){return Yu(vW.prototype,function(c,h,f){this.db=u,this._tx=f,this.name=c,this.schema=h,this.hook=u._allTables[c]?u._allTables[c].hook:vc(null,{creating:[aW,qr],reading:[iW,Tc],updating:[sW,qr],deleting:[oW,qr]})})}(this),this.Transaction=function(u){return Yu(SW.prototype,function(c,h,f,g,p){this.db=u,this.mode=c,this.storeNames=h,this.schema=f,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=vc(this,"complete","error","abort"),this.parent=p||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new It((y,b)=>{this._resolve=y,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var b=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):b&&this.idbtrans&&this.idbtrans.abort(),xn(y)})})}(this),this.Version=function(u){return Yu(PW.prototype,function(c){this.db=u,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(u){return Yu(qR.prototype,function(c,h,f){this.db=u,this._ctx={table:c,index:h===":id"?null:h,or:f};const g=u._deps.indexedDB;if(!g)throw new rr.MissingAPI;this._cmp=this._ascending=g.cmp.bind(g),this._descending=(p,y)=>g.cmp(y,p),this._max=(p,y)=>g.cmp(p,y)>0?p:y,this._min=(p,y)=>g.cmp(p,y)<0?p:y,this._IDBKeyRange=u._deps.IDBKeyRange})}(this),this.on("versionchange",u=>{u.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",u=>{!u.newVersion||u.newVersion<u.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${u.oldVersion/10}`)}),this._maxKey=Ac(r.IDBKeyRange),this._createTransaction=(u,c,h,f)=>new this.Transaction(u,c,h,this._options.chromeTransactionDurability,f),this._fireOnBlocked=u=>{this.on("blocked").fire(u),mc.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(u))},this.use(AW),this.use(IW),this.use(MW),this.use(NW),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(u=>u(this))}version(e){if(isNaN(e)||e<.1)throw new rr.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new rr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(i=>i._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(EW),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Xt.letThrough||this._vip)?e():new It((r,n)=>{if(this._state.openComplete)return n(new rr.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new rr.DatabaseClosed);this.open().catch(qr)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:i}){i&&this.unuse({stack:e,name:i});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:r,level:n??10,name:i}),a.sort((s,u)=>s.level-u.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>n?i.create!==n:!!r&&i.name!==r)),this}open(){return RW(this)}_close(){const e=this._state,r=mc.indexOf(this);if(r>=0&&mc.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new It(n=>{e.dbReadyResolve=n}),e.openCanceller=new It((n,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new rr.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new It((n,i)=>{const a=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=rn(()=>{(function({indexedDB:u,IDBKeyRange:c},h){!J0(u)&&h!=="__dbnames"&&Z0(u,c).delete(h).catch(qr)})(this._deps,this.name),n()}),s.onerror=Gi(i),s.onblocked=this._fireOnBlocked};if(e)throw new rr.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return mn(this._allTables).map(e=>this._allTables[e])}transaction(){const e=OW.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let i=Xt.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);const a=e.indexOf("?")!==-1;let s,u;e=e.replace("!","").replace("?","");try{if(u=r.map(h=>{var f=h instanceof this.Table?h.name:h;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e==="readonly")s="readonly";else{if(e!="rw"&&e!="readwrite")throw new rr.InvalidArgument("Invalid transaction mode: "+e);s="readwrite"}if(i){if(i.mode==="readonly"&&s==="readwrite"){if(!a)throw new rr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&u.forEach(h=>{if(i&&i.storeNames.indexOf(h)===-1){if(!a)throw new rr.SubTransaction("Table "+h+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(h){return i?i._promise(null,(f,g)=>{g(h)}):xn(h)}const c=GR.bind(null,this,s,u,i,n);return i?i._promise(s,c,"lock"):Xt.trans?rl(Xt.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!mi(this._allTables,e))throw new rr.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const jW=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class $W{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[jW](){return this}}function YR(t,e){return mn(e).forEach(r=>{hp(t[r]||(t[r]=new ma),e[r])}),t}function ZR(t){return new $W(e=>{const r=q0(t);let n=!1,i={},a={};const s={get closed(){return n},unsubscribe:()=>{n=!0,no.storagemutated.unsubscribe(f)}};e.start&&e.start(s);let u=!1,c=!1;function h(){return mn(a).some(p=>i[p]&&FW(i[p],a[p]))}const f=p=>{YR(i,p),h()&&g()},g=()=>{if(u||n)return;i={};const p={},y=function(b){r&&tl();const v=()=>to(t,{subscr:b,trans:null}),S=Xt.trans?rl(Xt.transless,v):v();return r&&S.then(_a,_a),S}(p);c||(no("storagemutated",f),c=!0),u=!0,Promise.resolve(y).then(b=>{u=!1,n||(h()?g():(i={},a=p,e.next&&e.next(b)))},b=>{u=!1,e.error&&e.error(b),s.unsubscribe()})};return g(),s})}let Gy;try{Gy={indexedDB:Jr.indexedDB||Jr.mozIndexedDB||Jr.webkitIndexedDB||Jr.msIndexedDB,IDBKeyRange:Jr.IDBKeyRange||Jr.webkitIDBKeyRange}}catch{Gy={indexedDB:null,IDBKeyRange:null}}const wo=No;function Vf(t){let e=xa;try{xa=!0,no.storagemutated.fire(t)}finally{xa=e}}Gs(wo,{...jf,delete:t=>new wo(t,{addons:[]}).delete(),exists:t=>new wo(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return J0(e)?Promise.resolve(e.databases()).then(n=>n.map(i=>i.name).filter(i=>i!=="__dbnames")):Z0(e,r).toCollection().primaryKeys()}(wo.dependencies).then(t)}catch{return xn(new rr.MissingAPI)}},defineClass:()=>function(t){Gn(this,t)},ignoreTransaction:t=>Xt.trans?rl(Xt.transless,t):t(),vip:Hy,async:function(t){return function(){try{var e=Uy(t.apply(this,arguments));return e&&typeof e.then=="function"?e:It.resolve(e)}catch(r){return xn(r)}}},spawn:function(t,e,r){try{var n=Uy(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:It.resolve(n)}catch(i){return xn(i)}},currentTransaction:{get:()=>Xt.trans||null},waitFor:function(t,e){const r=It.resolve(typeof t=="function"?wo.ignoreTransaction(t):t).timeout(e||6e4);return Xt.trans?Xt.trans.waitFor(r):r},Promise:It,debug:{get:()=>na,set:t=>{RR(t,t==="dexie"?()=>!0:zR)}},derive:Ms,extend:Gn,props:Gs,override:kR,Events:vc,on:no,liveQuery:ZR,extendObservabilitySet:YR,getByKeyPath:ka,setByKeyPath:Li,delByKeyPath:function(t,e){typeof e=="string"?Li(t,e,void 0):"length"in e&&[].map.call(e,function(r){Li(t,r,void 0)})},shallowClone:_R,deepClone:Hc,getObjectDiff:Q0,cmp:Kn,asap:CR,minKey:-1/0,addons:[],connections:mc,errnames:U0,dependencies:Gy,semVer:"3.2.3",version:"3.2.3".split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),wo.maxKey=Ac(wo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(no("storagemutated",t=>{if(!xa){let e;zp?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),xa=!0,dispatchEvent(e),xa=!1}}),addEventListener("x-storagemutated-1",({detail:t})=>{xa||Vf(t)}));let xa=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel("x-storagemutated-1");typeof t.unref=="function"&&t.unref(),no("storagemutated",e=>{xa||t.postMessage(e)}),t.onmessage=e=>{e.data&&Vf(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){no("storagemutated",e=>{try{xa||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:"x-storagemutated-1",changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key==="x-storagemutated-1"){const r=JSON.parse(e.newValue);r&&Vf(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type==="x-storagemutated-1"&&Vf(e.changedParts)})}It.rejectionMapper=function(t,e){if(!t||t instanceof js||t instanceof TypeError||t instanceof SyntaxError||!t.name||!KE[t.name])return t;var r=new KE[t.name](e||t.message,t);return"stack"in t&&Sa(r,"stack",{get:function(){return this.inner.stack}}),r},RR(na,zR);class LW extends No{constructor(){super("CopyHistoryDatabase"),this.version(1).stores({copyHistoryItems:"++index,id,timestamp"}),this.version(2).stores({copyHistoryItems:"++index,id,timestamp"}).upgrade(e=>e.table("copyHistoryItems").toCollection().modify(r=>{const n={text:r.text,textImage:r.textImage,start:r.start,end:r.end,originalStart:r.originalStart,originalEnd:r.originalEnd,track:r.track};if(r.subtitle=n,delete r.text,delete r.textImage,delete r.start,delete r.end,delete r.originalStart,delete r.originalEnd,delete r.track,r.videoFileName||r.audioFileName){const i={name:r.videoFileName||r.audioFileName,blobUrl:"",playbackRate:r.filePlaybackRate,audioTrack:r.audioTrack};r.file=i,delete r.videoFileName,delete r.audioFileName,delete r.filePlaybackRate,delete r.audioTrack}}))}}class DW{constructor(e){this._db=new LW,this._limit=e}set limit(e){this._limit=e}async clear(){await this._db.copyHistoryItems.clear()}async fetch(e){if(e<=0)return[];const r=await await this._db.copyHistoryItems.reverse().limit(e).toArray();return r.reverse(),r}liveFetch(e,r){const i=ZR(()=>this.fetch(e)).subscribe(r);return()=>i.unsubscribe()}async save(e){if(this._limit<=0)return;const r={id:e.id,timestamp:e.timestamp,subtitle:e.subtitle,surroundingSubtitles:e.surroundingSubtitles,subtitleFileName:e.subtitleFileName,url:e.url,image:e.image,audio:e.audio,file:e.file,mediaTimestamp:e.mediaTimestamp},n=await this._db.copyHistoryItems.where("id").equals(e.id).primaryKeys();n.length>0&&(r.index=n[0]);const i=await this._db.copyHistoryItems.put(r);await this._prune(i)}async _prune(e){if(await this._db.copyHistoryItems.count()>this._limit){const n=await this._db.copyHistoryItems.where("index").belowOrEqual(e-this._limit).primaryKeys();n.length>0&&await this._db.copyHistoryItems.bulkDelete(n)}}async delete(e){const r=await this._db.copyHistoryItems.where("id").equals(e).primaryKeys();await this._db.copyHistoryItems.bulkDelete(r)}}function zv(t){return new Worker("/asbplayer-staging/assets/mp3-encoder-worker-ClYT8VJr.js",{name:t==null?void 0:t.name})}function BW(t){return new Worker("/asbplayer-staging/assets/pgs-parser-worker-CiTk6rah.js",{name:t==null?void 0:t.name})}const zW="1.9.0",VW="https://chromewebstore.google.com/detail/asbplayer-language-learni/hkledmpjpaehamkiehglnbelcpdflcab",WW=dn(t=>({content:{flexGrow:1,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginRight:0},contentShift:({drawerWidth:e})=>({transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:e})}));function qW(t){let e=[],r;for(let n=0;n<t.length;++n){const i=t[n],a=i.name.lastIndexOf(".");if(a===-1)throw new ec("error.unknownExtension",{fileName:i.name});const s=i.name.substring(a+1,i.name.length);switch(s){case"ass":case"srt":case"vtt":case"nfvtt":case"sup":case"ytxml":case"dfxp":case"ttml2":case"bbjson":e.push(i);break;case"mkv":case"mp4":case"m4v":case"avi":case"webm":if(r)throw new ec("error.onlyOneVideoFile");r=i;break;case"mp3":case"m4a":case"aac":case"flac":case"ogg":case"wav":case"opus":case"m4b":if(r)throw new ec("error.onlyOneAudioFile");r=i;break;default:throw new ec("error.unsupportedExtension",{extension:s})}}return{subtitleFiles:e,videoFile:r}}function HW({searchParams:t,...e}){const r=t.get("video"),n=t.get("channel"),i=t.get("popout")==="true";return m.useEffect(()=>{GA(r)},[r]),E.jsx(AV,{videoFile:r,channel:n,popOut:i,...e})}function UW(t){const e=WW(t);return E.jsx("main",{className:Le(e.content,{[e.contentShift]:t.drawerOpen}),children:t.children})}function KW({origin:t,logoUrl:e,settings:r,globalState:n,extension:i,fetcher:a,onSettingsChanged:s,onGlobalStateChanged:u,...c}){const{t:h}=Mr(),f=m.useMemo(()=>new Kj({regexFilter:r.subtitleRegexFilter,regexFilterTextReplacement:r.subtitleRegexFilterTextReplacement,pgsParserWorkerFactory:async()=>new BW}),[r.subtitleRegexFilter,r.subtitleRegexFilterTextReplacement]),g=UV({settings:r}),[p,y]=m.useState([]),b=yR(r,i),v=m.useMemo(()=>_P(r.themeType),[r.themeType]),S=qV({settings:r,fetcher:a}),x=m.useMemo(()=>new URLSearchParams(location.search),[]),k=m.useMemo(()=>x.get("video")!==null,[x]),[C,R]=m.useState(!1),_=gR(r.keyBindSet,i),T=m.useRef(null),O=m.useRef(null),[D,j]=m.useState(),[F]=x0(!k),M=T.current?.2:.3,z=T.current?150:300,I=Math.max(z,F*M),$=m.useMemo(()=>i.supportsCopyHistoryRequest?new KV(i):new DW(r.miningHistoryStorageLimit),[i,r.miningHistoryStorageLimit]),{copyHistoryItems:K,refreshCopyHistory:U,deleteCopyHistoryItem:G,saveCopyHistoryItem:B,deleteAllCopyHistoryItems:H}=tN(r.miningHistoryStorageLimit,$),N=m.useRef([]);N.current=K;const[L,W]=m.useState(!1),[X,Y]=m.useState(b.theaterMode),[ce,ee]=m.useState(!1),[fe,le]=m.useState(!1),[de,pe]=m.useState(),[he,ke]=m.useState(!1),[Re,_e]=m.useState(),[et,Me]=m.useState(),[De,gt]=m.useState(),[Ge,yt]=m.useState({subtitleFiles:[]}),[ht,Oe]=m.useState([]),[Ie,We]=m.useState(!1),mt=m.useRef(null),[Be,tt]=m.useState(),[Pe,Q]=m.useState(!1),[Et,Tt]=m.useState(!1),[st,Z]=m.useState(),ie=m.useMemo(()=>new HV,[]),[rt,se]=m.useState(!1),[te,me]=m.useState(),[be,xe]=m.useState(!1),[ze,ot]=m.useState(),[Ue,ct]=m.useState(),_t=m.useRef(null),{subtitleFiles:Vt}=Ge,He=m.useCallback(Se=>{console.error(Se),_e("error"),Se instanceof ec?pe(h(Se.locKey,Se.locParams)??"<failed to localize error>"):Se instanceof Error?pe(Se.message):pe(typeof Se=="string"?Se:String(Se)),ke(!0)},[h]),Zt=m.useCallback(Se=>{if(!Se&&N.current.length===0)return;const ut=Se??N.current[N.current.length-1];Z(ut),Q(!0),Tt(!1),xe(!0),ie.started()},[ie]),gr=m.useCallback(async(Se,ut,nt,$t,or,ye,ae,Fe)=>{const je={subtitle:or,surroundingSubtitles:ye,...ae,timestamp:Date.now(),id:hn(),subtitleFileName:ut,mediaTimestamp:Fe,file:{name:ut,blobUrl:Se,audioTrack:nt,playbackRate:$t}};Zt(je)},[Zt]),Xe=m.useCallback(async Se=>{Tt(!0);try{const ut=await S.export(Se);Se.mode!=="gui"&&(Se.mode==="default"?(_e("success"),pe(h("info.exportedCard",{result:ut})),ke(!0)):Se.mode==="updateLast"&&(_e("success"),pe(h("info.updatedCard",{result:ut})),ke(!0)),Q(!1),ie.mining&&ie.stopped()),r.lastSelectedAnkiExportMode!==Se.mode&&s({lastSelectedAnkiExportMode:Se.mode})}catch(ut){He(ut)}finally{Tt(!1),xe(!1)}},[S,ie,r.lastSelectedAnkiExportMode,s,He,h]),Ce=m.useRef(r);Ce.current=r;const Ot=m.useCallback(async(Se,ut,nt)=>{var or;Se.subtitle&&Ce.current.copyToClipboardOnMine&&navigator.clipboard.writeText(Se.subtitle.text);const $t={...Se,subtitleFileName:Se.subtitleFileName||((or=Se.file)==null?void 0:or.name)||"",timestamp:Date.now(),id:nt||hn()};switch(i.supportsSidePanel?i.publishCard($t):B($t),ut??hr.none){case hr.none:_e("success"),pe(Se.subtitle.text===""?h("info.savedTimestamp",{timestamp:xc(Se.subtitle.start)}):h("info.copiedSubtitle2",{result:Se.subtitle.text})),ke(!0);break;case hr.showAnkiDialog:Zt($t);break;case hr.exportCard:case hr.updateLastCard:ie.started();let ye=Oi.fromCard($t,Ce.current.audioPaddingStart,Ce.current.audioPaddingEnd,Ce.current.recordWithAudioPlayback);ye&&Ce.current.preferMp3&&(ye=ye.toMp3(()=>new zv)),Xe({text:ba(Se.subtitle,Se.surroundingSubtitles),track1:ba(Se.subtitle,Se.surroundingSubtitles,0),track2:ba(Se.subtitle,Se.surroundingSubtitles,1),track3:ba(Se.subtitle,Se.surroundingSubtitles,2),definition:$t.definition??"",audioClip:ye,image:qf.fromCard($t,Ce.current.maxImageWidth,Ce.current.maxImageHeight),word:$t.word??"",source:`${$t.subtitleFileName} (${xc(Se.mediaTimestamp)})`,url:"",customFieldValues:$t.customFieldValues??{},tags:Ce.current.tags,mode:ut===hr.updateLastCard?"updateLast":"default"});break;default:throw new Error("Unknown post mine action: "+ut)}},[i,ie,B,Xe,Zt,h]),jt=m.useCallback(async()=>{i.supportsSidePanel?i.toggleSidePanel():(await U(),W(Se=>!Se),R(!1))},[i,U]),Ze=m.useCallback(()=>W(!1),[]),wt=m.useCallback(()=>{const Se=!b.theaterMode;b.theaterMode=Se,Y(Se),R(!1)},[b]);m.useEffect(()=>{C?document.fullscreenElement||document.documentElement.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()},[C]),m.useEffect(()=>{const Se=()=>{document.fullscreenElement||R(!1)};return document.addEventListener("fullscreenchange",Se),()=>document.removeEventListener("fullscreenchange",Se)},[]);const Nt=m.useCallback(()=>{ee(Se=>!Se)},[]),lr=m.useCallback(()=>{le(Se=>!Se),ee(!1)},[]),pr=m.useCallback(()=>{xe(!0),se(!0)},[]),wr=m.useCallback(()=>ke(!1),[]),Br=m.useCallback(()=>{se(!1),me(void 0),xe(Pe)},[Pe]),_r=m.useCallback(Se=>{Se===Ge.videoFileUrl&&(yt(ut=>(Ix(Se),{subtitleFiles:ut.subtitleFiles,videoFile:void 0,videoFileUrl:void 0})),R(!1))},[Ge]),yr=m.useCallback(async Se=>{try{const ut=Oi.fromCard(Se,r.audioPaddingStart,r.audioPaddingEnd,!1);(ut==null?void 0:ut.error)===void 0?r.preferMp3?ut.toMp3(()=>new zv).download():ut.download():He(h(ut.errorLocKey))}catch(ut){He(ut)}},[He,r.audioPaddingStart,r.audioPaddingEnd,r.preferMp3,h]),br=m.useCallback(Se=>{try{const ut=qf.fromCard(Se,r.maxImageWidth,r.maxImageHeight);ut.error===void 0?ut.download():ut.error===Ls.fileLinkLost?He(h("ankiDialog.imageFileLinkLost")):ut.error===Ls.captureFailed&&He(h("ankiDialog.imageCaptureFailed"))}catch(ut){He(ut)}},[He,r.maxImageWidth,r.maxImageHeight,h]),mr=m.useCallback((Se,ut)=>{const nt=[];for(const $t of ut)nt.find(or=>or.start===$t.subtitle.start&&or.end===$t.subtitle.end&&or.text===$t.subtitle.text)===void 0&&nt.push($t.subtitle);wc(new Blob([f.subtitlesToSrt(nt)],{type:"text/plain"}),`${Se}_MiningHistory_${new Date().toISOString()}.srt`)},[f]),Rr=m.useCallback((Se,ut)=>{if(!Vt.find(nt=>nt.name===ut)){He(h("error.subtitleFileNotOpen",{fileName:ut}));return}Me(Se)},[Vt,He,h]),Pr=m.useCallback(Se=>{Rr(Se.subtitle,Se.subtitleFileName)},[Rr]),vr=m.useCallback(Se=>{Z(Se),Q(!0),Tt(!1),xe(!0)},[]),jr=m.useCallback(()=>{Q(!1),Tt(!1),xe(!1),ie.mining&&ie.stopped()},[ie]),Hr=m.useCallback(()=>{if(st){if(!Vt.find(Se=>Se.name===st.subtitleFileName)){He(h("error.subtitleFileNotOpen",{fileName:st.subtitleFileName}));return}gt(st.subtitle),jr()}},[st,Vt,jr,He,h]),$r=m.useCallback(()=>{st&&(j({timestamp:st.subtitle.start}),jr())},[st,jr]);m.useEffect(()=>{function Se(ut){if(Ue===void 0||ut.length!==Ue.length)ct(ut);else{let $t=!1;for(let or=0;or<Ue.length;++or){const ye=Ue[or],ae=ut[or];if(ye.id!==ae.id||ye.title!==ae.title||ye.src!==ae.src||ye.faviconUrl!==ae.faviconUrl||ye.subscribed!==ae.subscribed||ye.synced!==ae.synced||ye.syncedTimestamp!==ae.syncedTimestamp||ye.faviconUrl!==ae.faviconUrl){$t=!0;break}}$t&&ct(ut)}ze&&ut.filter($t=>$t.id===ze.id&&$t.src===ze.src).length===0&&(ot(void 0),He(h("error.lostTabConnection",{tabName:ze.id+" "+ze.title})))}return i.subscribeTabs(Se)},[Ue,ze,i,He,h]);const ur=m.useCallback(Se=>{ot(Se)},[]),Sr=m.useCallback(({files:Se,flattenSubtitleFiles:ut})=>{try{let{subtitleFiles:nt,videoFile:$t}=qW(Se);if(yt(or=>{let ye;$t?(or.videoFileUrl&&Ix(or.videoFileUrl),$t&&(ye=Kv($t)),ot(void 0)):($t=or.videoFile,ye=or.videoFileUrl);const ae={subtitleFiles:nt.length===0?or.subtitleFiles:nt,videoFile:$t,videoFileUrl:ye,flattenSubtitleFiles:ut},Fe=Ve=>[...Ve.subtitleFiles,Ve.videoFile].filter(vt=>vt!==void 0),je=Fe(or),q=Fe(ae).filter(Ve=>{for(const vt of je)if(Ve===vt)return!1;return!0});return Oe(q),ae}),nt.length>0){const or=nt[0].name;tt(or.substring(0,or.lastIndexOf(".")))}}catch(nt){console.error(nt),He(nt)}},[He]),Lr=m.useCallback(async Se=>{if(Se.length!==1){He(h("error.onlyOneDirectoryAllowed"));return}const ut=Se[0].webkitGetAsEntry();if(!ut||!ut.isDirectory){He(h("error.failedToLoadDirectory"));return}const nt=ut;try{const $t=await new Promise((ae,Fe)=>nt.createReader().readEntries(ae,Fe));if($t.find(ae=>ae.isDirectory)){He(h("error.subdirectoriesNotAllowed"));return}const or=$t.map(ae=>new Promise((Fe,je)=>ae.file(Fe,je))),ye=[];for(const ae of or)ye.push(await ae);Sr({files:ye})}catch($t){He($t)}},[He,Sr,h]);m.useEffect(()=>{g&&(g.onLoadSubtitles=async Se=>{const{files:ut}=Se.body,nt=(ut??[]).map(async $t=>new File([await(await fetch("data:text/plain;base64,"+$t.base64)).blob()],$t.name));Sr({files:await Promise.all(nt)})})},[g,Sr]),m.useEffect(()=>{if(k){i.videoPlayer=!0,i.loadedSubtitles=!1,i.syncedVideoElement=void 0,i.startHeartbeat();return}async function Se(nt){if(nt.data.command==="sync"||nt.data.command==="syncv2"){const $t=(i.tabs??[]).filter(Fe=>Fe.id!==nt.tabId?!1:!nt.src||Fe.src===nt.src);if($t.length===0){nt.src?console.error("Received sync request but the requesting tab ID "+nt.tabId+" with src "+nt.src+" was not found"):console.error("Received sync request but the requesting tab ID "+nt.tabId+" was not found");return}const or=$t[0];let ye,ae=!1;if(nt.data.command==="sync"){const Fe=nt.data;ye=[new File([await(await fetch("data:text/plain;base64,"+Fe.subtitles.base64)).blob()],Fe.subtitles.name)]}else if(nt.data.command==="syncv2"){const Fe=nt.data;ye=await Promise.all(Fe.subtitles.map(async je=>new File([await(await fetch("data:text/plain;base64,"+je.base64)).blob()],je.name))),ae=Fe.flatten??!1}else{console.error("Unknown message "+nt.data.command);return}Ge.videoFileUrl&&_r(Ge.videoFileUrl),Sr({files:ye,flattenSubtitleFiles:ae}),ot(or)}else nt.data.command==="edit-keyboard-shortcuts"?(se(!0),me("keyboard-shortcuts")):nt.data.command==="open-asbplayer-settings"?se(!0):nt.data.command==="show-anki-ui"&&vr(nt.data)}const ut=i.subscribe(Se);return i.videoPlayer=!1,i.loadedSubtitles=p.length>0,i.syncedVideoElement=ze,i.startHeartbeat(),ut},[i,p,k,Ge.videoFileUrl,ze,Sr,vr,_r]),m.useEffect(()=>{if(!k)return i.subscribe(Se=>{if(Se.data.command==="jump-to-subtitle"){const ut=Se.data;Rr(ut.subtitle,ut.subtitleFileName)}})},[i,k,Rr]),m.useEffect(()=>{if(!k)return i.subscribe(Se=>{Se.data.command==="download-image"&&br(Se.data)})},[i,k,br]),m.useEffect(()=>{if(!k)return i.subscribe(Se=>{Se.data.command==="download-audio"&&yr(Se.data)})},[i,k,yr]);const Te=m.useCallback((Se,ut)=>{switch(ut){case sr.autoPause:pe(h("info.enabledAutoPause"));break;case sr.condensed:pe(h("info.enabledCondensedPlayback"));break;case sr.fastForward:pe(h("info.enabledFastForwardPlayback"));break;case sr.repeat:pe(h("info.enabledRepeatPlayback"));break;case sr.normal:Se===sr.autoPause?pe(h("info.disabledAutoPause")):Se===sr.condensed?pe(h("info.disabledCondensedPlayback")):Se===sr.fastForward?pe(h("info.disabledFastForwardPlayback")):Se===sr.repeat&&pe(h("info.disabledRepeatPlayback"));break}_e("info"),ke(!0)},[h]),ft=m.useCallback(Se=>{if(Pe)return;if(Se.preventDefault(),k){He(h("error.videoPlayerDragAndDropNotAllowed"));return}We(!1),mt.current=null;function ut(nt){var $t;for(let or=0;or<nt.length;++or)if(!(($t=nt[or].webkitGetAsEntry())!=null&&$t.isDirectory))return!1;return!0}Se.dataTransfer.items&&Se.dataTransfer.items.length>0&&ut(Se.dataTransfer.items)?Lr(Se.dataTransfer.items):Se.dataTransfer.files&&Se.dataTransfer.files.length>0&&Sr({files:Se.dataTransfer.files})},[k,He,Sr,Lr,Pe,h]),ve=m.useCallback(()=>{var ut;const Se=(ut=_t.current)==null?void 0:ut.files;Se&&Se.length>0&&(Sr({files:Se}),_t.current.value="")},[Sr]),kt=m.useCallback(()=>{var Se;return(Se=_t.current)==null?void 0:Se.click()},[]),lt=m.useCallback(async Se=>{const{id:ut,synced:nt,src:$t}=Se;if(nt){const or=await i.requestSubtitles(ut,$t);if(or!==void 0){const{subtitles:ye,subtitleFileNames:ae}=or;if(ae.length>0){const Fe=ae[0];tt(Fe.substring(0,Fe.lastIndexOf(".")));const je=ye.length>0?ye[ye.length-1].end:0;y(ye.map((q,Ve)=>({...q,displayTime:Cc(q.start,je),index:Ve}))),ot(Se)}}}else i.loadSubtitles(ut,$t)},[i]),Kt=m.useCallback(async()=>{if(Ge.subtitleFiles===void 0)return;const Se=Ge.subtitleFiles.filter(ut=>!ut.name.endsWith(".sup"));Se.length!==0&&wc(new Blob([await f.filesToSrt(Se)],{type:"text/plain"}),`${Be}.srt`)},[Be,Ge.subtitleFiles,f]),Jt=m.useCallback(Se=>{Pe||Se.preventDefault()},[Pe]),Pt=m.useCallback(Se=>{Pe||(Se.preventDefault(),Se.stopPropagation(),k||(mt.current=Se.target,We(!0)))},[k,Pe]),dr=m.useCallback(Se=>{Se.nativeEvent.preventDefault(),Se.nativeEvent.stopPropagation(),!k&&mt.current===Se.target&&We(!1)},[k]),Sn=m.useCallback(Se=>{Oe(ut=>ut==null?void 0:ut.filter(nt=>{for(const $t of Se)if($t===nt)return!1;return!0}))},[]);m.useEffect(()=>{var Se=x.get("view");if(Se==="settings"&&(se(!0),location.hash&&location.hash.startsWith("#"))){const ut=location.hash.substring(1,location.hash.length);me(ut)}},[x]),m.useEffect(()=>{var Se;Ge.videoFile&&he&&de&&Re&&((Se=O.current)==null||Se.alert(de,Re),ke(!1))},[Ge.videoFile,de,Re,he]);const pt=m.useCallback(Se=>{navigator.clipboard.write([new ClipboardItem({[Se.type]:Se})]).catch(console.error)},[]);m.useEffect(()=>_==null?void 0:_.bindToggleSidePanel(()=>{jt()},()=>Pe||!i.supportsSidePanel,!1),[i,_,jt,Pe]);const Ke=m.useCallback(async(Se,ut)=>await PP.encode(Se,()=>new zv),[]);m.useEffect(()=>{document.title=r.tabName},[r.tabName]);const{initialized:Ae}=jV({language:r.language}),bt=m.useCallback(()=>{u({ftueHasSeenAnkiDialogQuickSelectV2:!0})},[u]),Ir=!ii.isMobile&&(n==null?void 0:n.ftueHasSeenAnkiDialogQuickSelectV2)===!1;if(!Ae)return null;const zr=ht.length!==0,ir=ze===void 0&&(zr&&!T.current||Ge.subtitleFiles.length===0&&!Ge.videoFile),Ar=Ge.videoFile!==void 0&&(X&&!fe||C),Vr=L&&!C,sn=!i.installed||i.supportsLastSelectedAnkiExportModeSetting?r.lastSelectedAnkiExportMode:"default";return E.jsxs(b0,{theme:v,children:[E.jsx(LT,{}),E.jsxs("div",{onDrop:ft,onDragOver:Jt,onDragEnter:Pt,onDragLeave:dr,children:[!Ge.videoFile&&E.jsx(DP,{open:he,onClose:wr,autoHideDuration:3e3,severity:Re,children:de}),k?E.jsxs(E.Fragment,{children:[E.jsx(HW,{searchParams:x,settings:r,extension:i,miningContext:ie,ankiDialogOpen:Pe,seekRequest:D,onSettingsChanged:s,onAnkiDialogRequest:gr,onAnkiDialogRewind:$r,onError:He,onPlayModeChangedViaBind:Te}),st&&E.jsx(dC,{open:Pe,disabled:Et,card:st,anki:S,settings:r,lastSelectedExportMode:sn,onCancel:jr,onProceed:Xe,onCopyToClipboard:pt,mp3Encoder:Ke,showQuickSelectFtue:Ir,onDismissShowQuickSelectFtue:bt,...c})]}):E.jsxs(oi,{square:!0,children:[E.jsx(k6,{items:K,open:Vr,drawerWidth:I,onClose:Ze,onDelete:G,onDeleteAll:H,onClipAudio:yr,onDownloadImage:br,onDownloadSectionAsSrt:mr,onSelect:Pr,onAnki:vr}),st&&E.jsx(dC,{open:Pe,disabled:Et,card:st,anki:S,settings:r,lastSelectedExportMode:sn,onCancel:jr,onProceed:Xe,onOpenSettings:pr,onCopyToClipboard:pt,mp3Encoder:Ke,showQuickSelectFtue:Ir,onDismissShowQuickSelectFtue:bt,...c}),E.jsx(_z,{anki:S,extension:i,open:rt,onSettingsChanged:s,onClose:Br,settings:r,scrollToId:te,...c}),E.jsx(HD,{title:Be||"asbplayer",drawerWidth:I,drawerOpen:Vr,hidden:Ar,subtitleFiles:Ge.subtitleFiles,onOpenCopyHistory:jt,onDownloadSubtitleFilesAsSrt:Kt,onOpenSettings:pr}),E.jsx("input",{ref:_t,onChange:ve,type:"file",accept:".srt,.ass,.vtt,.sup,.mp3,.m4a,.aac,.flac,.ogg,.wav,.opus,.mkv,.mp4,.m4v,.avi",multiple:!0,hidden:!0}),E.jsxs(UW,{drawerWidth:I,drawerOpen:Vr,children:[E.jsxs(oi,{square:!0,style:{width:"100%",height:"100%",position:"relative"},children:[ir&&E.jsx(T6,{latestExtensionVersion:zW,extensionUrl:VW,extension:i,loading:zr,dragging:Ie,appBarHidden:Ar,videoElements:Ue??[],onFileSelector:kt,onVideoElementSelected:lt}),E.jsx(gD,{dragging:Ie,appBarHidden:Ar,logoUrl:e,loading:zr})]}),E.jsx(i9,{origin:t,subtitleReader:f,subtitles:p,settings:r,playbackPreferences:b,onCopy:Ot,onError:He,onUnloadVideo:_r,onLoaded:Sn,onTabSelected:ur,onAnkiDialogRequest:Zt,onAnkiDialogRewind:Hr,onAppBarToggle:wt,onHideSubtitlePlayer:Nt,onVideoPopOut:lr,onPlayModeChangedViaBind:Te,onSubtitles:y,onLoadFiles:kt,tab:ze,availableTabs:Ue??[],sources:Ge,jumpToSubtitle:et,rewindSubtitle:De,videoFrameRef:T,videoChannelRef:O,extension:i,drawerOpen:Vr,appBarHidden:Ar,showCopyButton:ze===void 0,videoFullscreen:C,hideSubtitlePlayer:ce||C,videoPopOut:fe,disableKeyEvents:be,miningContext:ie,keyBinder:_,webSocketClient:g})]})]})]})]})}const GW=({settingsProvider:t,onProfileChanged:e})=>{const[r,n]=m.useState([]),[i,a]=m.useState(),s=m.useCallback(()=>{t.profiles().then(n),t.activeProfile().then(f=>a(f==null?void 0:f.name))},[t]);m.useEffect(()=>{s()},[s]);const u=m.useCallback(f=>t.addProfile(f).then(()=>t.profiles().then(n)).then(()=>t.setActiveProfile(f)).then(()=>a(f)).then(()=>e()),[t,e]),c=m.useCallback(async f=>{f===i&&(await t.setActiveProfile(void 0),a(void 0),e()),t.removeProfile(f).then(()=>t.profiles().then(n))},[t,i,e]),h=m.useCallback(f=>t.setActiveProfile(f).then(()=>a(f)).then(()=>e()),[t,e]);return{profiles:r,activeProfile:i,onNewProfile:u,onRemoveProfile:c,onSetActiveProfile:h,refreshProfileContext:s}},XW=({extension:t,origin:e,logoUrl:r,settingsStorage:n,globalStateProvider:i,fetcher:a})=>{const s=m.useMemo(()=>new kI(n),[n]),[u,c]=m.useState(),[h,f]=m.useState();m.useEffect(()=>{s.getAll().then(c)},[s]);const g=m.useCallback(async S=>{c(x=>({...x,...S})),await s.set(S)},[s]),p=m.useCallback(()=>{s.getAll().then(c)},[s]),{refreshProfileContext:y,...b}=GW({settingsProvider:s,onProfileChanged:p});m.useEffect(()=>n.onSettingsUpdated(()=>{s.getAll().then(c),y()}),[t,s,n,y]),m.useEffect(()=>{i.getAll().then(f)},[i]);const v=m.useCallback(S=>{f(x=>{if(x!==void 0)return{...x,...S}}),i.set(S)},[i]);return u===void 0?null:E.jsx(KW,{origin:e,logoUrl:r,settings:u,globalState:h,extension:t,fetcher:a,onSettingsChanged:g,onGlobalStateChanged:v,...b})};class YW{constructor(e){this._settingsUpdatedCallbacks=[],this._extension=e}get(e){return this._extension.getSettings(e)}set(e){return this._extension.setSettings(e)}activeProfile(){return this._extension.activeSettingsProfile()}setActiveProfile(e){return this._extension.setActiveSettingsProfile(e)}profiles(){return this._extension.settingsProfiles()}addProfile(e){return this._extension.addSettingsProfile(e)}removeProfile(e){return this._extension.removeSettingsProfile(e)}onSettingsUpdated(e){return this._settingsUpdatedCallbacks.length===0&&(this._unsubscribeExtension=this._extension.subscribe(r=>{if(r.data.command==="settings-updated")for(const n of this._settingsUpdatedCallbacks)n()})),this._settingsUpdatedCallbacks.push(e),()=>this._unsubscribeCallback(e)}_unsubscribeCallback(e){var r;for(let n=this._settingsUpdatedCallbacks.length-1;n>=0;--n)if(e===this._settingsUpdatedCallbacks[n]){this._settingsUpdatedCallbacks.splice(n,1);break}this._settingsUpdatedCallbacks.length===0&&((r=this._unsubscribeExtension)==null||r.call(this))}}const Vv={ftueHasSeenAnkiDialogQuickSelectV2:!1};class ZW{constructor(e){this._extension=e}async getAll(){return this._extension.supportsGlobalState?this._extension.getGlobalState():this._getFromLocalStorage(Object.keys(Vv))}async get(e){return this._extension.supportsGlobalState?this._extension.getSomeGlobalState(e):this._getFromLocalStorage(e)}_getFromLocalStorage(e){try{const r={};for(const n of e){const i=localStorage.getItem(n);r[n]=i===null?Vv[n]:JSON.parse(i)}return r}catch(r){return console.error(r),Object.fromEntries(e.map(n=>[n,Vv[n]]))}}async set(e){if(this._extension.supportsGlobalState)return this._extension.setGlobalState(e);for(const r of Object.keys(e))localStorage.setItem(r,JSON.stringify(e[r]))}}const pi=new Jy,Wv="activeSettingsProfile",qv="settingsProfiles";class JW{constructor(){Il(this,"_settingsUpdatedCallbacks",[]);Il(this,"_storageListener")}async get(e){const r=this._activeProfile();return this._get(e,r)}_get(e,r){const n={},i=r===void 0?e:Rg(e,r.name);for(const[a,s]of Object.entries(i)){const u=pi.get(a),c=r===void 0?a:EI(a,r.name);u===null?n[c]=s:n[c]=Jx[c](u)}return n}async getStored(e){const r=this._activeProfile();return this._getStored(e,r)}_getStored(e,r){const n={};for(const i of e){const a=r===void 0?i:C2(i,r.name),s=pi.get(a);s!==null&&(n[i]=Jx[i](s))}return n}async set(e){const r=this._activeProfile();this._set(e,r)}_set(e,r){const n=r===void 0?e:Rg(e,r.name);for(const[i,a]of Object.entries(n))typeof a=="object"?pi.set(i,JSON.stringify(a)):pi.set(i,String(a))}async activeProfile(){return this._activeProfile()}_activeProfile(){const e=pi.get(Wv)??void 0;return e===void 0?void 0:this._profiles().find(n=>n.name===e)}async setActiveProfile(e){if(e===void 0)pi.delete(Wv);else{if(!(this._profiles().find(i=>i.name===e)!==void 0))throw new Error(`Cannot set active profile to non-existant profile ${e}`);pi.set(Wv,e)}}async profiles(){return this._profiles()}_profiles(){const e=pi.get(qv);return e===null?[]:JSON.parse(e)}async addProfile(e){const r=this._profiles(),n=r.find(s=>s.name===e),i={name:e};n===void 0&&r.push(i),pi.set(qv,JSON.stringify(r));const a=this._getStored(Object.keys(ni));this._set(a,i)}async removeProfile(e){const r=this._profiles(),n=this._activeProfile();if(e===(n==null?void 0:n.name))throw new Error("Cannot remove active profile");const i=r.filter(s=>s.name!==e),a=Object.keys(Rg(ni,e));for(const s of a)pi.delete(s);pi.set(qv,JSON.stringify(i))}onSettingsUpdated(e){return this._settingsUpdatedCallbacks.length===0&&(this._storageListener=r=>{if(r.key!==null&&r.key in ni){pi.bustCache();for(const n of this._settingsUpdatedCallbacks)n()}},window.addEventListener("storage",this._storageListener)),this._settingsUpdatedCallbacks.push(e),()=>this._unsubscribe(e)}_unsubscribe(e){for(let r=this._settingsUpdatedCallbacks.length-1;r>=0;--r)if(e===this._settingsUpdatedCallbacks[r]){this._settingsUpdatedCallbacks.splice(r,1);break}this._settingsUpdatedCallbacks.length===0&&this._storageListener!==void 0&&window.removeEventListener("storage",this._storageListener)}clear(){pi.bustCache(),localStorage.clear()}}const QW=t=>{const e=eN({component:"application"}),r=m.useMemo(()=>e.supportsAppIntegration?new YW(e):new JW,[e]),n=m.useMemo(()=>new ZW(e),[e]);return E.jsx(XW,{...t,extension:e,settingsStorage:r,globalStateProvider:n})},e7=new m2;$A.createRoot(document.querySelector("#root")).render(E.jsx(QW,{origin:location.pathname,logoUrl:`${location.pathname}/background-colored.png`,fetcher:e7}));
